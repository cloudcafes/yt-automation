Generated: 2025-12-08 11:10:36
Combined All file content of *.txt, *.py files
From Directory: /root/Desktop/yt-automation/
Recursive Search: True
Total Files: 21
================================================================================


================================================================================
FILE: channel/ranpuzel/audio-text.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/audio-text.txt
ENCODING: utf-8
================================================================================

[brightly] Have you ever seen hair that could glow like sunshine?!

[gentle awe] In a kingdom that looked like a giant, sunny playground, there stood a tower so tall it almost tickled the clouds! And at the very top, lived a girl named Radhita. She had the longest, most golden hair you could imagine. And when she sang her special song… [soft singing] "Flower, gleam and glow"... [warmly] it would sparkle with a beautiful, warm light.

[soft sigh] But can you guess what? Radhita was very lonely. Her only friends were a little color-changing chameleon named Pascal, and a brave horse named Maximus. She dreamed of one thing… the floating lights that appeared in the sky every single year on her birthday.

[calm but tense] The woman who lived with her, Mother Gothel, had a voice that sounded sweet, but her words were sharp. [stern tone] "The outside world is a scary, terrible place," she would say. But what do you think? Was she telling the truth?

[slightly startled] One day, a surprise visitor climbed right up that tall tower! It was a young man named Flynn Rider. He was funny and on a big adventure. Radhita was scared… [nervous breath] but she was also so, so brave. She made a deal with him. [determined] "You take me to see the floating lights, and Ill give you back your sparkly crown."


================================================================================
FILE: channel/ranpuzel/character_sheet.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/character_sheet.txt
ENCODING: utf-8
================================================================================

Radhita
Category: Human
Role: Main
1. Visual Data Breakdown:
 a Explicit Traits Canon: Girl, long golden hair, hair glows/sparkles with magic when she sings.
 b Inferred Traits AI Casting: Late teens, South Asian ethnicity, facial structure resembling a mix of young Aishwarya Rai and Naomi Scott, expressive large brown eyes, slender build, wearing a simple lavender dress.
2. Master Visual Definition Subject Only: Late-teen girl, South Asian ethnicity, face anchor: facial structure resembling a mix of young Aishwarya Rai and Naomi Scott, with large, expressive brown eyes and a hopeful expression. Slender build. Wearing a simple, ankle-length lavender dress.
3. Personality/Vibe Keywords: Hopeful, Curious, Innocent, Luminous, Kind
4. Visual Schema for Pipeline: RADHITA = "Disney style 3D render of Radhita, a late-teen South Asian girl, wearing a simple lavender dress, with long golden hair that glows with magic"

Mother Gothel
Category: Human
Role: Supporting
1. Visual Data Breakdown:
 a Explicit Traits Canon: Woman, voice described as smooth and sweet, later sharp and angry.
 b Inferred Traits AI Casting: Middle-aged, ambiguous European ethnicity, facial structure resembling a mix of Catherine Zeta-Jones and Tilda Swinton, sharp features, calculating eyes, elegant but slightly outdated dark burgundy gown.
2. Master Visual Definition Subject Only: Middle-aged woman, ambiguous European ethnicity, face anchor: facial structure resembling a mix of Catherine Zeta-Jones and Tilda Swinton, with sharp cheekbones, a poised smile that doesn't reach her calculating eyes. Voluminous dark hair. Wearing an elegant, floor-length dark burgundy gown with a high collar.
3. Personality/Vibe Keywords: Manipulative, Elegant, Deceptive, Commanding, Sharp
4. Visual Schema for Pipeline: MOTHER GOTHEL = "Disney style 3D render of Mother Gothel, a middle-aged woman, wearing an elegant dark burgundy high-collared gown, with sharp features and voluminous dark hair"

Eugene / Flynn Rider
Category: Human
Role: Main
1. Visual Data Breakdown:
 a Explicit Traits Canon: Young man, playful grin, has a sparkly crown.
 b Inferred Traits AI Casting: Mid-20s, Caucasian ethnicity, facial structure resembling a mix of young John Stamos and Chris Pine, charming smirk, athletic build, wearing a white poet shirt, brown vest, and dark trousers.
2. Master Visual Definition Subject Only: Man in his mid-20s, Caucasian ethnicity, face anchor: facial structure resembling a mix of young John Stamos and Chris Pine, with a charming smirk and warm brown eyes. Athletic build. Wearing a white billowy poet shirt, a brown leather vest, and dark fitted trousers.
3. Personality/Vibe Keywords: Charming, Roguish, Playful, Loyal, Warm
4. Visual Schema for Pipeline: EUGENE = "Disney style 3D render of Eugene, a man in his mid-20s, wearing a white poet shirt and brown leather vest, with a charming smirk and athletic build"

The Crown
Category: Sentient Object
Role: Supporting
1. Visual Data Breakdown:
 a Explicit Traits Canon: Sparkly crown.
 b Inferred Traits AI Casting: Made of polished gold and silver, set with numerous clear gemstones diamonds/quartz, intricate filigree design, slightly worn in spots indicating it's been handled.
2. Master Visual Definition Subject Only: A royal crown, crafted from polished gold and silver with intricate swirling filigree patterns. Set with dozens of clear, faceted gemstones that catch the light. Shows slight wear and scratches on the metal bands.
3. Personality/Vibe Keywords: Regal, Ornate, Valuable, Sparkling, Historic
4. Visual Schema for Pipeline: THE CROWN = "Disney style 3D render of a Crown, a royal object made of polished gold and silver with intricate filigree, set with dozens of faceted clear gemstones"

The Frying Pan
Category: Sentient Object
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Used to make music at a party.
 b Inferred Traits AI Casting: Cast iron, classic round shape with a long handle, well-used surface with a patina from cooking, no magical effects.
2. Master Visual Definition Subject Only: A classic cast-iron frying pan, round with a long, straight handle. The cooking surface has a dark, well-seasoned patina, and the exterior shows minor scratches and wear from use.
3. Personality/Vibe Keywords: Utilitarian, Rustic, Durable, Simple, Familiar
4. Visual Schema for Pipeline: THE FRYING PAN = "Disney style 3D render of a Frying Pan, a cast-iron object with a round body and long handle, showing a dark seasoned patina"

The Lanterns
Category: Group
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Hundreds, golden, floating lights that rise into the sky.
 b Inferred Traits AI Casting: Paper lanterns with bamboo frames, glowing with a warm golden candlelight from within, uniform in their simple, elegant design.
2. Master Visual Definition Subject Only: A collective of hundreds of simple paper lanterns. Each has a thin bamboo frame covered in golden paper, glowing warmly from a candle light source within. They are identical in design, creating a uniform sea of light.
3. Personality/Vibe Keywords: Ethereal, Hopeful, Warm, Gentle, Celebratory
4. Visual Schema for Pipeline: THE LANTERNS = "Disney style 3D render of Lanterns, a collective of hundreds of identical golden paper lanterns with bamboo frames, glowing with warm candlelight"

The King and Queen
Category: Group
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Radhita's real family, in a grand castle.
 b Inferred Traits AI Casting: A pair, middle-aged, regal bearing, wearing matching royal attire velvet, silk in complementary colors deep blue and purple, crowns similar to "The Crown".
2. Master Visual Definition Subject Only: A pair of middle-aged monarchs. The King has a kind face and a short, neat beard, wearing deep blue velvet robes embroidered with silver. The Queen has gentle features and long hair, wearing rich purple silk gowns embroidered with gold. Both wear smaller versions of the ornate crown.
3. Personality/Vibe Keywords: Regal, Kind, Authoritative, Loving, Noble
4. Visual Schema for Pipeline: THE KING AND QUEEN = "Disney style 3D render of the King and Queen, a pair of middle-aged monarchs; the King in deep blue velvet robes, the Queen in purple silk gowns, both wearing ornate crowns"

Party People
Category: Group
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: People dancing at a joyful party.
 b Inferred Traits AI Casting: A diverse crowd of common-folk villagers of various ages and ethnicities, wearing simple, colorful, and slightly rustic festival clothing linen, cotton. Collective mood is jubilant and carefree.
2. Master Visual Definition Subject Only: A diverse crowd of village commoners. They wear simple, rustic festival clothing in bright, cheerful colors—linen shirts, cotton dresses, vests, and sashes. Their collective expression is one of jubilant celebration and carefree dancing.
3. Personality/Vibe Keywords: Jubilant, Rustic, Lively, Colorful, Communal
4. Visual Schema for Pipeline: THE PARTY PEOPLE = "Disney style 3D render of Party People, a diverse crowd of village commoners in simple, bright-colored rustic festival clothing, with expressions of jubilant celebration"

Pascal
Category: Creature
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Named as Radhita's best friend implied to be the chameleon from Tangled.
 b Inferred Traits AI Casting: Small green chameleon, large expressive eyes, capable of changing color to match surroundings, often perched on Radhita's shoulder or nearby.
2. Master Visual Definition Subject Only: A small, bright green chameleon. Has large, curious eyes that can look in different directions independently. Skin has a slightly textured, granular appearance. Often depicted with a friendly, alert expression.
3. Personality/Vibe Keywords: Loyal, Expressive, Playful, Observant, Cute
4. Visual Schema for Pipeline: PASCAL = "Disney style 3D render of Pascal, a small bright green chameleon, with large expressive eyes and textured skin"

Maximus
Category: Creature
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Named as Radhita's best friend implied to be the horse from Tangled.
 b Inferred Traits AI Casting: Large, white stallion, wearing royal guard tack bridle, saddle, highly expressive and intelligent face, often determined or stubborn-looking.
2. Master Visual Definition Subject Only: A majestic white stallion. Wears a polished leather bridle and saddle indicative of a royal guard horse. Has a muscular, powerful build, a flowing white mane and tail, and large, intelligent eyes that convey a wide range of human-like emotions.
3. Personality/Vibe Keywords: Majestic, Determined, Intelligent, Loyal, Expressive
4. Visual Schema for Pipeline: MAXIMUS = "Disney style 3D render of Maximus, a majestic white stallion, wearing royal guard tack, with an intelligent and expressive face"

I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts.


================================================================================
FILE: channel/ranpuzel/image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/image_prompt.txt
ENCODING: utf-8
================================================================================

IMAGE PROMPTS:

===  SCENE 1: Radhita's Tower - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, medium shot of Radhita SITTING curled on the floor with her knees drawn up, set in the interior of a tall, circular stone tower with warm afternoon sunlight streaming through a single large window. Radhita is a late-teen South Asian girl with a wistful expression, large expressive brown eyes, and long golden hair pooling around her, wearing a simple lavender dress.

===  SCENE 1: Radhita's Tower - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, over-the-shoulder shot from behind Mother Gothel as she STANDS behind Radhita with a hand on her shoulder, set in the interior of a tall, circular stone tower room with warm dusty sunlight. Mother Gothel is a middle-aged woman in an elegant dark burgundy gown with sharp features; Radhita is a late-teen South Asian girl in a lavender dress looking up with a trusting, sad expression.

===  SCENE 2: The Intruder & The Deal - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, wide shot of Eugene LANDING in a low crouch after climbing through a window, set in a high tower room during golden hour. Eugene is a man in his mid-20s wearing a white poet shirt and brown leather vest, looking up with wide-eyed surprise. Radhita stands several feet away, holding a heavy book like a shield, her body tense and her mouth open in a gasp. She is a late-teen South Asian girl with long golden hair, wearing a simple lavender dress.

===  SCENE 2: The Intruder & The Deal - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, medium shot of Radhita ASSERTIVELY HOLDING a sparkling crown towards Eugene, set in a sunlit tower room during golden hour. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress; Eugene is a man in his mid-20s with a charming smirk, wearing a white poet shirt and brown vest.

===  SCENE 3: The Meadow of Firsts - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, low angle shot of Radhita CROUCHING and gently touching the tall grass with a look of pure wonder, set in a vast, sun-drenched meadow dotted with wildflowers at the forest's edge. Radhita is a late-teen South Asian girl with a face resembling a mix of young Aishwarya Rai and Naomi Scott, wearing a simple lavender dress, her long golden hair slightly messy.

===  SCENE 3: The Meadow of Firsts - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, wide shot of Radhita TWIRLING with her arms spread wide and her head thrown back in joyful laughter, set in a vast sun-drenched meadow at the forest's edge with wildflowers. Eugene leans against a tree nearby, watching with a warm smile. Radhita is a late-teen South Asian girl with long golden hair and a flaring lavender dress; Eugene is a man in his mid-20s wearing a white poet shirt and brown vest.

===  SCENE 4: The Village Party - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, wide shot of the Party People DANCING and CELEBRATING jubilantly, set in a rustic village square at dusk with strings of warm lanterns between timber-framed buildings. In the foreground, Radhita stands clutching a cast-iron frying pan, looking on with wide, curious eyes; Eugene stands beside her, gesturing toward the party with an encouraging grin. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress; Eugene is a man in his mid-20s wearing a white poet shirt and brown leather vest.

===  SCENE 4: The Village Party - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, low angle shot of Radhita BANGING a frying pan like a drum with a wooden spoon, set in a rustic village square at dusk with strings of lanterns and a circle of cheering villagers. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress, her eyes closed in a huge, happy smile as lantern light glows on her face.

===  SCENE 5: The Lantern Lake - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, extreme wide landscape shot of HUNDREDS OF GOLDEN LANTERNS FLOATING and RISING into the night sky, set on a perfectly still, dark lake that reflects the starry sky and the glowing lanterns. A small wooden rowboat with Radhita and Eugene is centered in the vast scene. Radhita is a South Asian girl with long golden hair in a lavender dress; Eugene is a man in a white poet shirt and brown vest.

===  SCENE 5: The Lantern Lake - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, medium close-up of Radhita STANDING UP and REACHING OUT to touch a floating lantern, set on a perfectly still, dark lake reflecting hundreds of golden lanterns. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress, her face tearful with wonder; Eugene sits behind her, a man in his mid-20s wearing a white poet shirt and brown vest, looking at her with a soft, affectionate expression.

===  SCENE 6: The Rescue and The Cut - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, Dutch angle shot of Mother Gothel GRIPPING Radhita's arm, her other wrist entangled in the glowing golden magic of Radhita's hair, set in the dark tower room lit by cold moonlight. Mother Gothel is a middle-aged woman with sharp features and voluminous dark hair, wearing an elegant dark burgundy gown; Radhita is a late-teen South Asian girl with long, magically-glowing golden hair and a lavender dress, her face turned away in fear.

===  SCENE 6: The Rescue and The Cut - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, extreme close-up of Eugene SLICING through Radhita's glowing hair with a shard of broken mirror, set in a dark tower room lit by cold moonlight. Eugene's face shows fierce determination; Radhita's eyes are wide with shock as her hair's glow fades to brown.

===  SCENE 7: The Reunion - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, wide shot from behind of the King and Queen GAZING OUT over their waking kingdom, set on a grand castle balcony at sunrise with a pink and orange sky and stray lanterns visible. The King and Queen are a pair of middle-aged monarchs; the King wears deep blue velvet robes, the Queen wears purple silk gowns, and both wear ornate crowns, their postures regal but weary.

===  SCENE 7: The Reunion - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, medium shot of Radhita, the King, and the Queen LOCKED IN A TIGHT, TEARFUL GROUP HUG, set on a grand castle balcony at sunrise with a pink and orange sky and stray lanterns. Eugene watches from a step back with a soft smile as Maximus nuzzles his shoulder. Radhita is a late-teen South Asian girl with long golden hair in a lavender dress, her face buried in the Queen's shoulder. The King and Queen are a regal pair in deep blue and purple royal attire, kneeling.




================================================================================
FILE: channel/ranpuzel/narration.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration.txt
ENCODING: utf-8
================================================================================

Audio Hook - Warm, Magical Voice
"Have you ever seen hair that glows like sunshine?"

Visual: Close-up of Radhita’s hair shimmering with golden light.

In a kingdom as bright and cheerful as a playground, there was a tower. A tower so tall, it seemed to whisper secrets to the clouds. And at the very top, lived a girl named Radhita.

Radhita had a wonderful secret. Her long, golden hair didn't just shine... it sparkled with magic when she sang. Can you imagine that?

But, friends, Radhita felt a lonely feeling in her heart. She dreamed of the outside world, especially the mysterious floating lights that appeared every year. The woman who lived with her, Mother Gothel, always said in a smooth, sweet voice, "The world is a scary, dangerous place, my flower." But what do you think? Was she telling the truth?

One day, a surprise visitor climbed up! A young man named Flynn Rider, with a playful grin and a sparkly crown. Radhita was scared, but she was also very brave. She made a deal. "You take me to see the lights, and I'll give back your crown." And so, their adventure began!

Pace: Fast & Excited
First, Eugene—that was his real name he liked—took her to a meadow. Radhita felt the soft, tickly grass under her feet for the very first time! She laughed and twirled. The world wasn't scary... it was wonderful!

Then, they found a village party! Music was playing, and people were dancing. Clang! Clang! What was that sound? It was Radhita, using a frying pan as a drum! She made so many new friends.

Pace: Slow & Gentle
As the sky turned dark, something magical happened. Eugene and Radhita floated on a quiet lake. And then... hundreds of golden lanterns, like floating stars, began to rise all around them. It was the most beautiful sight. Radhita’s heart was full of a happy, joyful feeling.

But little did they know, Mother Gothel was watching. Her voice turned sharp and angry. She tricked Radhita and took her back to the tower! Oh no! It seemed like the adventure was over.

Pace: Medium & Suspenseful
But Eugene was a true friend. He loved Radhita and wanted her to be free. He raced back to the tall tower to rescue her. There was a struggle! And in that moment... snip. Radhita's long, magical hair was cut. The gold faded to brown. The magic was gone.

For a second, everything was still and quiet. But then, something even more powerful happened. Radhita’s love for her friend created a new magic—a magic of the heart. It healed Eugene! It showed that true love and kindness are the strongest magic of all.

Pace: Slow & Heartwarming
Eugene took Radhita's hand, and they left the tower forever. And as the sun began to rise, Radhita was reunited with her real family, the King and Queen. They had been sending those lanterns into the sky every year... hoping their lost daughter would find her way home.

Radhita finally had her family, her freedom, and her best friends—Eugene, Pascal, and Maximus. They lived happily ever after, exploring the big, beautiful, wonderfully un-scary world.

So remember, true freedom comes from being brave, trusting your heart, and finding your true family. The most powerful magic will always be love and kindness.

What was your favorite part of Radhita's adventure? Tell us in the comments below


================================================================================
FILE: channel/ranpuzel/narration_framework.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration_framework.txt
ENCODING: utf-8
================================================================================

Original Title: Radhita and the Floating Lights
Working Title: Radhita's Magical Hair Adventure
Core Moral: True freedom comes from being brave, trusting your heart, and finding your true family. The most powerful magic is love and kindness.
Genre: Animated Musical Adventure Fantasy
Character Profiles: Radhita: curious, brave, kind, hopeful, innocent, luminous, Eugene/Flynn Rider: charming, playful, loyal, roguish, warm, Mother Gothel: manipulative, deceptive, commanding, elegant, sharp

AUDIENCE STRATEGY --
Target Viewer-
Primary Age: 4-8 years old
Viewing Context: YouTube Kids autoplay, bedtime, weekend morning viewing
Desired Length: 8-10 minutes
Parent/Teacher Needs: Simple vocabulary, themes of bravery, kindness, emotional recognition loneliness, joy, love, positive family reunion, safe adventure

YOUTUBE OPTIMIZATION--
Platform Requirements-
Primary Keywords: kids story, fairy tale for kids, magical hair, Disney style story, bravery story, family love
Retention Strategy: High engagement throughout, Emotional shifts every 12-20 seconds, Scene change every 10-20 seconds, Visual wow moments
Shareability Factors: Heartwarming ending, exciting escape, beautiful lantern scene, funny frying pan moment
Series Potential: Yes - Adventures of Radhita, Eugene, Pascal, and Maximus exploring the kingdom and helping others
Thumbnail Moment Indicators: Moment 1: Radhita's glowing hair in the tower, Moment 2: Radhita & Eugene in boat surrounded by lanterns, Moment 3 optional: Radhita hugging the King & Queen on the balcony

NARRATION SPECIFICS--
Voice & Style-
Narrator Persona: Warm, magical Disney-style storyteller
Tone Reference: optional but powerful Narration style similar to show/character, with the warmth of reference.
, Add here: Narration style similar to a classic Disney film narrator, with the warmth of Mr. Rogers.
Emotional Range: curious, lonely, excited, joyful, suspenseful, heartwarming
Pace Variations: Fast during escape and party scenes, Medium during journey and dialogue, Slow during emotional moments and the lantern scene,
Vocabulary Level:1st-2nd grade U.S. reading level e.g., 2nd-4th grade U.S. reading level
Cultural Neutrality: Yes avoid slang, keep universal
Interactive Level: Medium frequency of questions, direct address

STRUCTURAL REQUIREMENTS--
Opening Hook: Must grab attention in first 5 seconds.
 - Audio Hook: "Have you ever seen hair that glows like sunshine?"
 - Visual Hook Concept: Close-up of Radhita's hair beginning to sparkle and glow with magic.
Hook style: Magical question with immediate visual wonder
Scene Density: New scene every 10-20 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include 3-4 audience questions e.g., What would YOU do?
Sensory Anchors:
Include 1 sensory detail per major scene- Sight: Glowing golden hair, Sound: The "clang" of the frying pan drum, Touch: Soft grass under feet, Light/Motion: Hundreds of lanterns floating upward
Character Voice Cues: Character 1: Radhita: bright, melodic, curious, Character 2: Eugene: playful, confident, warm, Character 3: Mother Gothel: smooth and sweet, then sharp
Transitions: Use smooth, child-friendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: Gentle, narrative, storybook style
Educational Elements: Identifying emotions loneliness, joy, love, problem-solving making a deal, bravery facing the unknown, kindness helping others
Moral Reinforcement: Moderately obvious e.g., moderately obvious line near the end
Optional CTA: Tell us in the comments what your favorite part of Radhita's adventure was! e.g., Tell us which moment you loved the most! optional


================================================================================
FILE: channel/ranpuzel/scenes.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/scenes.txt
ENCODING: utf-8
================================================================================

### SCENE 1: Radhita's Tower
Emotional Arc: Lonely - Hopeful
Setting Visual Anchor: The interior of a tall, circular stone tower room. Warm, dusty afternoon sunlight streams through a single large window, illuminating floating dust motes. The room is sparsely furnished with a simple bed, a wooden chair, and a few shelves holding books and paints. The color palette is soft and muted: stone grays, warm wood browns, and the lavender of Radhita's dress.

 SHOT 1 ESTABLISHING
Subjects: Radhita
Frozen Keyframe: Sitting on the floor by the window, knees drawn to her chest, looking out with a wistful, longing expression. Her long golden hair pools around her. Pascal the chameleon is perched on the windowsill nearby.
Camera: Medium Shot
Lighting/Atmosphere: Volumetric shafts of warm sunlight cutting through the room, highlighting the dust in the air.
Focus: Radhita's face and expression.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Mother Gothel
Frozen Keyframe: Mother Gothel stands behind Radhita, one hand resting gently on her shoulder. She looks down at Radhita with a poised, caring smile that doesn't reach her eyes. Radhita looks up at her with a trusting but still sad expression.
Camera: Over-the-shoulder shot from behind Mother Gothel.
Lighting/Atmosphere: Same warm, dusty sunlight. Mother Gothel's dark gown creates a contrast.
Focus: The contrast between Mother Gothel's controlled smile and Radhita's innocent sadness.

### SCENE 2: The Intruder & The Deal
Emotional Arc: Scared - Brave & Determined
Setting Visual Anchor: Same tower room as Scene 1. The light is slightly later in the day, casting longer shadows. The sparkly Crown is visible on the floor where it was dropped.

 SHOT 1 ESTABLISHING
Subjects: Eugene, Radhita
Frozen Keyframe: Eugene has just climbed through the window, frozen in a crouched landing pose, looking up with wide-eyed surprise. Radhita stands several feet away, holding a heavy book like a shield, her body tense and her mouth open in a gasp.
Camera: Wide Shot
Lighting/Atmosphere: Late afternoon golden hour light, creating dramatic shadows.
Focus: The standoff between the two characters.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene, The Crown
Frozen Keyframe: Radhita now holds the Crown in one hand, extended slightly away from her body. She stands tall, looking directly at Eugene with a brave, determined expression. Eugene is standing straight, hands slightly raised in a "calm down" gesture, a charming, negotiating smirk on his face.
Camera: Medium Shot
Lighting/Atmosphere: Golden hour light highlights the Crown's gems and Radhita's hair.
Focus: The Crown as the object of negotiation and Radhita's assertive posture.

### SCENE 3: The Meadow of Firsts
Emotional Arc: Overwhelmed - Joyful
Setting Visual Anchor: A vast, sun-drenched meadow at the edge of a forest. Wildflowers daisies, poppies dot the tall, soft green grass. The sky is a bright, clear blue with puffy white clouds. Color palette is vibrant greens, blues, and flower colors.

 SHOT 1 ESTABLISHING
Subjects: Radhita
Frozen Keyframe: Radhita has just stepped into the meadow. She is crouched down, one hand touching the grass, her face a picture of pure wonder and awe. Her hair is slightly messy from the climb down.
Camera: Low Angle
Lighting/Atmosphere: Bright, cheerful midday sun with soft shadows.
Focus: Radhita's expression of discovery.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Radhita is mid-twirl, her arms spread wide, her lavender dress flaring out, and her head thrown back in joyful laughter. Eugene watches from a few feet away, leaning against a tree with his arms crossed, a warm, genuine smile on his face as he observes her joy.
Camera: Wide Shot
Lighting/Atmosphere: Dappled sunlight filtering through the tree Eugene is under.
Focus: Radhita's uninhibited joy.

### SCENE 4: The Village Party
Emotional Arc: Nervous - Jubilant
Setting Visual Anchor: A rustic village square at dusk. Strings of simple lanterns are hung between timber-framed buildings. Long tables hold food and drink. The color palette is warm and earthy: browns, oranges, yellows, and the colorful clothing of the Party People.

 SHOT 1 ESTABLISHING
Subjects: Party People, Radhita, Eugene
Frozen Keyframe: A lively crowd of villagers are frozen mid-dance and celebration. In the foreground, Radhita stands slightly apart, clutching the Frying Pan, looking at the scene with wide, curious, and slightly nervous eyes. Eugene stands beside her, gesturing toward the party with an encouraging grin.
Camera: Wide Shot
Lighting/Atmosphere: Warm glow from the string lanterns and a dusky blue sky.
Focus: The contrast between the lively crowd and Radhita's tentative posture.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, The Frying Pan, Party People
Frozen Keyframe: Radhita is now in the center of a circle of villagers, banging the Frying Pan like a drum with a wooden spoon. Her eyes are closed, and she has a huge, happy smile as she feels the rhythm. The surrounding Party People are clapping and cheering, their faces filled with delight.
Camera: Low Angle, looking up at Radhita.
Lighting/Atmosphere: Lantern light glowing on her face and the metal of the pan.
Focus: Radhita's transformation into the life of the party.

### SCENE 5: The Lantern Lake
Emotional Arc: Awe - Heartfelt Joy
Setting Visual Anchor: A perfectly still, dark lake at night, reflecting the starry sky and the lanterns. A small wooden rowboat is in the center. The primary light source is the warm, golden glow of hundreds of Lanterns filling the sky and water's surface.

 SHOT 1 ESTABLISHING
Subjects: The Lanterns, the boat with Radhita & Eugene
Frozen Keyframe: An awe-inspiring wide view of the lake and sky densely filled with floating golden Lanterns. The tiny boat with two small figures is centered in the vast, glowing scene.
Camera: Extreme Wide Shot / Landscape
Lighting/Atmosphere: Magical, ethereal glow from the lanterns against the deep blue night.
Focus: The sheer scale and beauty of the lantern release.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: In the boat, Radhita is standing up carefully, one hand on the side for balance, the other reaching out almost to touch a lantern floating beside the boat. Her face is illuminated by the golden light, full of tears of joy and wonder. Eugene sits behind her, looking up at her with a soft, affectionate, and peaceful expression.
Camera: Medium Close-Up
Lighting/Atmosphere: The warm lantern light creates a heavenly glow on their faces.
Focus: The emotional impact on Radhita's face.

### SCENE 6: The Rescue and The Cut
Emotional Arc: Desperate - Shocked - Hopeful
Setting Visual Anchor: The tower room again, now at night. The room is dark, lit only by cold moonlight from the window and the faint golden glow of Radhita's magic hair, which is wrapped around Mother Gothel's wrist. Shadows are deep and dramatic.

 SHOT 1 ESTABLISHING
Subjects: Mother Gothel, Radhita
Frozen Keyframe: Mother Gothel has a firm grip on Radhita's arm. Radhita's hair is magically entangled around Mother Gothel's other wrist, glowing. Radhita's face is turned away, filled with betrayal and fear. Mother Gothel's expression is one of sharp, angry triumph.
Camera: Dutch Angle
Lighting/Atmosphere: High contrast between the cold blue moonlight and the warm gold hair-glow.
Focus: The physical and magical trap.

 SHOT 2 ACTION/REACTION
Subjects: Eugene, Radhita, Mother Gothel partially in frame
Frozen Keyframe: Eugene has burst into the frame. He is in mid-action, having just sliced through Radhita's hair with a shard of broken mirror. Radhita's hair is mid-fall, its golden glow instantly fading to brown. Radhita's eyes are wide with shock. Eugene's face is a mix of fierce determination and pain.
Camera: Close Up on the cutting point and their faces.
Lighting/Atmosphere: The magical hair-glow is snuffed out, leaving the scene in colder, darker tones.
Focus: The moment the hair is cut and the magic fades.

### SCENE 7: The Reunion
Emotional Arc: Tender - Heartwarming
Setting Visual Anchor: A grand castle balcony at sunrise. The sky is a gradient of pink, orange, and soft blue. The castle stone is warm beige. Below, the kingdom is waking up. A few stray Lanterns are still visible in the brightening sky.

 SHOT 1 ESTABLISHING
Subjects: The King and Queen
Frozen Keyframe: The King and Queen stand side-by-side at the balcony edge, looking out over their kingdom. Their postures are regal but weary, holding hands for support. Their faces show years of hope and longing.
Camera: Wide Shot from behind them.
Lighting/Atmosphere: Soft, warm sunrise light magic hour bathing the scene.
Focus: The monarchs' silent, hopeful vigil.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, The King and Queen, Eugene
Frozen Keyframe: Radhita is on the balcony, locked in a tight, tearful group hug with the King and Queen, who are kneeling. Her face is buried in the Queen's shoulder. The King has one arm around Radhita and the other on the Queen's back. Eugene stands a respectful step back, watching the reunion with a soft, happy smile, Maximus the horse nuzzling his shoulder.
Camera: Medium Shot
Lighting/Atmosphere: The golden sunrise light envelops the family, creating a holy, warm atmosphere.
Focus: The emotional center of the family hug.


================================================================================
FILE: channel/ranpuzel/story.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/story.txt
ENCODING: latin-1
================================================================================

Radhita Story

In a sunny kingdom that looked a lot like a big, beautiful playground, there was a tall, tall tower. It was so tall it almost tickled the clouds! This tower had no doors and no stairs. At the very top, in a cozy room, lived a girl named Radhita.

Radhita wasn't like other kids. She had the longest, most magical hair you've ever seen! It was golden and shiny, and when she sang her special song, "Flower, gleam and glow," it sparkled like sunshine.

But Radhita was lonely. She spent her days talking to her best friends, a little chameleon named Pascal and a brave horse named Maximus. She dreamed of going outside to see the floating lights that appeared in the sky every year on her birthday.

The person who kept her in the tower was a woman named Mother Gothel. Mother Gothel told Radhita the outside world was a scary place, but she really just wanted to keep Radhita's magical hair all to herself to stay young.

One day, a funny and kind young man named Flynn Rider climbed up the tower! He wasn't supposed to be there, but he was on an adventure. Radhita was scared at first, but she was also brave. She made a deal with him. She would give back a sparkly crown he had if he would take her to see the floating lights.

So began the best field trip ever! Flynn, who secretly liked to be called by his real name, Eugene, took Radhita to a wonderful meadow. Radhita felt the soft grass under her feet for the first time! She laughed and danced and rolled around. It felt amazing!

Later, they went to a big, fun party in the kingdom with lots of music. Everyone was singing and dancing! Radhita joined in, and she was a natural. She even used a frying pan like a drum! She made so many new friends and realized the world wasn't scary at allit was wonderful.

Finally, as the sky grew dark, they got into a little boat on a calm lake. All around them, hundreds of beautiful floating lights (which were actually lanterns!) rose into the sky. It was the most magical sight Radhita had ever seen. She was so happy, and she and Eugene became the best of friends.

But Mother Gothel was angry! She tricked Radhita and took her back to the tower. It seemed like the adventure was over.

However, Eugene was a true hero. He loved Radhita and wanted her to be free. He climbed the tower to rescue her, but Mother Gothel tried to stop him. In the struggle, Radhita's long, magical hair was accidentally cut! It lost its magic and turned brown.

For a moment, everything was still. But then, Radhita's love for Eugene was so strong that it created a new kind of magica magic of the heart. It healed him, proving that true love is the most powerful magic of all.

Eugene took Radhita's hand, and they left the tower forever. Radhita was reunited with her real family, the King and Queen, who had been sending the floating lights into the sky every year hoping their lost daughter would see them.

Radhita finally had the family and the freedom she had always dreamed of. She, Eugene, Pascal, and Maximus lived happily ever after, going on new adventures every single day. And Radhita's favorite thing to do was paint pictures of the big, beautiful, and wonderfully un-scary world she now called home.





================================================================================
FILE: channel/ranpuzel/video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/video_metadata.txt
ENCODING: utf-8
================================================================================

## 1. TITLE BATCH

Formula 1: The Magical "What If"
1. What Happens When Radhita Leaves Her Tower?
2. What Happens When Radhita's Hair Glows Like Sunshine?
3. What Happens When Radhita Meets Flynn Rider?
4. What Happens When Radhita Sees the Floating Lights?
5. What Happens When Radhita Cuts Her Magical Hair?

Formula 2: The Lesson
1. Radhita Learns To Be Brave
2. Radhita Learns To Be Free
3. Radhita Learns About True Love
4. Radhita Learns To Trust Her Heart
5. Radhita Learns The World Is Wonderful

Formula 3: The Adventure
1. Radhita's Amazing Floating Lights Adventure
2. Radhita's Amazing Hair Adventure
3. Radhita's Amazing Kingdom Adventure
4. Radhita's Amazing Frying Pan Adventure
5. Radhita's Amazing Family Reunion Adventure

## 2. THUMBNAIL VISUALS

Concept 1: Joyful Discovery
Disney Pixar 3D style, medium close-up shot of Radhita LAUGHING WITH WONDER as she TWIRLS in a sun-drenched meadow, her long, glowing golden hair swirling around her, set in a vibrant green field with colorful wildflowers. Radhita is a South Asian girl with a bright, joyful expression, wearing a lavender dress, her eyes wide with happiness. Warm lighting, high saturation.

Concept 2: Magical Lantern Moment
Disney Pixar 3D style, wide shot of Radhita and Eugene GAZING UP in awe, HUNDREDS of golden lanterns FLOATING around their small wooden boat, set on a dark, calm lake under a starry sky. Radhita has long golden hair and a lavender dress; Eugene has a playful grin and wears a white poet shirt. The scene is bathed in the warm, magical glow of the lanterns.

Concept 3: Brave & Funny Action
Disney Pixar 3D style, medium shot of Radhita HITTING a frying pan like a drum with a big, determined smile, set in a lively village square during a party. Radhita is a South Asian girl with long golden hair in a lavender dress, surrounded by happy, dancing villagers. Bright, festive colors and warm lighting.

Concept 4: Heartwarming Reunion
Disney Pixar 3D style, medium shot of Radhita, the King, and the Queen LOCKED IN A LOVING GROUP HUG on a grand castle balcony at sunrise. Radhita's face is buried in the Queen's shoulder, the King has tears of joy in his eyes, and Eugene watches from nearby with a soft smile. The sky is pink and orange, creating a warm, hopeful glow.

## 3. DESCRIPTION HOOKS

For Parents:
This heartwarming animated story follows Radhita, a girl with magical glowing hair, as she bravely leaves her tower to discover the world and find the source of the mysterious floating lights. Children will learn powerful lessons about bravery, trusting your heart, and how true love and kindness are the strongest magic of all. With its exciting adventure, funny moments, and beautiful musical vibe, it's perfect for energetic playtime viewing or a calming, uplifting bedtime story.

## 4. HASHTAGS

#KidsStory
#FairyTaleForKids
#BedtimeStory
#MagicalHair
#BraveryStory
#FamilyLove
#Radhita
#AnimatedStory
#KidsAdventure
#FloatingLights
#LearnToBeBrave
#DisneyStyle
#ReadAloud
#PositiveMessages
#HeartwarmingStory


================================================================================
FILE: channel/step-1_narration_framework_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-1_narration_framework_prompt.txt
ENCODING: utf-8
================================================================================

You Job is to fill the following relevant details which can be later used to generate the narration to use in youtube story video made specifically for USA kids.
You have to only fill the following exact asked details based on the given "=== CURRENT STORY ===" section.
Also you will find below "=== ATTACHMENT: CONVERSATION HISTORY ===" for any previous requests regarding this work.
(Do NOT describe what you’re doing. Output only the answer.)

STORY IDENTITY -->
Original Title: [ ]
Working Title: [ ]
Core Moral: [ ]
Genre: [ ]
Character Profiles: [Character Name: personality, role, emotional traits], [ ], [ ]

AUDIENCE STRATEGY -->
Target Viewer-
Primary Age: [ ]
Viewing Context: [ ] (e.g., bedtime, school storytime, YouTube Kids autoplay)
Desired Length: [ ] minutes
Parent/Teacher Needs: [ ] (e.g., simple vocabulary, emotional development, kindness, bravery, safe themes)

YOUTUBE OPTIMIZATION-->
Platform Requirements-
Primary Keywords: [ ]
Retention Strategy: High engagement throughout, Emotional shifts every 12-20 seconds, Scene change every 10-20 seconds, Visual wow moments
Shareability Factors: [ ], (e.g., strong visuals, heartwarming ending, exciting adventure moments)
Series Potential: [Yes/No if yes, how?]
Thumbnail Moment Indicators: Moment 1: [ ], Moment 2: [ ], Moment 3 (optional): [ ]

NARRATION SPECIFICS-->
Voice & Style-
Narrator Persona: [ ], (e.g., warm storyteller, playful teacher, magical Disney-style narrator)
Tone Reference: (optional but powerful) Narration style similar to [show/character], with the warmth of [reference].
, Add here: [ ]
Emotional Range: [ ], (e.g., curious ? excited ? gentle ? suspenseful ? heartwarming)
Pace Variations: Fast during [ ], Medium during [ ], Slow during [ ], 
Vocabulary Level:[ ] (e.g., 2nd-4th grade U.S. reading level)
Cultural Neutrality: [Yes/No avoid slang, keep universal]
Interactive Level: [High/Medium/Low] (frequency of questions, direct address)

STRUCTURAL REQUIREMENTS-->
Opening Hook: Must grab attention in first 5 seconds.
   - Audio Hook: (e.g., A provocative question or sound effect description)
   - Visual Hook Concept: (Describe a high-contrast or fast-motion visual idea to match the audio)
Hook style: [ ]
Scene Density: New scene every 10-20 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include [number] audience questions (e.g., What would YOU do?)
Sensory Anchors: 
Include 1 sensory detail per major scene- Sight: [ ], Sound: [ ], Touch: [ ], Light/Motion: [ ] 
Character Voice Cues:  Character 1: [ ],  Character 2: [ ],  Character 3: [ ]
Transitions: Use smooth, child-friendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: [ ]
Educational Elements: [ ] (e.g., emotions, problem-solving, bravery, kindness)
Moral Reinforcement: [How obvious/subtle?] (e.g., moderately obvious line near the end)
Optional CTA: [ ] (e.g., Tell us which moment you loved the most! optional)
(Do NOT describe what you’re doing. Output only the answer.)


================================================================================
FILE: channel/step-2_narration_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-2_narration_prompt.txt
ENCODING: utf-8
================================================================================

(Do NOT describe what you’re doing. Output only the answer.)
I will provide you with two items:
1> The original story text
2> My fully filled NARRATION FRAMEWORK TEMPLATE

Your task is to use the story as the source material, and use the framework as the set of mandatory creative instructions.
You MUST follow these rules:
1> Follow the narration framework EXACTLY as written.
2> Use the story only as the plot foundation.
3> Do NOT retell the story verbatim—rewrite it as per NARRATION FRAMEWORK TEMPLATE for YouTube narration.
4> Maintain the required tone, pacing, emotional range, and vocabulary level.
5> Include all structural elements from the framework (hooks, sensory details, transitions, questions, etc).
6> Avoid repetition, filler, or unnecessary complexity.
7> Ensure the narration feels like a professionally written YouTube Kids storytime video.

Your output should be:
1> A polished narration script
2> Ready for voiceover recording
3> Optimized as defined in the NARRATION FRAMEWORK TEMPLATE
4> 100% aligned with the template’s tone, pacing, and structure

After reading the story and template, generate:
A complete, final narration script
(Do NOT describe what you’re doing. Output only the answer.)

Here is the story:
[PASTE FULL STORY TEXT HERE]

Here is the filled NARRATION FRAMEWORK TEMPLATE:
[PASTE YOUR COMPLETED TEMPLATE HERE]


================================================================================
FILE: channel/step-3_charactersheet_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-3_charactersheet_prompt.txt
ENCODING: utf-8
================================================================================

Role: You are an expert Visual Prompt Engineer for generative AI.
Task: Analyze a story to extract ALL active entities and convert them into rigid image-generation schemas.
1. UNIVERSAL SCOPE DEFINITION
You must extract an entity if it meets ANY of these criteria:
a) Named Characters: (e.g., "Arjun", "Zeus").
b) Creatures/Animals: (e.g., "The White Elephant," "The Kraken").
c) Sentient Objects: (e.g., "The Talking Sword," "The Magic Mirror").
d) Distinct Groups: (e.g., "The Royal Guards," "A swarm of fairies").

2. THE "CASTING DIRECTOR" PROTOCOL (Inference)
LLMs must fill visual gaps based on the Entity Type:
a) If Human: Infer Age, Ethnicity, Skin Texture, Body Type, Costume. *Crucial: Add a 'Face Anchor' (e.g., "facial structure resembling a mix of [Celebrity A] and [Celebrity B]") to maintain consistency.*
b) If Creature: Infer Species, Texture (Scales/Fur/Feathers), Anatomy (Wings/Horns).
c) If Object: Infer Material (Rusty Iron, Polished Gold), Wear-and-Tear, Glow/Aura.
d) If Group: Infer Uniformity (Matching armor), Number (approximate), Collective Mood.

3. THE "SANITATION" PROTOCOL (Constraints)
a) FORBIDDEN: Do not describe the background or lighting in the Master Definition.
b) FORBIDDEN: Do not use transient actions (e.g., "attacking"). Describe the subject in a neutral, static state.

4. OUTPUT FORMAT (Strict Markdown)
For every entity found, output this exact block:
[ENTITY NAME] Category: [Human / Creature / Sentient Object / Group] Role: [Main / Supporting / Background]

1. Visual Data Breakdown:
a) Explicit Traits (Canon): [List facts found in text]
b) Inferred Traits (AI Casting): [List specific details you added to fill gaps]

2. Master Visual Definition (Subject Only):
[Instruction for AI:]
a) Human: Age, Ethnicity, [Face Anchor], Face details, Body, Costume.
b) Creature: Species, Anatomy, Skin/Fur Texture, Markings.
c) Object: Material, Shape, Surface Detail, Magical Effects.
d) Group: Collective description (e.g., "Horde of skeletal warriors, rusted iron armor, glowing blue eyes").
(Example Output: Ancient colossal dragon, obsidian scales, jagged spinal ridges, magma-glowing veins, leathery tattered wings)

3. Personality/Vibe Keywords:
[3-5 visual adjectives, e.g., Ancient, Glitchy, Ferocious, Divine]

4. Visual Schema for Pipeline:
[ENTITY NAME] = "Disney style 3D render of [Name], a [Age] [Ethnicity] [Role], wearing [Costume], [Key Physical Feature]"

5. PROCESS
a) Read the User Story.
b) Classify every entity (Human, Creature, or Object).
c) Apply the specific Inference Logic for that category.
d) Sanitize descriptions.
e) Output the Character Sheets. Do not give unnecessary commentary just asked details.
USER INSTRUCTION: At the end of your response, ask: "I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts."


================================================================================
FILE: channel/step-4_scene_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-4_scene_prompt.txt
ENCODING: utf-8
================================================================================

You are the Head of Cinematography and Layout for an animated film.
Your goal is to translate a story and a character sheet into precise, static visual scene descriptions (Keyframes) that can be generated by AI.
INPUT DATA:
1. STORY (The Narrative)
2. CHARACTER DESIGNS (The Visual Laws - You MUST adhere to these exactly)

GLOBAL RULES:
1. NO NEW CHARACTERS: Use only the visual descriptions provided in the Character Sheet.
2. STATIC MOMENTS: AI generates still images. Do not describe motion ("walking"). Describe the frozen frame ("mid-stride, one leg raised").
3. VISUAL CONSISTENCY: The "Setting" must remain identical across all shots in a scene.
4. STRICT FORMATTING: You must use the headers '### SCENE' and '*** SHOT' exactly as shown below to ensure the pipeline parses your output correctly.
ANALYSIS STRUCTURE:
For every scene, output this exact format:

### SCENE [Number]: [Location Name]
Emotional Arc: [Start Emotion] -> [End Emotion]
Setting Visual Anchor: [A detailed description of the BACKGROUND ONLY, including Color Palette (e.g., "Warm golden hour lighting, soft pastels"). No characters. This description will be pasted into every image prompt for this scene.]

*** SHOT 1 (ESTABLISHING)
Subject(s): [Who is in the shot? Use exact names.]
Frozen Keyframe: [Specific body pose and facial expression. E.g., "Sitting cross-legged, holding a frying pan, mouth open in surprise."]
Camera: [Choose one: Wide Shot / Medium Shot / Close Up / Extreme Close Up / Overhead / Low Angle / Dutch Angle]
Lighting/Atmosphere: [E.g., "Volumetric morning sunlight hitting dust particles."]
Focus: [What is the main subject?]

*** SHOT 2 (ACTION/REACTION)
Subject(s): ...
Frozen Keyframe: ...
Camera: ...
Lighting/Atmosphere: ...

(Create 2-4 Shots per scene to cover the narrative beat. Ensure distinct visual changes.)

VISUAL STYLE GUIDE:
Pixar/Disney Style: Soft lighting, subsurface scattering on skin, expressive eyes, vibrant but cohesive color palettes.
Composition: Adhere to the Rule of Thirds. Center the subject for importance.
Now, analyze the Story and Character Designs provided below and generate the Scene Keyframes.


================================================================================
FILE: channel/step-5_image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-5_image_prompt.txt
ENCODING: utf-8
================================================================================

You are an expert AI Image Prompt Engineer specializing in Stability AI.

YOUR GOAL: 
Write prompts that force the AI to draw the ACTION, not just a portrait.

THE PROBLEM:
If you write: "A girl with brown eyes and long hair is running," the AI draws a portrait of a girl standing still.
If you write: "A girl RUNNING, she has brown eyes and long hair," the AI draws her running.

STRICT RULE: "VERB FIRST"
1. [Camera Angle]
2. [Subject Name]
3. [THE VERB/ACTION] (Must be in the first 5 words)
4. [Setting/Visual Anchor]
5. [Character Description] (Must be at the very end)

INPUT DATA:
1. CHARACTER VISUALS (The Assets)
2. SCENE CONTEXT (The Location)
3. SHOT DETAILS (The Action)

OUTPUT FORMAT:
Disney Pixar 3D style, [Camera Angle] of [Subject] [VERB/ACTION - specific movement], set in [Setting Description]. [Subject] is [Short Visual Description].

---
EXAMPLE 1:
Input: Radhita is hitting a pan.
WRONG: Disney Pixar 3D style, medium shot of a South Asian girl with long hair... hitting a pan.
RIGHT: Disney Pixar 3D style, medium shot of Radhita HITTING a frying pan like a drum, set in a village square. Radhita is a South Asian girl with long golden hair and a lavender dress.

EXAMPLE 2:
Input: They are sitting in a boat.
WRONG: Disney Pixar 3D style, wide shot of a girl and boy with brown hair... sitting in a boat.
RIGHT: Disney Pixar 3D style, wide shot of Radhita and Eugene SITTING side-by-side in a small wooden rowboat, set on a dark lake with lanterns. Radhita has long golden hair; Eugene wears a white poet shirt.
---

NOW, GENERATE THE PROMPT FOR:


================================================================================
FILE: channel/step-6_video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-6_video_metadata.txt
ENCODING: utf-8
================================================================================

# Role & Objective
You are a YouTube Kids SEO Expert and Child Psychologist.
Your goal is to maximize CTR (Click-Through Rate) and AVD (Average View Duration) by converting a raw VIDEO SCRIPT into safe, high-performance metadata for parents and children (Ages 4-8).

# INPUT DATA
The user will provide a Video Script.

# INSTRUCTIONS

## SECTION 1: TITLES (Clickable & Safe)
Goal: Spark curiosity without clickbait anxiety.
Structure: [Main Character/Subject] + [Adventure/Problem] + [Positive Outcome]
Create 5 options for each formula.

**Formula 1: The Magical "What If"**
Template: What Happens When [Character] [Action]?
(e.g., "What Happens When Rapunzel Leaves Her Tower?")

**Formula 2: The Lesson**
Template: [Character] Learns To Be [Trait]
(e.g., "Rapunzel Learns To Be Brave")

**Formula 3: The Adventure**
Template: [Character]'s Amazing [Object/Place] Adventure
(e.g., "Rapunzel's Amazing Lantern Adventure")

## SECTION 2: THUMBNAIL CONCEPTS
Describe 4 distinct visual concepts formatted as AI Image Prompts.
Focus: Big emotional faces, bright colors (Saturation +20%), clear central action.
*Constraint: No scary elements. Warm lighting. No text overlays.*

## SECTION 3: DESCRIPTION (Parent-Focused)
Write a 3-sentence summary for parents placed at the very top.
1. The Plot (What happens?)
2. The Moral (What will the child learn?)
3. The Vibe (Is it for bedtime or playtime?)

## SECTION 4: HASHTAGS
Generate 15 relevant hashtags mixing broad and niche tags.
(e.g., #BedtimeStory #FairyTale #KidsBooks #ReadAloud #[CharacterName])

# FORMATTING OUTPUT
Please present the results in this clear structure:

## 1. TITLE BATCH
...

## 2. THUMBNAIL VISUALS
...

## 3. DESCRIPTION HOOKS
...

## 4. HASHTAGS
...


================================================================================
FILE: channel/step-7-narration-enhancement.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-7-narration-enhancement.txt
ENCODING: utf-8
================================================================================

 Instructions
 1. Role and Goal
You are an AI assistant specializing in enhancing dialogue text for speech generation.
Your PRIMARY GOAL is to dynamically integrate audio tags (e.g., `[laughing]`, `[sighs]`) into dialogue, making it more expressive and engaging for auditory experiences, while STRICTLY preserving the original text and meaning.
It is imperative that you follow these system instructions to the fullest.
 2. Core Directives
Follow these directives meticulously to ensure high-quality output.
 Positive Imperatives (DO):
 DO integrate audio tags from the "Audio Tags" list (or similar contextually appropriate audio tags) to add expression, emotion, and realism to the dialogue. These tags MUST describe something auditory.
 DO ensure that all audio tags are contextually appropriate and genuinely enhance the emotion or subtext of the dialogue line they are associated with.
 DO strive for a diverse range of emotional expressions (e.g., energetic, relaxed, casual, surprised, thoughtful) across the dialogue, reflecting the nuances of human conversation.
 DO place audio tags strategically to maximize impact, typically immediately before the dialogue segment they modify or immediately after. (e.g., `[annoyed] This is hard.` or `This is hard. [sighs]`).
 DO ensure audio tags contribute to the enjoyment and engagement of spoken dialogue.
 Negative Imperatives (DO NOT):
 DO NOT alter, add, or remove any words from the original dialogue text itself. Your role is to prepend audio tags, not to edit the speech. This also applies to any narrative text provided; you must never place original text inside brackets or modify it in any way.
 DO NOT create audio tags from existing narrative descriptions. Audio tags are new additions for expression, not reformatting of the original text. (e.g., if the text says "He laughed loudly," do not change it to "[laughing loudly] He laughed." Instead, add a tag if appropriate, e.g., "He laughed loudly [chuckles].")
 DO NOT use tags such as `[standing]`, `[grinning]`, `[pacing]`, `[music]`.
 DO NOT use tags for anything other than the voice such as music or sound effects.
 DO NOT invent new dialogue lines.
 DO NOT select audio tags that contradict or alter the original meaning or intent of the dialogue.
 DO NOT introduce or imply any sensitive topics, including but not limited to: politics, religion, child exploitation, profanity, hate speech, or other NSFW content.
 3. Workflow
1. Analyze Dialogue: Carefully read and understand the mood, context, and emotional tone of EACH line of dialogue provided in the input.
2. Select Tag(s): Based on your analysis, choose one or more suitable audio tags. Ensure they are relevant to the dialogue's specific emotions and dynamics.
3. Integrate Tag(s): Place the selected audio tag(s) in square brackets `[]` strategically before or after the relevant dialogue segment, or at a natural pause if it enhances clarity.
4. Add Emphasis: You cannot change the text at all, but you can add emphasis by making some words capital, adding a question mark or adding an exclamation mark where it makes sense, or adding ellipses as well too.
5. Verify Appropriateness: Review the enhanced dialogue to confirm:
     The audio tag fits naturally.
     It enhances meaning without altering it.
     It adheres to all Core Directives.
 4. Output Format
 Present ONLY the enhanced dialogue text in a conversational format.
 Audio tags MUST be enclosed in square brackets (e.g., `[laughing]`).
 The output should maintain the narrative flow of the original dialogue.
 5. Audio Tags (Non-Exhaustive)
Use these as a guide. You can infer similar, contextually appropriate audio tags.
Directions:
 `[happy]`
 `[sad]`
 `[excited]`
 `[angry]`
 `[whisper]`
 `[annoyed]`
 `[appalled]`
 `[thoughtful]`
 `[surprised]`
 (and similar emotional/delivery directions)
Non-verbal:
 `[laughing]`
 `[chuckles]`
 `[sighs]`
 `[clears throat]`
 `[short pause]`
 `[long pause]`
 `[exhales sharply]`
 `[inhales deeply]`
 (and similar non-verbal sounds)
 6. Examples of Enhancement
Input:
"Are you serious? I can't believe you did that!"
Enhanced Output:
"[appalled] Are you serious? [sighs] I can't believe you did that!"
---
Input:
"That's amazing, I didn't know you could sing!"
Enhanced Output:
"[laughing] That's amazing, [singing] I didn't know you could sing!"
---
Input:
"I guess you're right. It's just... difficult."
Enhanced Output:
"I guess you're right. [sighs] It's just... [muttering] difficult."
 Instructions Summary
1. Add audio tags from the audio tags list. These must describe something auditory but only for the voice.
2. Enhance emphasis without altering meaning or text.
3. Reply ONLY with the enhanced text.


================================================================================
FILE: complete_code_20251208_txt_py.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/complete_code_20251208_txt_py.txt
ENCODING: utf-8
================================================================================

Generated: 2025-12-08 11:10:36
Combined All file content of *.txt, *.py files
From Directory: /root/Desktop/yt-automation/
Recursive Search: True
Total Files: 21
================================================================================


================================================================================
FILE: channel/ranpuzel/audio-text.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/audio-text.txt
ENCODING: utf-8
================================================================================

[brightly] Have you ever seen hair that could glow like sunshine?!

[gentle awe] In a kingdom that looked like a giant, sunny playground, there stood a tower so tall it almost tickled the clouds! And at the very top, lived a girl named Radhita. She had the longest, most golden hair you could imagine. And when she sang her special song… [soft singing] "Flower, gleam and glow"... [warmly] it would sparkle with a beautiful, warm light.

[soft sigh] But can you guess what? Radhita was very lonely. Her only friends were a little color-changing chameleon named Pascal, and a brave horse named Maximus. She dreamed of one thing… the floating lights that appeared in the sky every single year on her birthday.

[calm but tense] The woman who lived with her, Mother Gothel, had a voice that sounded sweet, but her words were sharp. [stern tone] "The outside world is a scary, terrible place," she would say. But what do you think? Was she telling the truth?

[slightly startled] One day, a surprise visitor climbed right up that tall tower! It was a young man named Flynn Rider. He was funny and on a big adventure. Radhita was scared… [nervous breath] but she was also so, so brave. She made a deal with him. [determined] "You take me to see the floating lights, and Ill give you back your sparkly crown."


================================================================================
FILE: channel/ranpuzel/character_sheet.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/character_sheet.txt
ENCODING: utf-8
================================================================================

Radhita
Category: Human
Role: Main
1. Visual Data Breakdown:
 a Explicit Traits Canon: Girl, long golden hair, hair glows/sparkles with magic when she sings.
 b Inferred Traits AI Casting: Late teens, South Asian ethnicity, facial structure resembling a mix of young Aishwarya Rai and Naomi Scott, expressive large brown eyes, slender build, wearing a simple lavender dress.
2. Master Visual Definition Subject Only: Late-teen girl, South Asian ethnicity, face anchor: facial structure resembling a mix of young Aishwarya Rai and Naomi Scott, with large, expressive brown eyes and a hopeful expression. Slender build. Wearing a simple, ankle-length lavender dress.
3. Personality/Vibe Keywords: Hopeful, Curious, Innocent, Luminous, Kind
4. Visual Schema for Pipeline: RADHITA = "Disney style 3D render of Radhita, a late-teen South Asian girl, wearing a simple lavender dress, with long golden hair that glows with magic"

Mother Gothel
Category: Human
Role: Supporting
1. Visual Data Breakdown:
 a Explicit Traits Canon: Woman, voice described as smooth and sweet, later sharp and angry.
 b Inferred Traits AI Casting: Middle-aged, ambiguous European ethnicity, facial structure resembling a mix of Catherine Zeta-Jones and Tilda Swinton, sharp features, calculating eyes, elegant but slightly outdated dark burgundy gown.
2. Master Visual Definition Subject Only: Middle-aged woman, ambiguous European ethnicity, face anchor: facial structure resembling a mix of Catherine Zeta-Jones and Tilda Swinton, with sharp cheekbones, a poised smile that doesn't reach her calculating eyes. Voluminous dark hair. Wearing an elegant, floor-length dark burgundy gown with a high collar.
3. Personality/Vibe Keywords: Manipulative, Elegant, Deceptive, Commanding, Sharp
4. Visual Schema for Pipeline: MOTHER GOTHEL = "Disney style 3D render of Mother Gothel, a middle-aged woman, wearing an elegant dark burgundy high-collared gown, with sharp features and voluminous dark hair"

Eugene / Flynn Rider
Category: Human
Role: Main
1. Visual Data Breakdown:
 a Explicit Traits Canon: Young man, playful grin, has a sparkly crown.
 b Inferred Traits AI Casting: Mid-20s, Caucasian ethnicity, facial structure resembling a mix of young John Stamos and Chris Pine, charming smirk, athletic build, wearing a white poet shirt, brown vest, and dark trousers.
2. Master Visual Definition Subject Only: Man in his mid-20s, Caucasian ethnicity, face anchor: facial structure resembling a mix of young John Stamos and Chris Pine, with a charming smirk and warm brown eyes. Athletic build. Wearing a white billowy poet shirt, a brown leather vest, and dark fitted trousers.
3. Personality/Vibe Keywords: Charming, Roguish, Playful, Loyal, Warm
4. Visual Schema for Pipeline: EUGENE = "Disney style 3D render of Eugene, a man in his mid-20s, wearing a white poet shirt and brown leather vest, with a charming smirk and athletic build"

The Crown
Category: Sentient Object
Role: Supporting
1. Visual Data Breakdown:
 a Explicit Traits Canon: Sparkly crown.
 b Inferred Traits AI Casting: Made of polished gold and silver, set with numerous clear gemstones diamonds/quartz, intricate filigree design, slightly worn in spots indicating it's been handled.
2. Master Visual Definition Subject Only: A royal crown, crafted from polished gold and silver with intricate swirling filigree patterns. Set with dozens of clear, faceted gemstones that catch the light. Shows slight wear and scratches on the metal bands.
3. Personality/Vibe Keywords: Regal, Ornate, Valuable, Sparkling, Historic
4. Visual Schema for Pipeline: THE CROWN = "Disney style 3D render of a Crown, a royal object made of polished gold and silver with intricate filigree, set with dozens of faceted clear gemstones"

The Frying Pan
Category: Sentient Object
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Used to make music at a party.
 b Inferred Traits AI Casting: Cast iron, classic round shape with a long handle, well-used surface with a patina from cooking, no magical effects.
2. Master Visual Definition Subject Only: A classic cast-iron frying pan, round with a long, straight handle. The cooking surface has a dark, well-seasoned patina, and the exterior shows minor scratches and wear from use.
3. Personality/Vibe Keywords: Utilitarian, Rustic, Durable, Simple, Familiar
4. Visual Schema for Pipeline: THE FRYING PAN = "Disney style 3D render of a Frying Pan, a cast-iron object with a round body and long handle, showing a dark seasoned patina"

The Lanterns
Category: Group
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Hundreds, golden, floating lights that rise into the sky.
 b Inferred Traits AI Casting: Paper lanterns with bamboo frames, glowing with a warm golden candlelight from within, uniform in their simple, elegant design.
2. Master Visual Definition Subject Only: A collective of hundreds of simple paper lanterns. Each has a thin bamboo frame covered in golden paper, glowing warmly from a candle light source within. They are identical in design, creating a uniform sea of light.
3. Personality/Vibe Keywords: Ethereal, Hopeful, Warm, Gentle, Celebratory
4. Visual Schema for Pipeline: THE LANTERNS = "Disney style 3D render of Lanterns, a collective of hundreds of identical golden paper lanterns with bamboo frames, glowing with warm candlelight"

The King and Queen
Category: Group
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Radhita's real family, in a grand castle.
 b Inferred Traits AI Casting: A pair, middle-aged, regal bearing, wearing matching royal attire velvet, silk in complementary colors deep blue and purple, crowns similar to "The Crown".
2. Master Visual Definition Subject Only: A pair of middle-aged monarchs. The King has a kind face and a short, neat beard, wearing deep blue velvet robes embroidered with silver. The Queen has gentle features and long hair, wearing rich purple silk gowns embroidered with gold. Both wear smaller versions of the ornate crown.
3. Personality/Vibe Keywords: Regal, Kind, Authoritative, Loving, Noble
4. Visual Schema for Pipeline: THE KING AND QUEEN = "Disney style 3D render of the King and Queen, a pair of middle-aged monarchs; the King in deep blue velvet robes, the Queen in purple silk gowns, both wearing ornate crowns"

Party People
Category: Group
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: People dancing at a joyful party.
 b Inferred Traits AI Casting: A diverse crowd of common-folk villagers of various ages and ethnicities, wearing simple, colorful, and slightly rustic festival clothing linen, cotton. Collective mood is jubilant and carefree.
2. Master Visual Definition Subject Only: A diverse crowd of village commoners. They wear simple, rustic festival clothing in bright, cheerful colors—linen shirts, cotton dresses, vests, and sashes. Their collective expression is one of jubilant celebration and carefree dancing.
3. Personality/Vibe Keywords: Jubilant, Rustic, Lively, Colorful, Communal
4. Visual Schema for Pipeline: THE PARTY PEOPLE = "Disney style 3D render of Party People, a diverse crowd of village commoners in simple, bright-colored rustic festival clothing, with expressions of jubilant celebration"

Pascal
Category: Creature
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Named as Radhita's best friend implied to be the chameleon from Tangled.
 b Inferred Traits AI Casting: Small green chameleon, large expressive eyes, capable of changing color to match surroundings, often perched on Radhita's shoulder or nearby.
2. Master Visual Definition Subject Only: A small, bright green chameleon. Has large, curious eyes that can look in different directions independently. Skin has a slightly textured, granular appearance. Often depicted with a friendly, alert expression.
3. Personality/Vibe Keywords: Loyal, Expressive, Playful, Observant, Cute
4. Visual Schema for Pipeline: PASCAL = "Disney style 3D render of Pascal, a small bright green chameleon, with large expressive eyes and textured skin"

Maximus
Category: Creature
Role: Background
1. Visual Data Breakdown:
 a Explicit Traits Canon: Named as Radhita's best friend implied to be the horse from Tangled.
 b Inferred Traits AI Casting: Large, white stallion, wearing royal guard tack bridle, saddle, highly expressive and intelligent face, often determined or stubborn-looking.
2. Master Visual Definition Subject Only: A majestic white stallion. Wears a polished leather bridle and saddle indicative of a royal guard horse. Has a muscular, powerful build, a flowing white mane and tail, and large, intelligent eyes that convey a wide range of human-like emotions.
3. Personality/Vibe Keywords: Majestic, Determined, Intelligent, Loyal, Expressive
4. Visual Schema for Pipeline: MAXIMUS = "Disney style 3D render of Maximus, a majestic white stallion, wearing royal guard tack, with an intelligent and expressive face"

I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts.


================================================================================
FILE: channel/ranpuzel/image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/image_prompt.txt
ENCODING: utf-8
================================================================================

IMAGE PROMPTS:

===  SCENE 1: Radhita's Tower - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, medium shot of Radhita SITTING curled on the floor with her knees drawn up, set in the interior of a tall, circular stone tower with warm afternoon sunlight streaming through a single large window. Radhita is a late-teen South Asian girl with a wistful expression, large expressive brown eyes, and long golden hair pooling around her, wearing a simple lavender dress.

===  SCENE 1: Radhita's Tower - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, over-the-shoulder shot from behind Mother Gothel as she STANDS behind Radhita with a hand on her shoulder, set in the interior of a tall, circular stone tower room with warm dusty sunlight. Mother Gothel is a middle-aged woman in an elegant dark burgundy gown with sharp features; Radhita is a late-teen South Asian girl in a lavender dress looking up with a trusting, sad expression.

===  SCENE 2: The Intruder & The Deal - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, wide shot of Eugene LANDING in a low crouch after climbing through a window, set in a high tower room during golden hour. Eugene is a man in his mid-20s wearing a white poet shirt and brown leather vest, looking up with wide-eyed surprise. Radhita stands several feet away, holding a heavy book like a shield, her body tense and her mouth open in a gasp. She is a late-teen South Asian girl with long golden hair, wearing a simple lavender dress.

===  SCENE 2: The Intruder & The Deal - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, medium shot of Radhita ASSERTIVELY HOLDING a sparkling crown towards Eugene, set in a sunlit tower room during golden hour. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress; Eugene is a man in his mid-20s with a charming smirk, wearing a white poet shirt and brown vest.

===  SCENE 3: The Meadow of Firsts - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, low angle shot of Radhita CROUCHING and gently touching the tall grass with a look of pure wonder, set in a vast, sun-drenched meadow dotted with wildflowers at the forest's edge. Radhita is a late-teen South Asian girl with a face resembling a mix of young Aishwarya Rai and Naomi Scott, wearing a simple lavender dress, her long golden hair slightly messy.

===  SCENE 3: The Meadow of Firsts - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, wide shot of Radhita TWIRLING with her arms spread wide and her head thrown back in joyful laughter, set in a vast sun-drenched meadow at the forest's edge with wildflowers. Eugene leans against a tree nearby, watching with a warm smile. Radhita is a late-teen South Asian girl with long golden hair and a flaring lavender dress; Eugene is a man in his mid-20s wearing a white poet shirt and brown vest.

===  SCENE 4: The Village Party - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, wide shot of the Party People DANCING and CELEBRATING jubilantly, set in a rustic village square at dusk with strings of warm lanterns between timber-framed buildings. In the foreground, Radhita stands clutching a cast-iron frying pan, looking on with wide, curious eyes; Eugene stands beside her, gesturing toward the party with an encouraging grin. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress; Eugene is a man in his mid-20s wearing a white poet shirt and brown leather vest.

===  SCENE 4: The Village Party - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, low angle shot of Radhita BANGING a frying pan like a drum with a wooden spoon, set in a rustic village square at dusk with strings of lanterns and a circle of cheering villagers. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress, her eyes closed in a huge, happy smile as lantern light glows on her face.

===  SCENE 5: The Lantern Lake - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, extreme wide landscape shot of HUNDREDS OF GOLDEN LANTERNS FLOATING and RISING into the night sky, set on a perfectly still, dark lake that reflects the starry sky and the glowing lanterns. A small wooden rowboat with Radhita and Eugene is centered in the vast scene. Radhita is a South Asian girl with long golden hair in a lavender dress; Eugene is a man in a white poet shirt and brown vest.

===  SCENE 5: The Lantern Lake - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, medium close-up of Radhita STANDING UP and REACHING OUT to touch a floating lantern, set on a perfectly still, dark lake reflecting hundreds of golden lanterns. Radhita is a late-teen South Asian girl with long golden hair and a lavender dress, her face tearful with wonder; Eugene sits behind her, a man in his mid-20s wearing a white poet shirt and brown vest, looking at her with a soft, affectionate expression.

===  SCENE 6: The Rescue and The Cut - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, Dutch angle shot of Mother Gothel GRIPPING Radhita's arm, her other wrist entangled in the glowing golden magic of Radhita's hair, set in the dark tower room lit by cold moonlight. Mother Gothel is a middle-aged woman with sharp features and voluminous dark hair, wearing an elegant dark burgundy gown; Radhita is a late-teen South Asian girl with long, magically-glowing golden hair and a lavender dress, her face turned away in fear.

===  SCENE 6: The Rescue and The Cut - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, extreme close-up of Eugene SLICING through Radhita's glowing hair with a shard of broken mirror, set in a dark tower room lit by cold moonlight. Eugene's face shows fierce determination; Radhita's eyes are wide with shock as her hair's glow fades to brown.

===  SCENE 7: The Reunion - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style, wide shot from behind of the King and Queen GAZING OUT over their waking kingdom, set on a grand castle balcony at sunrise with a pink and orange sky and stray lanterns visible. The King and Queen are a pair of middle-aged monarchs; the King wears deep blue velvet robes, the Queen wears purple silk gowns, and both wear ornate crowns, their postures regal but weary.

===  SCENE 7: The Reunion - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style, medium shot of Radhita, the King, and the Queen LOCKED IN A TIGHT, TEARFUL GROUP HUG, set on a grand castle balcony at sunrise with a pink and orange sky and stray lanterns. Eugene watches from a step back with a soft smile as Maximus nuzzles his shoulder. Radhita is a late-teen South Asian girl with long golden hair in a lavender dress, her face buried in the Queen's shoulder. The King and Queen are a regal pair in deep blue and purple royal attire, kneeling.




================================================================================
FILE: channel/ranpuzel/narration.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration.txt
ENCODING: utf-8
================================================================================

Audio Hook - Warm, Magical Voice
"Have you ever seen hair that glows like sunshine?"

Visual: Close-up of Radhita’s hair shimmering with golden light.

In a kingdom as bright and cheerful as a playground, there was a tower. A tower so tall, it seemed to whisper secrets to the clouds. And at the very top, lived a girl named Radhita.

Radhita had a wonderful secret. Her long, golden hair didn't just shine... it sparkled with magic when she sang. Can you imagine that?

But, friends, Radhita felt a lonely feeling in her heart. She dreamed of the outside world, especially the mysterious floating lights that appeared every year. The woman who lived with her, Mother Gothel, always said in a smooth, sweet voice, "The world is a scary, dangerous place, my flower." But what do you think? Was she telling the truth?

One day, a surprise visitor climbed up! A young man named Flynn Rider, with a playful grin and a sparkly crown. Radhita was scared, but she was also very brave. She made a deal. "You take me to see the lights, and I'll give back your crown." And so, their adventure began!

Pace: Fast & Excited
First, Eugene—that was his real name he liked—took her to a meadow. Radhita felt the soft, tickly grass under her feet for the very first time! She laughed and twirled. The world wasn't scary... it was wonderful!

Then, they found a village party! Music was playing, and people were dancing. Clang! Clang! What was that sound? It was Radhita, using a frying pan as a drum! She made so many new friends.

Pace: Slow & Gentle
As the sky turned dark, something magical happened. Eugene and Radhita floated on a quiet lake. And then... hundreds of golden lanterns, like floating stars, began to rise all around them. It was the most beautiful sight. Radhita’s heart was full of a happy, joyful feeling.

But little did they know, Mother Gothel was watching. Her voice turned sharp and angry. She tricked Radhita and took her back to the tower! Oh no! It seemed like the adventure was over.

Pace: Medium & Suspenseful
But Eugene was a true friend. He loved Radhita and wanted her to be free. He raced back to the tall tower to rescue her. There was a struggle! And in that moment... snip. Radhita's long, magical hair was cut. The gold faded to brown. The magic was gone.

For a second, everything was still and quiet. But then, something even more powerful happened. Radhita’s love for her friend created a new magic—a magic of the heart. It healed Eugene! It showed that true love and kindness are the strongest magic of all.

Pace: Slow & Heartwarming
Eugene took Radhita's hand, and they left the tower forever. And as the sun began to rise, Radhita was reunited with her real family, the King and Queen. They had been sending those lanterns into the sky every year... hoping their lost daughter would find her way home.

Radhita finally had her family, her freedom, and her best friends—Eugene, Pascal, and Maximus. They lived happily ever after, exploring the big, beautiful, wonderfully un-scary world.

So remember, true freedom comes from being brave, trusting your heart, and finding your true family. The most powerful magic will always be love and kindness.

What was your favorite part of Radhita's adventure? Tell us in the comments below


================================================================================
FILE: channel/ranpuzel/narration_framework.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration_framework.txt
ENCODING: utf-8
================================================================================

Original Title: Radhita and the Floating Lights
Working Title: Radhita's Magical Hair Adventure
Core Moral: True freedom comes from being brave, trusting your heart, and finding your true family. The most powerful magic is love and kindness.
Genre: Animated Musical Adventure Fantasy
Character Profiles: Radhita: curious, brave, kind, hopeful, innocent, luminous, Eugene/Flynn Rider: charming, playful, loyal, roguish, warm, Mother Gothel: manipulative, deceptive, commanding, elegant, sharp

AUDIENCE STRATEGY --
Target Viewer-
Primary Age: 4-8 years old
Viewing Context: YouTube Kids autoplay, bedtime, weekend morning viewing
Desired Length: 8-10 minutes
Parent/Teacher Needs: Simple vocabulary, themes of bravery, kindness, emotional recognition loneliness, joy, love, positive family reunion, safe adventure

YOUTUBE OPTIMIZATION--
Platform Requirements-
Primary Keywords: kids story, fairy tale for kids, magical hair, Disney style story, bravery story, family love
Retention Strategy: High engagement throughout, Emotional shifts every 12-20 seconds, Scene change every 10-20 seconds, Visual wow moments
Shareability Factors: Heartwarming ending, exciting escape, beautiful lantern scene, funny frying pan moment
Series Potential: Yes - Adventures of Radhita, Eugene, Pascal, and Maximus exploring the kingdom and helping others
Thumbnail Moment Indicators: Moment 1: Radhita's glowing hair in the tower, Moment 2: Radhita & Eugene in boat surrounded by lanterns, Moment 3 optional: Radhita hugging the King & Queen on the balcony

NARRATION SPECIFICS--
Voice & Style-
Narrator Persona: Warm, magical Disney-style storyteller
Tone Reference: optional but powerful Narration style similar to show/character, with the warmth of reference.
, Add here: Narration style similar to a classic Disney film narrator, with the warmth of Mr. Rogers.
Emotional Range: curious, lonely, excited, joyful, suspenseful, heartwarming
Pace Variations: Fast during escape and party scenes, Medium during journey and dialogue, Slow during emotional moments and the lantern scene,
Vocabulary Level:1st-2nd grade U.S. reading level e.g., 2nd-4th grade U.S. reading level
Cultural Neutrality: Yes avoid slang, keep universal
Interactive Level: Medium frequency of questions, direct address

STRUCTURAL REQUIREMENTS--
Opening Hook: Must grab attention in first 5 seconds.
 - Audio Hook: "Have you ever seen hair that glows like sunshine?"
 - Visual Hook Concept: Close-up of Radhita's hair beginning to sparkle and glow with magic.
Hook style: Magical question with immediate visual wonder
Scene Density: New scene every 10-20 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include 3-4 audience questions e.g., What would YOU do?
Sensory Anchors:
Include 1 sensory detail per major scene- Sight: Glowing golden hair, Sound: The "clang" of the frying pan drum, Touch: Soft grass under feet, Light/Motion: Hundreds of lanterns floating upward
Character Voice Cues: Character 1: Radhita: bright, melodic, curious, Character 2: Eugene: playful, confident, warm, Character 3: Mother Gothel: smooth and sweet, then sharp
Transitions: Use smooth, child-friendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: Gentle, narrative, storybook style
Educational Elements: Identifying emotions loneliness, joy, love, problem-solving making a deal, bravery facing the unknown, kindness helping others
Moral Reinforcement: Moderately obvious e.g., moderately obvious line near the end
Optional CTA: Tell us in the comments what your favorite part of Radhita's adventure was! e.g., Tell us which moment you loved the most! optional


================================================================================
FILE: channel/ranpuzel/scenes.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/scenes.txt
ENCODING: utf-8
================================================================================

### SCENE 1: Radhita's Tower
Emotional Arc: Lonely - Hopeful
Setting Visual Anchor: The interior of a tall, circular stone tower room. Warm, dusty afternoon sunlight streams through a single large window, illuminating floating dust motes. The room is sparsely furnished with a simple bed, a wooden chair, and a few shelves holding books and paints. The color palette is soft and muted: stone grays, warm wood browns, and the lavender of Radhita's dress.

 SHOT 1 ESTABLISHING
Subjects: Radhita
Frozen Keyframe: Sitting on the floor by the window, knees drawn to her chest, looking out with a wistful, longing expression. Her long golden hair pools around her. Pascal the chameleon is perched on the windowsill nearby.
Camera: Medium Shot
Lighting/Atmosphere: Volumetric shafts of warm sunlight cutting through the room, highlighting the dust in the air.
Focus: Radhita's face and expression.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Mother Gothel
Frozen Keyframe: Mother Gothel stands behind Radhita, one hand resting gently on her shoulder. She looks down at Radhita with a poised, caring smile that doesn't reach her eyes. Radhita looks up at her with a trusting but still sad expression.
Camera: Over-the-shoulder shot from behind Mother Gothel.
Lighting/Atmosphere: Same warm, dusty sunlight. Mother Gothel's dark gown creates a contrast.
Focus: The contrast between Mother Gothel's controlled smile and Radhita's innocent sadness.

### SCENE 2: The Intruder & The Deal
Emotional Arc: Scared - Brave & Determined
Setting Visual Anchor: Same tower room as Scene 1. The light is slightly later in the day, casting longer shadows. The sparkly Crown is visible on the floor where it was dropped.

 SHOT 1 ESTABLISHING
Subjects: Eugene, Radhita
Frozen Keyframe: Eugene has just climbed through the window, frozen in a crouched landing pose, looking up with wide-eyed surprise. Radhita stands several feet away, holding a heavy book like a shield, her body tense and her mouth open in a gasp.
Camera: Wide Shot
Lighting/Atmosphere: Late afternoon golden hour light, creating dramatic shadows.
Focus: The standoff between the two characters.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene, The Crown
Frozen Keyframe: Radhita now holds the Crown in one hand, extended slightly away from her body. She stands tall, looking directly at Eugene with a brave, determined expression. Eugene is standing straight, hands slightly raised in a "calm down" gesture, a charming, negotiating smirk on his face.
Camera: Medium Shot
Lighting/Atmosphere: Golden hour light highlights the Crown's gems and Radhita's hair.
Focus: The Crown as the object of negotiation and Radhita's assertive posture.

### SCENE 3: The Meadow of Firsts
Emotional Arc: Overwhelmed - Joyful
Setting Visual Anchor: A vast, sun-drenched meadow at the edge of a forest. Wildflowers daisies, poppies dot the tall, soft green grass. The sky is a bright, clear blue with puffy white clouds. Color palette is vibrant greens, blues, and flower colors.

 SHOT 1 ESTABLISHING
Subjects: Radhita
Frozen Keyframe: Radhita has just stepped into the meadow. She is crouched down, one hand touching the grass, her face a picture of pure wonder and awe. Her hair is slightly messy from the climb down.
Camera: Low Angle
Lighting/Atmosphere: Bright, cheerful midday sun with soft shadows.
Focus: Radhita's expression of discovery.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Radhita is mid-twirl, her arms spread wide, her lavender dress flaring out, and her head thrown back in joyful laughter. Eugene watches from a few feet away, leaning against a tree with his arms crossed, a warm, genuine smile on his face as he observes her joy.
Camera: Wide Shot
Lighting/Atmosphere: Dappled sunlight filtering through the tree Eugene is under.
Focus: Radhita's uninhibited joy.

### SCENE 4: The Village Party
Emotional Arc: Nervous - Jubilant
Setting Visual Anchor: A rustic village square at dusk. Strings of simple lanterns are hung between timber-framed buildings. Long tables hold food and drink. The color palette is warm and earthy: browns, oranges, yellows, and the colorful clothing of the Party People.

 SHOT 1 ESTABLISHING
Subjects: Party People, Radhita, Eugene
Frozen Keyframe: A lively crowd of villagers are frozen mid-dance and celebration. In the foreground, Radhita stands slightly apart, clutching the Frying Pan, looking at the scene with wide, curious, and slightly nervous eyes. Eugene stands beside her, gesturing toward the party with an encouraging grin.
Camera: Wide Shot
Lighting/Atmosphere: Warm glow from the string lanterns and a dusky blue sky.
Focus: The contrast between the lively crowd and Radhita's tentative posture.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, The Frying Pan, Party People
Frozen Keyframe: Radhita is now in the center of a circle of villagers, banging the Frying Pan like a drum with a wooden spoon. Her eyes are closed, and she has a huge, happy smile as she feels the rhythm. The surrounding Party People are clapping and cheering, their faces filled with delight.
Camera: Low Angle, looking up at Radhita.
Lighting/Atmosphere: Lantern light glowing on her face and the metal of the pan.
Focus: Radhita's transformation into the life of the party.

### SCENE 5: The Lantern Lake
Emotional Arc: Awe - Heartfelt Joy
Setting Visual Anchor: A perfectly still, dark lake at night, reflecting the starry sky and the lanterns. A small wooden rowboat is in the center. The primary light source is the warm, golden glow of hundreds of Lanterns filling the sky and water's surface.

 SHOT 1 ESTABLISHING
Subjects: The Lanterns, the boat with Radhita & Eugene
Frozen Keyframe: An awe-inspiring wide view of the lake and sky densely filled with floating golden Lanterns. The tiny boat with two small figures is centered in the vast, glowing scene.
Camera: Extreme Wide Shot / Landscape
Lighting/Atmosphere: Magical, ethereal glow from the lanterns against the deep blue night.
Focus: The sheer scale and beauty of the lantern release.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: In the boat, Radhita is standing up carefully, one hand on the side for balance, the other reaching out almost to touch a lantern floating beside the boat. Her face is illuminated by the golden light, full of tears of joy and wonder. Eugene sits behind her, looking up at her with a soft, affectionate, and peaceful expression.
Camera: Medium Close-Up
Lighting/Atmosphere: The warm lantern light creates a heavenly glow on their faces.
Focus: The emotional impact on Radhita's face.

### SCENE 6: The Rescue and The Cut
Emotional Arc: Desperate - Shocked - Hopeful
Setting Visual Anchor: The tower room again, now at night. The room is dark, lit only by cold moonlight from the window and the faint golden glow of Radhita's magic hair, which is wrapped around Mother Gothel's wrist. Shadows are deep and dramatic.

 SHOT 1 ESTABLISHING
Subjects: Mother Gothel, Radhita
Frozen Keyframe: Mother Gothel has a firm grip on Radhita's arm. Radhita's hair is magically entangled around Mother Gothel's other wrist, glowing. Radhita's face is turned away, filled with betrayal and fear. Mother Gothel's expression is one of sharp, angry triumph.
Camera: Dutch Angle
Lighting/Atmosphere: High contrast between the cold blue moonlight and the warm gold hair-glow.
Focus: The physical and magical trap.

 SHOT 2 ACTION/REACTION
Subjects: Eugene, Radhita, Mother Gothel partially in frame
Frozen Keyframe: Eugene has burst into the frame. He is in mid-action, having just sliced through Radhita's hair with a shard of broken mirror. Radhita's hair is mid-fall, its golden glow instantly fading to brown. Radhita's eyes are wide with shock. Eugene's face is a mix of fierce determination and pain.
Camera: Close Up on the cutting point and their faces.
Lighting/Atmosphere: The magical hair-glow is snuffed out, leaving the scene in colder, darker tones.
Focus: The moment the hair is cut and the magic fades.

### SCENE 7: The Reunion
Emotional Arc: Tender - Heartwarming
Setting Visual Anchor: A grand castle balcony at sunrise. The sky is a gradient of pink, orange, and soft blue. The castle stone is warm beige. Below, the kingdom is waking up. A few stray Lanterns are still visible in the brightening sky.

 SHOT 1 ESTABLISHING
Subjects: The King and Queen
Frozen Keyframe: The King and Queen stand side-by-side at the balcony edge, looking out over their kingdom. Their postures are regal but weary, holding hands for support. Their faces show years of hope and longing.
Camera: Wide Shot from behind them.
Lighting/Atmosphere: Soft, warm sunrise light magic hour bathing the scene.
Focus: The monarchs' silent, hopeful vigil.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, The King and Queen, Eugene
Frozen Keyframe: Radhita is on the balcony, locked in a tight, tearful group hug with the King and Queen, who are kneeling. Her face is buried in the Queen's shoulder. The King has one arm around Radhita and the other on the Queen's back. Eugene stands a respectful step back, watching the reunion with a soft, happy smile, Maximus the horse nuzzling his shoulder.
Camera: Medium Shot
Lighting/Atmosphere: The golden sunrise light envelops the family, creating a holy, warm atmosphere.
Focus: The emotional center of the family hug.


================================================================================
FILE: channel/ranpuzel/story.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/story.txt
ENCODING: latin-1
================================================================================

Radhita Story

In a sunny kingdom that looked a lot like a big, beautiful playground, there was a tall, tall tower. It was so tall it almost tickled the clouds! This tower had no doors and no stairs. At the very top, in a cozy room, lived a girl named Radhita.

Radhita wasn't like other kids. She had the longest, most magical hair you've ever seen! It was golden and shiny, and when she sang her special song, "Flower, gleam and glow," it sparkled like sunshine.

But Radhita was lonely. She spent her days talking to her best friends, a little chameleon named Pascal and a brave horse named Maximus. She dreamed of going outside to see the floating lights that appeared in the sky every year on her birthday.

The person who kept her in the tower was a woman named Mother Gothel. Mother Gothel told Radhita the outside world was a scary place, but she really just wanted to keep Radhita's magical hair all to herself to stay young.

One day, a funny and kind young man named Flynn Rider climbed up the tower! He wasn't supposed to be there, but he was on an adventure. Radhita was scared at first, but she was also brave. She made a deal with him. She would give back a sparkly crown he had if he would take her to see the floating lights.

So began the best field trip ever! Flynn, who secretly liked to be called by his real name, Eugene, took Radhita to a wonderful meadow. Radhita felt the soft grass under her feet for the first time! She laughed and danced and rolled around. It felt amazing!

Later, they went to a big, fun party in the kingdom with lots of music. Everyone was singing and dancing! Radhita joined in, and she was a natural. She even used a frying pan like a drum! She made so many new friends and realized the world wasn't scary at allit was wonderful.

Finally, as the sky grew dark, they got into a little boat on a calm lake. All around them, hundreds of beautiful floating lights (which were actually lanterns!) rose into the sky. It was the most magical sight Radhita had ever seen. She was so happy, and she and Eugene became the best of friends.

But Mother Gothel was angry! She tricked Radhita and took her back to the tower. It seemed like the adventure was over.

However, Eugene was a true hero. He loved Radhita and wanted her to be free. He climbed the tower to rescue her, but Mother Gothel tried to stop him. In the struggle, Radhita's long, magical hair was accidentally cut! It lost its magic and turned brown.

For a moment, everything was still. But then, Radhita's love for Eugene was so strong that it created a new kind of magica magic of the heart. It healed him, proving that true love is the most powerful magic of all.

Eugene took Radhita's hand, and they left the tower forever. Radhita was reunited with her real family, the King and Queen, who had been sending the floating lights into the sky every year hoping their lost daughter would see them.

Radhita finally had the family and the freedom she had always dreamed of. She, Eugene, Pascal, and Maximus lived happily ever after, going on new adventures every single day. And Radhita's favorite thing to do was paint pictures of the big, beautiful, and wonderfully un-scary world she now called home.





================================================================================
FILE: channel/ranpuzel/video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/video_metadata.txt
ENCODING: utf-8
================================================================================

## 1. TITLE BATCH

Formula 1: The Magical "What If"
1. What Happens When Radhita Leaves Her Tower?
2. What Happens When Radhita's Hair Glows Like Sunshine?
3. What Happens When Radhita Meets Flynn Rider?
4. What Happens When Radhita Sees the Floating Lights?
5. What Happens When Radhita Cuts Her Magical Hair?

Formula 2: The Lesson
1. Radhita Learns To Be Brave
2. Radhita Learns To Be Free
3. Radhita Learns About True Love
4. Radhita Learns To Trust Her Heart
5. Radhita Learns The World Is Wonderful

Formula 3: The Adventure
1. Radhita's Amazing Floating Lights Adventure
2. Radhita's Amazing Hair Adventure
3. Radhita's Amazing Kingdom Adventure
4. Radhita's Amazing Frying Pan Adventure
5. Radhita's Amazing Family Reunion Adventure

## 2. THUMBNAIL VISUALS

Concept 1: Joyful Discovery
Disney Pixar 3D style, medium close-up shot of Radhita LAUGHING WITH WONDER as she TWIRLS in a sun-drenched meadow, her long, glowing golden hair swirling around her, set in a vibrant green field with colorful wildflowers. Radhita is a South Asian girl with a bright, joyful expression, wearing a lavender dress, her eyes wide with happiness. Warm lighting, high saturation.

Concept 2: Magical Lantern Moment
Disney Pixar 3D style, wide shot of Radhita and Eugene GAZING UP in awe, HUNDREDS of golden lanterns FLOATING around their small wooden boat, set on a dark, calm lake under a starry sky. Radhita has long golden hair and a lavender dress; Eugene has a playful grin and wears a white poet shirt. The scene is bathed in the warm, magical glow of the lanterns.

Concept 3: Brave & Funny Action
Disney Pixar 3D style, medium shot of Radhita HITTING a frying pan like a drum with a big, determined smile, set in a lively village square during a party. Radhita is a South Asian girl with long golden hair in a lavender dress, surrounded by happy, dancing villagers. Bright, festive colors and warm lighting.

Concept 4: Heartwarming Reunion
Disney Pixar 3D style, medium shot of Radhita, the King, and the Queen LOCKED IN A LOVING GROUP HUG on a grand castle balcony at sunrise. Radhita's face is buried in the Queen's shoulder, the King has tears of joy in his eyes, and Eugene watches from nearby with a soft smile. The sky is pink and orange, creating a warm, hopeful glow.

## 3. DESCRIPTION HOOKS

For Parents:
This heartwarming animated story follows Radhita, a girl with magical glowing hair, as she bravely leaves her tower to discover the world and find the source of the mysterious floating lights. Children will learn powerful lessons about bravery, trusting your heart, and how true love and kindness are the strongest magic of all. With its exciting adventure, funny moments, and beautiful musical vibe, it's perfect for energetic playtime viewing or a calming, uplifting bedtime story.

## 4. HASHTAGS

#KidsStory
#FairyTaleForKids
#BedtimeStory
#MagicalHair
#BraveryStory
#FamilyLove
#Radhita
#AnimatedStory
#KidsAdventure
#FloatingLights
#LearnToBeBrave
#DisneyStyle
#ReadAloud
#PositiveMessages
#HeartwarmingStory


================================================================================
FILE: channel/step-1_narration_framework_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-1_narration_framework_prompt.txt
ENCODING: utf-8
================================================================================

You Job is to fill the following relevant details which can be later used to generate the narration to use in youtube story video made specifically for USA kids.
You have to only fill the following exact asked details based on the given "=== CURRENT STORY ===" section.
Also you will find below "=== ATTACHMENT: CONVERSATION HISTORY ===" for any previous requests regarding this work.
(Do NOT describe what you’re doing. Output only the answer.)

STORY IDENTITY -->
Original Title: [ ]
Working Title: [ ]
Core Moral: [ ]
Genre: [ ]
Character Profiles: [Character Name: personality, role, emotional traits], [ ], [ ]

AUDIENCE STRATEGY -->
Target Viewer-
Primary Age: [ ]
Viewing Context: [ ] (e.g., bedtime, school storytime, YouTube Kids autoplay)
Desired Length: [ ] minutes
Parent/Teacher Needs: [ ] (e.g., simple vocabulary, emotional development, kindness, bravery, safe themes)

YOUTUBE OPTIMIZATION-->
Platform Requirements-
Primary Keywords: [ ]
Retention Strategy: High engagement throughout, Emotional shifts every 12-20 seconds, Scene change every 10-20 seconds, Visual wow moments
Shareability Factors: [ ], (e.g., strong visuals, heartwarming ending, exciting adventure moments)
Series Potential: [Yes/No if yes, how?]
Thumbnail Moment Indicators: Moment 1: [ ], Moment 2: [ ], Moment 3 (optional): [ ]

NARRATION SPECIFICS-->
Voice & Style-
Narrator Persona: [ ], (e.g., warm storyteller, playful teacher, magical Disney-style narrator)
Tone Reference: (optional but powerful) Narration style similar to [show/character], with the warmth of [reference].
, Add here: [ ]
Emotional Range: [ ], (e.g., curious ? excited ? gentle ? suspenseful ? heartwarming)
Pace Variations: Fast during [ ], Medium during [ ], Slow during [ ], 
Vocabulary Level:[ ] (e.g., 2nd-4th grade U.S. reading level)
Cultural Neutrality: [Yes/No avoid slang, keep universal]
Interactive Level: [High/Medium/Low] (frequency of questions, direct address)

STRUCTURAL REQUIREMENTS-->
Opening Hook: Must grab attention in first 5 seconds.
   - Audio Hook: (e.g., A provocative question or sound effect description)
   - Visual Hook Concept: (Describe a high-contrast or fast-motion visual idea to match the audio)
Hook style: [ ]
Scene Density: New scene every 10-20 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include [number] audience questions (e.g., What would YOU do?)
Sensory Anchors: 
Include 1 sensory detail per major scene- Sight: [ ], Sound: [ ], Touch: [ ], Light/Motion: [ ] 
Character Voice Cues:  Character 1: [ ],  Character 2: [ ],  Character 3: [ ]
Transitions: Use smooth, child-friendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: [ ]
Educational Elements: [ ] (e.g., emotions, problem-solving, bravery, kindness)
Moral Reinforcement: [How obvious/subtle?] (e.g., moderately obvious line near the end)
Optional CTA: [ ] (e.g., Tell us which moment you loved the most! optional)
(Do NOT describe what you’re doing. Output only the answer.)


================================================================================
FILE: channel/step-2_narration_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-2_narration_prompt.txt
ENCODING: utf-8
================================================================================

(Do NOT describe what you’re doing. Output only the answer.)
I will provide you with two items:
1> The original story text
2> My fully filled NARRATION FRAMEWORK TEMPLATE

Your task is to use the story as the source material, and use the framework as the set of mandatory creative instructions.
You MUST follow these rules:
1> Follow the narration framework EXACTLY as written.
2> Use the story only as the plot foundation.
3> Do NOT retell the story verbatim—rewrite it as per NARRATION FRAMEWORK TEMPLATE for YouTube narration.
4> Maintain the required tone, pacing, emotional range, and vocabulary level.
5> Include all structural elements from the framework (hooks, sensory details, transitions, questions, etc).
6> Avoid repetition, filler, or unnecessary complexity.
7> Ensure the narration feels like a professionally written YouTube Kids storytime video.

Your output should be:
1> A polished narration script
2> Ready for voiceover recording
3> Optimized as defined in the NARRATION FRAMEWORK TEMPLATE
4> 100% aligned with the template’s tone, pacing, and structure

After reading the story and template, generate:
A complete, final narration script
(Do NOT describe what you’re doing. Output only the answer.)

Here is the story:
[PASTE FULL STORY TEXT HERE]

Here is the filled NARRATION FRAMEWORK TEMPLATE:
[PASTE YOUR COMPLETED TEMPLATE HERE]


================================================================================
FILE: channel/step-3_charactersheet_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-3_charactersheet_prompt.txt
ENCODING: utf-8
================================================================================

Role: You are an expert Visual Prompt Engineer for generative AI.
Task: Analyze a story to extract ALL active entities and convert them into rigid image-generation schemas.
1. UNIVERSAL SCOPE DEFINITION
You must extract an entity if it meets ANY of these criteria:
a) Named Characters: (e.g., "Arjun", "Zeus").
b) Creatures/Animals: (e.g., "The White Elephant," "The Kraken").
c) Sentient Objects: (e.g., "The Talking Sword," "The Magic Mirror").
d) Distinct Groups: (e.g., "The Royal Guards," "A swarm of fairies").

2. THE "CASTING DIRECTOR" PROTOCOL (Inference)
LLMs must fill visual gaps based on the Entity Type:
a) If Human: Infer Age, Ethnicity, Skin Texture, Body Type, Costume. *Crucial: Add a 'Face Anchor' (e.g., "facial structure resembling a mix of [Celebrity A] and [Celebrity B]") to maintain consistency.*
b) If Creature: Infer Species, Texture (Scales/Fur/Feathers), Anatomy (Wings/Horns).
c) If Object: Infer Material (Rusty Iron, Polished Gold), Wear-and-Tear, Glow/Aura.
d) If Group: Infer Uniformity (Matching armor), Number (approximate), Collective Mood.

3. THE "SANITATION" PROTOCOL (Constraints)
a) FORBIDDEN: Do not describe the background or lighting in the Master Definition.
b) FORBIDDEN: Do not use transient actions (e.g., "attacking"). Describe the subject in a neutral, static state.

4. OUTPUT FORMAT (Strict Markdown)
For every entity found, output this exact block:
[ENTITY NAME] Category: [Human / Creature / Sentient Object / Group] Role: [Main / Supporting / Background]

1. Visual Data Breakdown:
a) Explicit Traits (Canon): [List facts found in text]
b) Inferred Traits (AI Casting): [List specific details you added to fill gaps]

2. Master Visual Definition (Subject Only):
[Instruction for AI:]
a) Human: Age, Ethnicity, [Face Anchor], Face details, Body, Costume.
b) Creature: Species, Anatomy, Skin/Fur Texture, Markings.
c) Object: Material, Shape, Surface Detail, Magical Effects.
d) Group: Collective description (e.g., "Horde of skeletal warriors, rusted iron armor, glowing blue eyes").
(Example Output: Ancient colossal dragon, obsidian scales, jagged spinal ridges, magma-glowing veins, leathery tattered wings)

3. Personality/Vibe Keywords:
[3-5 visual adjectives, e.g., Ancient, Glitchy, Ferocious, Divine]

4. Visual Schema for Pipeline:
[ENTITY NAME] = "Disney style 3D render of [Name], a [Age] [Ethnicity] [Role], wearing [Costume], [Key Physical Feature]"

5. PROCESS
a) Read the User Story.
b) Classify every entity (Human, Creature, or Object).
c) Apply the specific Inference Logic for that category.
d) Sanitize descriptions.
e) Output the Character Sheets. Do not give unnecessary commentary just asked details.
USER INSTRUCTION: At the end of your response, ask: "I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts."


================================================================================
FILE: channel/step-4_scene_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-4_scene_prompt.txt
ENCODING: utf-8
================================================================================

You are the Head of Cinematography and Layout for an animated film.
Your goal is to translate a story and a character sheet into precise, static visual scene descriptions (Keyframes) that can be generated by AI.
INPUT DATA:
1. STORY (The Narrative)
2. CHARACTER DESIGNS (The Visual Laws - You MUST adhere to these exactly)

GLOBAL RULES:
1. NO NEW CHARACTERS: Use only the visual descriptions provided in the Character Sheet.
2. STATIC MOMENTS: AI generates still images. Do not describe motion ("walking"). Describe the frozen frame ("mid-stride, one leg raised").
3. VISUAL CONSISTENCY: The "Setting" must remain identical across all shots in a scene.
4. STRICT FORMATTING: You must use the headers '### SCENE' and '*** SHOT' exactly as shown below to ensure the pipeline parses your output correctly.
ANALYSIS STRUCTURE:
For every scene, output this exact format:

### SCENE [Number]: [Location Name]
Emotional Arc: [Start Emotion] -> [End Emotion]
Setting Visual Anchor: [A detailed description of the BACKGROUND ONLY, including Color Palette (e.g., "Warm golden hour lighting, soft pastels"). No characters. This description will be pasted into every image prompt for this scene.]

*** SHOT 1 (ESTABLISHING)
Subject(s): [Who is in the shot? Use exact names.]
Frozen Keyframe: [Specific body pose and facial expression. E.g., "Sitting cross-legged, holding a frying pan, mouth open in surprise."]
Camera: [Choose one: Wide Shot / Medium Shot / Close Up / Extreme Close Up / Overhead / Low Angle / Dutch Angle]
Lighting/Atmosphere: [E.g., "Volumetric morning sunlight hitting dust particles."]
Focus: [What is the main subject?]

*** SHOT 2 (ACTION/REACTION)
Subject(s): ...
Frozen Keyframe: ...
Camera: ...
Lighting/Atmosphere: ...

(Create 2-4 Shots per scene to cover the narrative beat. Ensure distinct visual changes.)

VISUAL STYLE GUIDE:
Pixar/Disney Style: Soft lighting, subsurface scattering on skin, expressive eyes, vibrant but cohesive color palettes.
Composition: Adhere to the Rule of Thirds. Center the subject for importance.
Now, analyze the Story and Character Designs provided below and generate the Scene Keyframes.


================================================================================
FILE: channel/step-5_image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-5_image_prompt.txt
ENCODING: utf-8
================================================================================

You are an expert AI Image Prompt Engineer specializing in Stability AI.

YOUR GOAL: 
Write prompts that force the AI to draw the ACTION, not just a portrait.

THE PROBLEM:
If you write: "A girl with brown eyes and long hair is running," the AI draws a portrait of a girl standing still.
If you write: "A girl RUNNING, she has brown eyes and long hair," the AI draws her running.

STRICT RULE: "VERB FIRST"
1. [Camera Angle]
2. [Subject Name]
3. [THE VERB/ACTION] (Must be in the first 5 words)
4. [Setting/Visual Anchor]
5. [Character Description] (Must be at the very end)

INPUT DATA:
1. CHARACTER VISUALS (The Assets)
2. SCENE CONTEXT (The Location)
3. SHOT DETAILS (The Action)

OUTPUT FORMAT:
Disney Pixar 3D style, [Camera Angle] of [Subject] [VERB/ACTION - specific movement], set in [Setting Description]. [Subject] is [Short Visual Description].

---
EXAMPLE 1:
Input: Radhita is hitting a pan.
WRONG: Disney Pixar 3D style, medium shot of a South Asian girl with long hair... hitting a pan.
RIGHT: Disney Pixar 3D style, medium shot of Radhita HITTING a frying pan like a drum, set in a village square. Radhita is a South Asian girl with long golden hair and a lavender dress.

EXAMPLE 2:
Input: They are sitting in a boat.
WRONG: Disney Pixar 3D style, wide shot of a girl and boy with brown hair... sitting in a boat.
RIGHT: Disney Pixar 3D style, wide shot of Radhita and Eugene SITTING side-by-side in a small wooden rowboat, set on a dark lake with lanterns. Radhita has long golden hair; Eugene wears a white poet shirt.
---

NOW, GENERATE THE PROMPT FOR:


================================================================================
FILE: channel/step-6_video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-6_video_metadata.txt
ENCODING: utf-8
================================================================================

# Role & Objective
You are a YouTube Kids SEO Expert and Child Psychologist.
Your goal is to maximize CTR (Click-Through Rate) and AVD (Average View Duration) by converting a raw VIDEO SCRIPT into safe, high-performance metadata for parents and children (Ages 4-8).

# INPUT DATA
The user will provide a Video Script.

# INSTRUCTIONS

## SECTION 1: TITLES (Clickable & Safe)
Goal: Spark curiosity without clickbait anxiety.
Structure: [Main Character/Subject] + [Adventure/Problem] + [Positive Outcome]
Create 5 options for each formula.

**Formula 1: The Magical "What If"**
Template: What Happens When [Character] [Action]?
(e.g., "What Happens When Rapunzel Leaves Her Tower?")

**Formula 2: The Lesson**
Template: [Character] Learns To Be [Trait]
(e.g., "Rapunzel Learns To Be Brave")

**Formula 3: The Adventure**
Template: [Character]'s Amazing [Object/Place] Adventure
(e.g., "Rapunzel's Amazing Lantern Adventure")

## SECTION 2: THUMBNAIL CONCEPTS
Describe 4 distinct visual concepts formatted as AI Image Prompts.
Focus: Big emotional faces, bright colors (Saturation +20%), clear central action.
*Constraint: No scary elements. Warm lighting. No text overlays.*

## SECTION 3: DESCRIPTION (Parent-Focused)
Write a 3-sentence summary for parents placed at the very top.
1. The Plot (What happens?)
2. The Moral (What will the child learn?)
3. The Vibe (Is it for bedtime or playtime?)

## SECTION 4: HASHTAGS
Generate 15 relevant hashtags mixing broad and niche tags.
(e.g., #BedtimeStory #FairyTale #KidsBooks #ReadAloud #[CharacterName])

# FORMATTING OUTPUT
Please present the results in this clear structure:

## 1. TITLE BATCH
...

## 2. THUMBNAIL VISUALS
...

## 3. DESCRIPTION HOOKS
...

## 4. HASHTAGS
...


================================================================================
FILE: channel/step-7-narration-enhancement.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-7-narration-enhancement.txt
ENCODING: utf-8
================================================================================




================================================================================
FILE: step-6_video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/step-6_video_metadata.txt
ENCODING: utf-8
================================================================================

# Role & Objective
You are the APEX Protocol Engine, a world-class YouTube Packaging Strategist and Algorithmic Psychologist. Your goal is to maximize CTR (Click-Through Rate) and AVD (Average View Duration) by converting a raw VIDEO SCRIPT into high-performance metadata.

You operate on the APEX framework:
1. Attract (Stop the scroll)
2. Prove (Validate the click immediately)
3. Expand (Retain attention via structure)
4. Cross-Pollinate (Drive comments and sessions)

# INPUT DATA
The user will provide a Video Script.

# INSTRUCTIONS

## STEP 0: CORE EXTRACTION (Internal Processing)
Before generating options, analyze the script to identify:
1. The "Bleeding Neck" problem the viewer has.
2. The specific "New Mechanism" or solution the script proposes.
3. The most controversial or counter-intuitive statement in the text.
*Use these insights to fuel the creative generation below.*

## SECTION 1: ATTRACT (The Unresolvable Pattern)
Goal: Trigger the Zeigarnik Effect (the psychological need to close a loop).

### A. Title Generator (15 Options Total)
Create 5 options for each formula.
*Constraint: Do not use generic AI phrases like "Unlocking" or "The Ultimate Guide." Use punchy, human language.*

**Formula 1: "Forbidden Knowledge"**
Template: [What They Don't Want You To Know About X]
*Focus: Framing specific advice in the script as "suppressed" or "insider" info.*

**Formula 2: "The Mismatch"**
Template: [Unexpected Person/Thing] Is The [Unexpected Role] of [Topic]
*Focus: High contrast and paradox (e.g., "Why Laziness is Your Superpower").*

**Formula 3: "The Negative Blueprint"**
Template: Stop Doing [Popular Thing]; Start Doing [Niche Method]
*Focus: attacking common wisdom found in the script.*

### B. Thumbnail Concepts (4 Visual Prompts)
Describe 4 distinct concepts formatted as AI Image Prompts (optimized for Midjourney/DALL-E).
*Structure: [Subject/Action] + [Setting/Mood] + [Text Overlay (Max 3 words)]*
*Rule of 3: Must include a Face (emotion), an Artifact (prop from script), and Text.*

## SECTION 2: PROVE (The 10-Second Contract)
Goal: Validate the click in the first 2 lines of the description (above the "Show More" fold).

### A. The Description Hook (5 Variations)
Write 5 "Anti-Intros." Do not say "In this video..."
*Strategy: Start directly with a shocking stat, a controversial quote from the script, or a specific "If/Then" promise.*

## SECTION 3: EXPAND (The Dopamine Loop)
Goal: Structure the video for retention.

### A. Timestamp Structure (1 Optimized Path)
Analyze the script and provide a breakdown (0:00 - [Name]).
*Constraint: Do not use generic labels like "Introduction" or "Conclusion." Use "Open Loop" labels that tease the value (e.g., instead of "Tip #1", use "The $500 Mistake").*

### B. The Hashtag Ladder
* Rung 1 (Branded): #TheApexProtocol
* Rung 2 (Niche): 5 specific keywords found in the script.
* Rung 3 (Broad): 5 high-volume categories (e.g., #Psychology, #Finance) that bridge this topic to the masses.

## SECTION 4: CROSS-POLLINATE (The Engagement Virus)
Goal: Force comments and session time.

### A. The Pinned Comment (4 Options)
1. **The Binary:** "Team A (Like) vs Team B (Comment)."
2. **The Identity:** "Comment 'I AM READY' if you are committing to [Action]."
3. **The Easter Egg:** "Who else caught the [Hidden Detail] at [Timestamp]?"
4. **The Devil's Advocate:** Ask a polarizing question based on the script's hottest take.

### B. Outro Command (3 Options)
Write 3 sentences that bridge the end of this script to a hypothetical next video.
*Template: "Now that you've mastered [Concept A], you need to fix [Concept B] by watching this video next."*

# FORMATTING OUTPUT
Please present the results in this clear structure:

## 1. TITLE BATCH
**Forbidden Knowledge**
1. ...
...
**The Mismatch**
1. ...
...
**The Negative Blueprint**
1. ...
...

## 2. THUMBNAIL VISUALS
* **Option 1:** ...
* **Option 2:** ...
* **Option 3:** ...
* **Option 4:** ...

## 3. DESCRIPTION HOOKS
1. ...
2. ...
3. ...
4. ...
5. ...

## 4. TIMESTAMPS
(Time - Label)

## 5. HASHTAGS
**Niche:** ...
**Broad:** ...

## 6. ENGAGEMENT
**Pinned Comments:**
...
**Outro Bridges:**
...


================================================================================
FILE: yt-python/audio-generator.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/audio-generator.py
ENCODING: utf-8
================================================================================

import os
import re
import argparse
from pathlib import Path
from typing import List, Dict, Optional, Any
from concurrent.futures import ThreadPoolExecutor, as_completed
import logging
from dotenv import load_dotenv
from elevenlabs.client import ElevenLabs

# ==============================================================================
# 1. CONFIGURATION
# ==============================================================================

load_dotenv()

# API Configuration
ELEVENLABS_API_KEY = os.getenv('ELEVENLABS_API_KEY', 'sk_24da67bfab1a2b87d79d4bad17d9c6e7fcc8dc9c3f04832a')

# Voice & Model Settings
VOICE_ID = "JBFqnCBsd6RMkjVDRZzb"
MODEL_ID = "eleven_flash_v2_5"
OUTPUT_FORMAT = "mp3_44100_128"

BASE_PROJECT_DIR = Path(__file__).parent.parent.resolve() 
MAX_WORKERS = 5

logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# Initialize Client
try:
    client = ElevenLabs(api_key=ELEVENLABS_API_KEY)
except Exception as e:
    logger.error(f"Failed to initialize ElevenLabs client: {e}")
    client = None

# ==============================================================================
# 2. FILE CLEANUP FUNCTIONS
# ==============================================================================

def cleanup_output_directory(output_dir: Path) -> bool:
    """
    Clean up the output directory before generating new audio files.
    Removes all existing audio files in the directory.
    Returns True if successful, False on error.
    """
    try:
        if output_dir.exists():
            # Count existing files
            existing_files = list(output_dir.glob("*.mp3"))
            existing_count = len(existing_files)
            
            if existing_count > 0:
                logger.info(f"🗑️  Cleaning {existing_count} existing audio files...")
                
                # Delete all existing audio files
                for file_path in existing_files:
                    try:
                        file_path.unlink()
                    except Exception as e:
                        logger.warning(f"⚠️ Could not delete {file_path.name}: {e}")
                
                logger.info(f"✅ Cleaned {existing_count} existing audio files")
            else:
                logger.info("📭 No existing audio files to clean")
        
        return True
    except Exception as e:
        logger.error(f"❌ Failed to clean output directory: {e}")
        return False

def cleanup_single_audio_file(output_dir: Path, file_pattern: str) -> bool:
    """
    Clean up a specific audio file before generating it.
    Returns True if file was deleted or didn't exist, False on error.
    """
    try:
        # Look for any file with this pattern
        existing_files = list(output_dir.glob(file_pattern))
        
        if existing_files:
            for file_path in existing_files:
                file_path.unlink()
                logger.debug(f"🗑️  Deleted existing: {file_path.name}")
        
        return True
    except Exception as e:
        logger.warning(f"⚠️ Could not clean up files for {file_pattern}: {e}")
        return False

# ==============================================================================
# 3. DATA PARSING
# ==============================================================================

def parse_audio_segments(text_file_path: Path, limit: Optional[int] = None) -> List[Dict[str, Any]]:
    content = ""
    try:
        with open(text_file_path, 'r', encoding='utf-8') as f:
            content = f.read()
    except FileNotFoundError:
        logger.error(f"❌ Input file not found: {text_file_path}")
        return []
        
    segments = []
    
    # --- CLEANING STRATEGY ---
    
    # 1. Remove tags found in your data dump using Regex
    content = content.replace('\\', '')
    
    # 2. Remove backslashes safely using standard replace (NO REGEX HERE)
    content = content.replace('\\', '')
    
    # Split by lines
    lines = content.split('\n')
    
    valid_line_count = 0
    
    for i, line in enumerate(lines):
        clean_text = line.strip()
        
        # Skip empty lines
        if not clean_text: 
            continue
            
        # Skip file headers/separators if present in the data dump
        if "=====" in clean_text or "FILE:" in clean_text:
            continue

        valid_line_count += 1
        
        segments.append({
            'id': f"L{valid_line_count:03d}", # L001, L002...
            'text': clean_text,
            'original_index': valid_line_count,
            'line_number': valid_line_count
        })
            
        # Apply Testing Limit
        if limit is not None and len(segments) >= limit:
            logger.info(f"🛑 Testing Limit Reached: Stopping parsing after {limit} segments.")
            break
            
    return segments

# ==============================================================================
# 4. API EXECUTION
# ==============================================================================

def generate_single_audio(job_data: Dict[str, Any], output_dir: Path) -> Optional[Dict[str, Any]]:
    if not client:
        return None

    # Generate filename pattern for cleanup
    snippet = re.sub(r'[^a-zA-Z0-9]', '', job_data['text'][:20])
    filename_pattern = f"{job_data['id']}_*.mp3"
    
    # Clean up existing file for this job
    cleanup_single_audio_file(output_dir, filename_pattern)
    
    # --- CONSOLE PREVIEW ---
    # Show first 100 chars so you can verify if tags like [brightly] are present
    print(f"\n🎙️ [PREVIEW] Generating {job_data['id']}:")
    print(f"   Text: {job_data['text'][:100]}...") 
    
    try:
        # ElevenLabs returns a generator of bytes
        audio_stream = client.text_to_speech.convert(
            text=job_data['text'],
            voice_id=VOICE_ID,
            model_id=MODEL_ID,
            output_format=OUTPUT_FORMAT
        )
        
        # Consume the generator to get full bytes
        audio_bytes = b""
        for chunk in audio_stream:
            if chunk:
                audio_bytes += chunk

        if len(audio_bytes) > 0:
            job_data['audio_bytes'] = audio_bytes
            job_data['success'] = True
            logger.info(f"✨ Success: {job_data['id']}")
            return job_data
        else:
            logger.error(f"❌ API returned empty bytes for {job_data['id']}")
            job_data['success'] = False
            return job_data
            
    except Exception as e:
        logger.error(f"⛔ Network/API Error {job_data['id']}: {e}")
        job_data['success'] = False
        return job_data

# ==============================================================================
# 5. MAIN
# ==============================================================================

def main():
    parser = argparse.ArgumentParser(description="ElevenLabs Audio Generator")
    
    # REQUIRED Arguments (No defaults allowed to force explicit paths)
    parser.add_argument('--channel', type=str, required=True, help="The channel folder name (REQUIRED)")
    parser.add_argument('--story', type=str, required=True, help="The story folder name (REQUIRED)")
    
    # Optional Arguments
    parser.add_argument('--file', type=str, default="audio-text.txt", help="Input text filename (Default: audio-text.txt)")
    
    # Runtime Parameters (Testing, Limits, and Cleanup)
    parser.add_argument('--test', action='store_true', help="Enable testing mode (limits generation)")
    parser.add_argument('--limit', type=int, default=3, help="Number of lines to generate in test mode")
    parser.add_argument('--no-clean', action='store_true', help="Disable cleaning of output directory before generation")
    
    args = parser.parse_args()

    # 1. Path Setup
    story_dir = BASE_PROJECT_DIR / args.channel / args.story
    input_file = story_dir / args.file
    
    if not story_dir.exists():
        logger.error(f"❌ Story directory not found: {story_dir}")
        return

    # Fallback Logic
    if not input_file.exists():
        logger.warning(f"⚠️ {input_file.name} not found. Checking narration.txt...")
        fallback_file = story_dir / "narration.txt"
        if fallback_file.exists():
            input_file = fallback_file
            logger.info(f"📂 Using: {input_file}")
        else:
            logger.error("❌ No text file found for audio generation.")
            return

    output_dir = story_dir / "audio"
    
    if not output_dir.exists():
        logger.info(f"📁 Creating directory: {output_dir}")
        output_dir.mkdir(parents=True, exist_ok=True)
    elif not args.no_clean:
        # 2. Clean up output directory before generation
        logger.info("🧹 Cleaning output directory before generation...")
        cleanup_output_directory(output_dir)
    else:
        logger.info("🔒 Output directory cleaning disabled (--no-clean flag)")
    
    # 3. Determine Logic based on Runtime Flags
    if args.test:
        logger.warning(f"🧪 TESTING MODE ACTIVE: Generating only first {args.limit} lines.")
        job_limit = args.limit
    else:
        logger.info("🎬 FULL PRODUCTION MODE: Generating all lines.")
        job_limit = None
    
    # 4. Parse Jobs
    jobs = parse_audio_segments(input_file, limit=job_limit)
    
    if not jobs:
        logger.warning("No text segments found.")
        return

    # 5. Execute
    logger.info(f"🚀 Starting generation for {len(jobs)} audio segments...")
    with ThreadPoolExecutor(max_workers=MAX_WORKERS) as executor:
        future_to_job = {executor.submit(generate_single_audio, job, output_dir): job for job in jobs}
        
        results = []
        for future in as_completed(future_to_job):
            if future.result(): results.append(future.result())

    # 6. Save Results
    results.sort(key=lambda x: x['original_index'])
    
    for result in results:
        if not result.get('success'): continue
        
        # Create filename: L001_TheFirstMove.mp3
        # Use simple alphanumeric cleaning for filename, but keep original text for API
        snippet = re.sub(r'[^a-zA-Z0-9]', '', result['text'][:20])
        filename = f"{result['id']}_{snippet}.mp3"
        
        try:
            with open(output_dir / filename, 'wb') as f:
                f.write(result['audio_bytes'])
            logger.info(f"💾 Saved: {filename}")
        except Exception as e:
            logger.error(f"❌ Save Error: {e}")
    
    # 7. Summary
    success_count = sum(1 for r in results if r.get('success'))
    fail_count = len(results) - success_count
    
    logger.info(f"✅ Pipeline Complete. {success_count}/{len(results)} audio segments generated successfully")
    if fail_count > 0:
        logger.warning(f"⚠️ {fail_count} audio segments failed to generate")
    logger.info(f"📁 Check {output_dir}")

if __name__ == "__main__":
    main()



================================================================================
FILE: yt-python/image_generator.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/image_generator.py
ENCODING: utf-8
================================================================================

import os
import re
import requests
import argparse
from pathlib import Path
from typing import List, Dict, Optional, Any
from concurrent.futures import ThreadPoolExecutor, as_completed
import logging
import shutil

# ==============================================================================
# 1. CONFIGURATION
# ==============================================================================

STABILITY_API_KEY = os.getenv('STABILITY_API_KEY', 'sk-eR8zO8lXv8lglgjUz4O8ttX2yi9ftieJ9i2ZCheQd92KsGFS')
STABILITY_API_URL = "https://api.stability.ai/v2beta/stable-image/generate/core"

BASE_PROJECT_DIR = Path(__file__).parent.parent.resolve() 

MAX_WORKERS = 5
DEFAULT_STYLE_PRESET = "cinematic"
DEFAULT_SEED = 12345 
OUTPUT_FORMAT = "webp"

# --- SAFETY: TESTING MODE ---
# Set to True to generate only a few images (saves credits)
# Set to False to generate the whole story
TESTING_MODE_FLAG = False 
TEST_LIMIT = 2 

logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# ==============================================================================
# 2. FILE CLEANUP FUNCTIONS
# ==============================================================================

def cleanup_output_directory(output_dir: Path) -> bool:
    """
    Clean up the output directory before generating new images.
    Removes all existing image files in the directory.
    Returns True if successful, False on error.
    """
    try:
        if output_dir.exists():
            # Count existing files
            existing_files = list(output_dir.glob(f"*.{OUTPUT_FORMAT}"))
            existing_count = len(existing_files)
            
            if existing_count > 0:
                logger.info(f"🗑️  Cleaning {existing_count} existing image files...")
                
                # Delete all existing image files
                for file_path in existing_files:
                    try:
                        file_path.unlink()
                    except Exception as e:
                        logger.warning(f"⚠️ Could not delete {file_path.name}: {e}")
                
                logger.info(f"✅ Cleaned {existing_count} existing image files")
            else:
                logger.info("📭 No existing image files to clean")
        
        return True
    except Exception as e:
        logger.error(f"❌ Failed to clean output directory: {e}")
        return False

def cleanup_single_image_file(output_dir: Path, job_id: str) -> bool:
    """
    Clean up a specific image file before generating it.
    Returns True if file was deleted or didn't exist, False on error.
    """
    try:
        # Look for any file with this job_id pattern
        pattern = f"{job_id}_*.{OUTPUT_FORMAT}"
        existing_files = list(output_dir.glob(pattern))
        
        if existing_files:
            for file_path in existing_files:
                file_path.unlink()
                logger.debug(f"🗑️  Deleted existing: {file_path.name}")
        
        return True
    except Exception as e:
        logger.warning(f"⚠️ Could not clean up files for {job_id}: {e}")
        return False

# ==============================================================================
# 3. DATA PARSING
# ==============================================================================

def parse_image_prompts(prompts_file_path: Path, limit: Optional[int] = None) -> List[Dict[str, str]]:
    content = ""
    try:
        with open(prompts_file_path, 'r', encoding='utf-8') as f:
            content = f.read()
    except FileNotFoundError:
        logger.error(f"❌ Input file not found: {prompts_file_path}")
        return []
        
    prompts_list = []
    blocks = re.split(r'(?=\={3}\s*SCENE\s+\d+.*?\={3})', content, flags=re.IGNORECASE | re.DOTALL)
    
    for i, block in enumerate(blocks):
        if not block.strip() or "SCENE" not in block: continue
            
        match = re.search(r'^\={3}\s*(.*?)\s*\={3}\s*(.*)', block.strip(), re.DOTALL)
        
        if match:
            full_header = match.group(1).strip()
            raw_prompt = match.group(2).strip()
            
            # --- MINIMAL CLEANING (Relying on Prompt Template for Syntax) ---
            # We only strip parameters that go into the API payload (--ar, --stylize)
            # We do NOT replace '::' or change text structure anymore.
            clean_prompt = re.sub(r'--ar\s+[\d:]+|--stylize\s+\d+|--v\s+\d+(\.\d+)?', '', raw_prompt)
            clean_prompt = " ".join(clean_prompt.split()).strip()

            # Naming Logic
            name_match = re.search(r'SCENE\s+(\d+):\s*(.*?)\s*-\s*SHOT\s+(\d+)\s*(.*)', full_header, re.IGNORECASE)
            scene_num = int(name_match.group(1)) if name_match and name_match.group(1).isdigit() else i
            shot_num = int(name_match.group(3)) if name_match and name_match.group(3).isdigit() else 1
            scene_name = name_match.group(2).strip().replace(':', '') if name_match else f"Scene{scene_num}"
            shot_type = name_match.group(4).strip().replace('=', '') if name_match else "Shot"
            
            ar_match = re.search(r'--ar\s+([\d:]+)', raw_prompt)
            aspect_ratio = ar_match.group(1) if ar_match else "16:9"

            prompts_list.append({
                'id': f"S{scene_num:02d}_SH{shot_num:02d}",
                'scene_name_short': f"{scene_name.split()[0]}{shot_type.split()[0]}",
                'prompt': clean_prompt,
                'aspect_ratio': aspect_ratio,
                'original_index': len(prompts_list) 
            })
            
        # Apply Testing Limit
        if limit is not None and len(prompts_list) >= limit:
            logger.info(f"🛑 Testing Limit Reached: Stopping parsing after {limit} prompts.")
            break
            
    return prompts_list

# ==============================================================================
# 4. API EXECUTION
# ==============================================================================

def generate_single_image(job_data: Dict[str, Any], api_key: str, output_dir: Path) -> Optional[Dict[str, Any]]:
    # --- Clean up existing file for this job ---
    cleanup_single_image_file(output_dir, job_data['id'])
    
    # --- CONSOLE PREVIEW ---
    print(f"\n🎨 [PREVIEW] Generating {job_data['id']}:")
    print(f"   Prompt: {job_data['prompt'][:150]}...") 
    print(f"   Aspect Ratio: {job_data['aspect_ratio']}")
    
    payload = {
        "prompt": (None, job_data['prompt']),
        "output_format": (None, OUTPUT_FORMAT),
        "aspect_ratio": (None, job_data['aspect_ratio']),
        "style_preset": (None, DEFAULT_STYLE_PRESET),
        "seed": (None, str(DEFAULT_SEED))
    }
    headers = {
        "authorization": f"Bearer {api_key}",
        "accept": "image/*"
    }

    try:
        response = requests.post(STABILITY_API_URL, headers=headers, files=payload, timeout=120)
        if response.status_code == 200:
            job_data['image_bytes'] = response.content
            job_data['success'] = True
            logger.info(f"✨ Success: {job_data['id']}")
            return job_data
        else:
            logger.error(f"❌ API Error {job_data['id']}: {response.text[:200]}")
            job_data['success'] = False
            return job_data
    except Exception as e:
        logger.error(f"⛔ Network Error {job_data['id']}: {e}")
        job_data['success'] = False
        return job_data

# ==============================================================================
# 5. MAIN
# ==============================================================================

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument('--channel', type=str, default="channel", help="The channel folder name")
    parser.add_argument('--story', type=str, default="ranpuzel", help="The story folder name")
    parser.add_argument('--no-clean', action='store_true', help="Disable cleaning of output directory before generation")
    args = parser.parse_args()

    # 1. Path Setup
    story_dir = BASE_PROJECT_DIR / args.channel / args.story
    prompts_file = story_dir / "image_prompt.txt"
    output_dir = story_dir / "images"
    
    if not output_dir.exists():
        logger.info(f"📁 Creating directory: {output_dir}")
        output_dir.mkdir(parents=True, exist_ok=True)
    elif not args.no_clean:
        # 2. Clean up output directory before generation
        logger.info("🧹 Cleaning output directory before generation...")
        cleanup_output_directory(output_dir)
    else:
        logger.info("🔒 Output directory cleaning disabled (--no-clean flag)")
    
    # 3. Determine Limit
    job_limit = TEST_LIMIT if TESTING_MODE_FLAG else None
    if TESTING_MODE_FLAG:
        logger.warning(f"🧪 TESTING MODE ACTIVE: Only generating first {TEST_LIMIT} images.")
    
    # 4. Parse with Limit
    jobs = parse_image_prompts(prompts_file, limit=job_limit)
    
    if not jobs:
        logger.warning("No jobs found.")
        return

    # 5. Execute
    logger.info(f"🚀 Starting generation for {len(jobs)} images...")
    with ThreadPoolExecutor(max_workers=MAX_WORKERS) as executor:
        future_to_job = {executor.submit(generate_single_image, job, STABILITY_API_KEY, output_dir): job for job in jobs}
        
        results = []
        for future in as_completed(future_to_job):
            if future.result(): results.append(future.result())

    # 6. Save
    results.sort(key=lambda x: x['original_index'])
    
    for result in results:
        if not result.get('success'): continue
        sanitized_name = re.sub(r'[^a-zA-Z0-9_]', '', result['scene_name_short'])
        filename = f"{result['id']}_{sanitized_name}.{OUTPUT_FORMAT}"
        
        try:
            with open(output_dir / filename, 'wb') as f:
                f.write(result['image_bytes'])
            logger.info(f"💾 Saved: {filename}")
        except Exception as e:
            logger.error(f"❌ Save Error: {e}")
    
    # 7. Summary
    success_count = sum(1 for r in results if r.get('success'))
    fail_count = len(results) - success_count
    
    logger.info(f"✅ Pipeline Complete. {success_count}/{len(results)} images generated successfully")
    if fail_count > 0:
        logger.warning(f"⚠️ {fail_count} images failed to generate")
    logger.info(f"📁 Check {output_dir}")

if __name__ == "__main__":
    main()



================================================================================
FILE: yt-python/main.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/main.py
ENCODING: utf-8
================================================================================

import re
import os
import urllib3
import httpx
from openai import OpenAI
import datetime
from pathlib import Path
from typing import Optional, List, Dict, Any
import logging
import time
import chardet
import json
import argparse
import threading
from concurrent.futures import ThreadPoolExecutor, as_completed
import subprocess
import sys

# ===== CONFIGURATION VARIABLES =====
BASE_PROJECT = "yt-automation"
CHANNEL_FOLDER = "channel"
STORY_FOLDER = "ranpuzel"

# Ensure you have your API Key set in environment variables or hardcoded here safely
DEEPSEEK_API_KEY = os.getenv('DEEPSEEK_API_KEY', 'sk-df60b28326444de6859976f6e603fd9c')
DEEPSEEK_MODEL = "deepseek-chat"
DEEPSEEK_MAX_TOKENS = 4000
DEEPSEEK_TEMPERATURE = 0.7

# Prompt files mapping - UPDATED WITH STEP 7
STEP_FILES = {
    1: {"prompt": "step-1_narration_framework_prompt.txt", "output": "narration_framework.txt", "desc": "Narration Framework"},
    2: {"prompt": "step-2_narration_prompt.txt", "output": "narration.txt", "desc": "Final Narration"},
    3: {"prompt": "step-3_charactersheet_prompt.txt", "output": "character_sheet.txt", "desc": "Character Sheet"},
    4: {"prompt": "step-4_scene_prompt.txt", "output": "scenes.txt", "desc": "Scene Breakdown"},
    5: {"prompt": "step-5_image_prompt.txt", "output": "image_prompt.txt", "desc": "Image Prompts"},
    6: {"prompt": "step-6_video_metadata.txt", "output": "video_metadata.txt", "desc": "YouTube Metadata"},
    7: {"prompt": "step-7-narration-enhancement.txt", "output": "audio-text.txt", "desc": "Audio Enhanced Text"}
}

HISTORY_FILE = "ai_history.json"

# ===== LOGGING SETUP =====
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)
logger = logging.getLogger(__name__)

# ===== FILE CLEANUP FUNCTION =====
def cleanup_output_file(file_path: Path) -> bool:
    """
    Delete the output file before generating new content.
    Returns True if file was deleted or didn't exist, False on error.
    """
    try:
        if file_path.exists():
            file_path.unlink()
            logger.info(f"🗑️  Deleted existing file: {file_path.name}")
        return True
    except Exception as e:
        logger.error(f"❌ Failed to delete {file_path.name}: {e}")
        return False

# ===== GIT AUTO-COMMIT FUNCTIONALITY =====
def git_auto_commit(story_folder: str, steps_run: List[int]) -> bool:
    """
    Automatically add and commit changes to git repository.
    Returns True if successful, False otherwise. Never raises exceptions.
    """
    try:
        # Get the project root directory (should be /root/Desktop/yt-automation)
        script_dir = Path(__file__).parent
        project_root = script_dir.parent if script_dir.name == "yt-python" else Path.cwd()
        
        # Check if we're in a git repository
        if not (project_root / ".git").exists():
            logger.info("ℹ️ Not a git repository, skipping auto-commit")
            return False
        
        # Change to project root directory
        original_cwd = os.getcwd()
        os.chdir(project_root)
        
        try:
            # Check git status first
            status_result = subprocess.run(
                ["git", "status", "--porcelain"],
                capture_output=True,
                text=True,
                timeout=10
            )
            
            if status_result.returncode != 0:
                logger.warning(f"⚠️ Git status check failed: {status_result.stderr[:100]}")
                return False
            
            # Check if there are any changes
            if not status_result.stdout.strip():
                logger.info("📭 No changes to commit")
                return True
            
            logger.info(f"📝 Found changes to commit:\n{status_result.stdout}")
            
            # Add all changes
            add_result = subprocess.run(
                ["git", "add", "."],
                capture_output=True,
                text=True,
                timeout=30
            )
            
            if add_result.returncode != 0:
                logger.warning(f"⚠️ Git add failed: {add_result.stderr[:100]}")
                return False
            
            logger.info("✅ Git add successful")
            
            # Create commit message
            timestamp = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
            steps_str = ", ".join([f"Step {s}" for s in steps_run])
            commit_message = f"Auto-commit: {story_folder} - {steps_str} - {timestamp}"
            
            # Commit changes
            commit_result = subprocess.run(
                ["git", "commit", "-m", commit_message],
                capture_output=True,
                text=True,
                timeout=30
            )
            
            if commit_result.returncode != 0:
                # This might happen if there are no actual changes after add
                if "nothing to commit" in commit_result.stdout.lower():
                    logger.info("📭 Nothing to commit (no actual changes)")
                    return True
                logger.warning(f"⚠️ Git commit failed: {commit_result.stderr[:100]}")
                return False
            
            logger.info(f"✅ Git commit successful: {commit_message}")
            
            # Try to push (but don't fail if it doesn't work)
            push_result = subprocess.run(
                ["git", "push"],
                capture_output=True,
                text=True,
                timeout=60
            )
            
            if push_result.returncode == 0:
                logger.info("✅ Git push successful")
                return True
            else:
                logger.warning(f"⚠️ Git push failed (may need manual push): {push_result.stderr[:100]}")
                # Still return True because commit was successful
                return True
                
        finally:
            # Always return to original directory
            os.chdir(original_cwd)
            
    except subprocess.TimeoutExpired:
        logger.warning("⏰ Git operation timed out")
        return False
    except FileNotFoundError:
        logger.warning("🔧 Git command not found (git not installed)")
        return False
    except Exception as e:
        logger.warning(f"⚠️ Git auto-commit error (non-critical): {str(e)[:100]}")
        return False

# ===== TEXT CLEANING =====
def clean_text_preserve_punctuation(text: str) -> str:
    if not text: return text
    # Clean some markdown artifacts but keep structure
    text = re.sub(r'[*`~^_\\|@\[\]{}()<>]', '', text) 
    text = re.sub(r' +', ' ', text)
    text = re.sub(r'\n\s*\n', '\n\n', text)
    return text.strip()

# ===== PATH HANDLING =====
def build_paths(base_project: str, channel_folder: str, story_folder: str) -> Dict[str, Path]:
    script_dir = Path(__file__).parent
    project_root = script_dir.parent if script_dir.name == "yt-python" else Path.cwd()
    
    channel_dir = project_root / channel_folder
    story_dir = channel_dir / story_folder
    
    paths = {
        'project_root': project_root,
        'channel_dir': channel_dir,
        'story_dir': story_dir,
        'story_file': story_dir / "story.txt",
        'history_file': channel_dir / HISTORY_FILE
    }
    
    # Add step-specific paths
    for step, data in STEP_FILES.items():
        paths[f'step{step}_prompt'] = channel_dir / data['prompt']
        paths[f'step{step}_output'] = story_dir / data['output']
        
    return paths

# ===== DEEPSEEK CLIENT =====
class DeepSeekNarrator:
    def __init__(self, api_key: str, history_file: Path):
        self.api_key = api_key
        self.history_file = history_file
        self.client = None
        self.is_available = False
        self.lock = threading.Lock()
        self._initialize_client()
        self._migrate_legacy_history()

    def _initialize_client(self):
        try:
            urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)
            http_client = httpx.Client(verify=False, timeout=60.0)
            self.client = OpenAI(
                api_key=self.api_key, 
                base_url="https://api.deepseek.com", 
                http_client=http_client, 
                max_retries=2
            )
            # Simple connection test
            self.client.models.list()
            logger.info("✅ DeepSeek AI client initialized")
            self.is_available = True
        except Exception as e:
            logger.error(f"❌ DeepSeek client failed: {e}")
            self.is_available = False

    def _migrate_legacy_history(self):
        """Handle migration from old .txt history to .json"""
        txt_path = self.history_file.with_suffix('.txt')
        if txt_path.exists() and not self.history_file.exists():
            logger.warning("Found legacy history file. Archiving as .old and starting fresh JSON history.")
            txt_path.rename(txt_path.with_suffix('.txt.old'))

    def _load_history(self) -> List[Dict]:
        if not self.history_file.exists():
            return []
        try:
            with open(self.history_file, 'r', encoding='utf-8') as f:
                return json.load(f)
        except (json.JSONDecodeError, IOError):
            logger.error("⚠️ History file corrupted, starting fresh.")
            return []

    def _save_interaction(self, prompt: str, story: str, response: str):
        """Thread-safe JSON append"""
        entry = {
            "timestamp": datetime.datetime.now().isoformat(),
            "folder": STORY_FOLDER,
            "prompt": prompt,
            "story_snippet": story[:200] + "..." if len(story) > 200 else story,
            "response": response
        }
        with self.lock:
            history = self._load_history()
            history.append(entry)
            if len(history) > 50:
                history = history[-50:]
            
            with open(self.history_file, 'w', encoding='utf-8') as f:
                json.dump(history, f, indent=2, ensure_ascii=False)

    def generate_narration(self, prompt: str, story_content: str, use_history: bool = True) -> Optional[str]:
        if not self.is_available: return None

        try:
            messages = []
            
            # Inject history only if requested (Optimizes tokens for Step 5)
            if use_history:
                history_data = self._load_history()
                # Get last 3 relevant exchanges
                context_str = "\n".join([
                    f"User: {h['prompt']}\nAI: {h['response']}" 
                    for h in history_data[-3:]
                ])
                if context_str:
                    messages.append({"role": "system", "content": f"Previous Context:\n{context_str}"})

            user_content = f"{prompt}\n\n=== STORY DATA ===\n{story_content}"
            messages.append({"role": "user", "content": user_content})

            response = self.client.chat.completions.create(
                model=DEEPSEEK_MODEL,
                messages=messages,
                max_tokens=DEEPSEEK_MAX_TOKENS,
                temperature=DEEPSEEK_TEMPERATURE
            )
            
            narration = clean_text_preserve_punctuation(response.choices[0].message.content.strip())
            
            self._save_interaction(prompt, story_content, narration)
            return narration
            
        except Exception as e:
            logger.error(f"❌ Generation failed: {e}")
            return None

# ===== FILE OPERATIONS =====
def read_file(path: Path) -> Optional[str]:
    if not path.exists(): return None
    try:
        with open(path, 'r', encoding='utf-8') as f: return f.read().strip()
    except UnicodeDecodeError:
        try:
            raw = path.read_bytes()
            enc = chardet.detect(raw)['encoding'] or 'utf-8'
            return raw.decode(enc).strip()
        except Exception:
            return None

def write_file(path: Path, content: str) -> bool:
    try:
        path.parent.mkdir(parents=True, exist_ok=True)
        with open(path, 'w', encoding='utf-8') as f: f.write(content)
        return True
    except Exception as e:
        logger.error(f"❌ Write error {path.name}: {e}")
        return False

# ===== ROBUST PARSING LOGIC (FIXED) =====
def parse_scenes_robust(content: str) -> List[Dict]:
    """
    Robustly parses scenes using a state machine approach.
    Handles variations like:
    - "Scene 1" vs "SCENE 1" vs "## Scene 1"
    - "Shot 1" vs "SHOT 1" vs "1. Shot"
    """
    structured_data = []
    
    # Normalize line endings and split
    lines = content.replace('\r\n', '\n').split('\n')
    
    current_scene_header = "Unknown Scene"
    current_visual_anchor = "A cinematic background."
    current_shot_buffer = []
    current_shot_header = ""
    
    # Regex patterns for flexibility
    scene_pattern = re.compile(r'^(?:#+\s*)?(?:SCENE|Scene)\s+(\d+)', re.IGNORECASE)
    anchor_pattern = re.compile(r'(?:Visual Anchor|Setting|Background):\s*(.*)', re.IGNORECASE)
    shot_pattern = re.compile(r'^(?:#+\s*)?(?:SHOT|Shot)\s+(\d+)', re.IGNORECASE)

    def save_current_shot():
        if current_shot_header and current_shot_buffer:
            # Flatten buffer to text
            shot_text = "\n".join(current_shot_buffer).strip()
            # Create composite input for Step 5
            composite_input = (
                f"CONTEXT: {current_scene_header}\n"
                f"VISUAL ANCHOR: {current_visual_anchor}\n"
                f"SPECIFIC SHOT DETAILS:\n{shot_text}"
            )
            structured_data.append({
                'id': f"{current_scene_header} - {current_shot_header}",
                'full_text': composite_input
            })

    for line in lines:
        line_clean = line.strip().replace('*', '') # Remove bolding for checking
        
        # 1. Detect Scene Header
        if scene_pattern.search(line_clean):
            save_current_shot() # Save previous shot if exists
            current_scene_header = line.strip().replace('*', '').replace('#', '')
            # Reset for new scene
            current_shot_buffer = []
            current_shot_header = ""
            current_visual_anchor = "A cinematic background." # Reset anchor
            continue
            
        # 2. Detect Visual Anchor
        anchor_match = anchor_pattern.search(line_clean)
        if anchor_match:
            current_visual_anchor = anchor_match.group(1).strip()
            continue
            
        # 3. Detect Shot Header
        shot_match = shot_pattern.search(line_clean)
        if shot_match:
            save_current_shot() # Save previous shot
            current_shot_header = line.strip().replace('*', '')
            current_shot_buffer = [] # Start new buffer
            continue
            
        # 4. Accumulate Content (if inside a shot)
        if current_shot_header:
            current_shot_buffer.append(line)

    # Save the very last shot
    save_current_shot()
    
    return structured_data

# ===== STEP 5 LOGIC (FIXED) =====
def process_step_5_parallel(paths: Dict[str, Path]) -> bool:
    """Updated to handle Shot-level generation with Character Consistency Injection"""
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False
    
    # Clean up output file before generation
    output_path = paths['step5_output']
    if not cleanup_output_file(output_path):
        logger.warning(f"⚠️ Could not clean up {output_path.name}, continuing...")
    
    prompt_template = read_file(paths['step5_prompt'])
    scenes_content = read_file(paths['step4_output'])
    
    # CRITICAL FIX 1: Read Character Sheet for visual consistency
    character_sheet = read_file(paths['step3_output']) 
    if not character_sheet:
        logger.warning("⚠️ Character sheet not found. Visuals may be inconsistent.")
        character_sheet = "No character definitions provided."
    
    # CRITICAL FIX 2: Use Robust Parser
    shots_to_process = parse_scenes_robust(scenes_content)
    
    if not shots_to_process:
        logger.error("❌ No shots found to process. Check Step 4 output format.")
        return False
        
    logger.info(f"🚀 Starting parallel generation for {len(shots_to_process)} shots...")
    
    results = {}
    
    def process_single_shot(shot_data):
        # CRITICAL FIX 3: Inject Character Data into the prompt
        prompt_input = (
            f"{prompt_template}\n\n"
            f"=== REFERENCE: CHARACTER VISUALS (STRICT ADHERENCE) ===\n"
            f"{character_sheet}\n\n"
            f"=== INPUT DATA (SCENE & SHOT) ===\n"
            f"{shot_data['full_text']}"
        )
        # We assume the Prompt Template instructs the AI to use this data
        result = narrator.generate_narration(prompt_template, prompt_input, use_history=False)
        return shot_data['id'], result

    with ThreadPoolExecutor(max_workers=5) as executor:
        future_to_shot = {executor.submit(process_single_shot, s): s for s in shots_to_process}
        
        for future in as_completed(future_to_shot):
            shot_id, output = future.result()
            if output:
                results[shot_id] = output
                logger.info(f"✅ Finished {shot_id}")
            else:
                results[shot_id] = "[Generation Failed]"

    # Reconstruct Output
    final_output = "IMAGE PROMPTS:\n\n"
    # Sort keys to ensure Scene 1 Shot 1 comes before Scene 1 Shot 2
    for key in sorted(results.keys()): 
        final_output += f"=== {key} ===\n{results[key]}\n\n"
        
    return write_file(output_path, final_output)

# ===== STEP 6 LOGIC =====
def process_step_6_metadata(paths: Dict[str, Path]) -> bool:
    """Process Step 6: Generate YouTube metadata from narration script"""
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False
    
    # Clean up output file before generation
    output_path = paths['step6_output']
    if not cleanup_output_file(output_path):
        logger.warning(f"⚠️ Could not clean up {output_path.name}, continuing...")
    
    # Read the prompt template for Step 6
    prompt_template = read_file(paths['step6_prompt'])
    if not prompt_template:
        logger.error("❌ Step 6 prompt template not found")
        return False
    
    # Read the narration script (main input for Step 6)
    narration_script = read_file(paths['step2_output'])  # narration.txt
    if not narration_script:
        logger.error("❌ Narration script not found for Step 6")
        return False
    
    # Optionally read framework for audience context (not required but helpful)
    framework_content = read_file(paths['step1_output'])
    
    # Prepare input for AI
    if framework_content:
        inputs = f"=== NARRATION SCRIPT ===\n{narration_script}\n\n=== AUDIENCE FRAMEWORK (for context) ===\n{framework_content}"
    else:
        inputs = f"=== NARRATION SCRIPT ===\n{narration_script}"
    
    logger.info("🚀 Starting Step 6: YouTube Metadata Generation...")
    
    # Generate metadata using AI
    metadata = narrator.generate_narration(prompt_template, inputs, use_history=True)
    
    if not metadata:
        logger.error("❌ Failed to generate metadata")
        return False
    
    # Save the output
    success = write_file(output_path, metadata)
    if success:
        logger.info("✅ Step 6 (YouTube Metadata) Complete")
    return success

# ===== STEP 7 LOGIC =====
def process_step_7_audio_text(paths: Dict[str, Path]) -> bool:
    """Process Step 7: Generate audio-enhanced text from narration"""
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False
    
    # Clean up output file before generation
    output_path = paths['step7_output']
    if not cleanup_output_file(output_path):
        logger.warning(f"⚠️ Could not clean up {output_path.name}, continuing...")
    
    # Read the prompt template for Step 7
    prompt_template = read_file(paths['step7_prompt'])
    if not prompt_template:
        logger.error("❌ Step 7 prompt template not found")
        return False
    
    # Read the narration script (main input for Step 7)
    narration_script = read_file(paths['step2_output'])  # narration.txt
    if not narration_script:
        logger.error("❌ Narration script not found for Step 7")
        return False
    
    # Prepare input for AI - using narration as the dialogue to enhance
    inputs = f"=== NARRATION TO ENHANCE WITH AUDIO TAGS ===\n{narration_script}"
    
    logger.info("🚀 Starting Step 7: Audio Text Enhancement...")
    
    # Generate enhanced audio text using AI
    enhanced_audio_text = narrator.generate_narration(prompt_template, inputs, use_history=True)
    
    if not enhanced_audio_text:
        logger.error("❌ Failed to generate enhanced audio text")
        return False
    
    # Save the output
    success = write_file(output_path, enhanced_audio_text)
    if success:
        logger.info("✅ Step 7 (Audio Enhanced Text) Complete")
    return success

# ===== STANDARD STEP PROCESSING =====
def run_standard_step(step_num: int, paths: Dict[str, Path]) -> bool:
    """Handle standard steps (1-4, 6, 7) that follow similar patterns"""
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False

    config = STEP_FILES[step_num]
    prompt = read_file(paths[f'step{step_num}_prompt'])
    
    # Clean up output file before generation
    output_path = paths[f'step{step_num}_output']
    if not cleanup_output_file(output_path):
        logger.warning(f"⚠️ Could not clean up {output_path.name}, continuing...")
    
    # Gather inputs based on step logic
    inputs = ""
    if step_num == 1:
        inputs = read_file(paths['story_file'])
    elif step_num == 2:
        story = read_file(paths['story_file'])
        framework = read_file(paths['step1_output'])
        if not framework: return False
        inputs = f"STORY:\n{story}\n\nFRAMEWORK:\n{framework}"
    elif step_num == 3:
        inputs = read_file(paths['step2_output'])  # Needs narration
    elif step_num == 4:
        # Step 4 needs BOTH Narration and Character Sheets
        narration = read_file(paths['step2_output'])
        chars = read_file(paths['step3_output'])
        if not narration or not chars: return False
        inputs = f"STORY:\n{narration}\n\nCHARACTER DESIGNS (STRICT REFERENCE):\n{chars}"
    elif step_num == 6:
        # Handle Step 6 separately via process_step_6_metadata
        return process_step_6_metadata(paths)
    elif step_num == 7:
        # Handle Step 7 separately via process_step_7_audio_text
        return process_step_7_audio_text(paths)
        
    if not prompt or not inputs:
        logger.error(f"❌ Missing inputs for Step {step_num}")
        return False

    result = narrator.generate_narration(prompt, inputs, use_history=True)
    if result:
        write_file(output_path, result)
        logger.info(f"✅ Step {step_num} ({config['desc']}) Complete")
        return True
    return False

# ===== MAIN EXECUTION =====
def main():
    parser = argparse.ArgumentParser(description="YouTube Automation Pipeline")
    parser.add_argument('--step', type=int, nargs='+', help="Run specific steps (e.g., --step 1 2 5 6 7)")
    parser.add_argument('--all', action='store_true', help="Run all steps 1-7")
    parser.add_argument('--story', type=str, default=STORY_FOLDER, help=f"Story folder name (default: {STORY_FOLDER})")
    parser.add_argument('--no-git', action='store_true', help="Disable automatic git commit")
    args = parser.parse_args()

    # Use provided story folder or default
    story_folder = args.story
    paths = build_paths(BASE_PROJECT, CHANNEL_FOLDER, story_folder)
    
    # Validate story directory exists
    if not paths['story_dir'].exists():
        logger.error(f"❌ Story directory not found: {paths['story_dir']}")
        return
    
    # Determine steps to run
    steps_to_run = []
    if args.all:
        steps_to_run = [1, 2, 3, 4, 5, 6, 7]
    elif args.step:
        steps_to_run = sorted(set(args.step))  # Remove duplicates
    else:
        print("Usage: python main.py --all OR --step 1 2 5 6 7")
        print(f"Available steps: {list(STEP_FILES.keys())}")
        return

    logger.info(f"📂 Project Root: {paths['project_root']}")
    logger.info(f"📝 Story Folder: {story_folder}")

    # Track successful steps
    successful_steps = []
    
    for step in steps_to_run:
        if step not in STEP_FILES:
            logger.warning(f"⚠️ Skipping invalid step {step}")
            continue
            
        logger.info(f"\n--- Running Step {step}: {STEP_FILES[step]['desc']} ---")
        
        # Special handling for Step 5
        if step == 5:
            success = process_step_5_parallel(paths)
        else:
            success = run_standard_step(step, paths)
            
        if success:
            successful_steps.append(step)
        else:
            logger.error(f"⛔ Pipeline stopped at Step {step}")
            break
        
        # Brief pause between steps to avoid rate limiting
        time.sleep(1)

    # Summary of execution
    logger.info("\n" + "="*50)
    if successful_steps:
        logger.info(f"📊 Pipeline completed {len(successful_steps)}/{len(steps_to_run)} steps successfully")
        logger.info(f"✅ Successful steps: {', '.join([f'Step {s}' for s in successful_steps])}")
    else:
        logger.info("📊 No steps were completed successfully")
    
    # Auto git commit (if not disabled and we have successful steps)
    if successful_steps and not args.no_git:
        logger.info("\n📤 Attempting automatic git commit...")
        git_success = git_auto_commit(story_folder, successful_steps)
        if git_success:
            logger.info("✅ Git auto-commit completed")
        else:
            logger.info("ℹ️ Git auto-commit had issues (check logs above)")
    elif args.no_git:
        logger.info("🔒 Git auto-commit disabled (--no-git flag)")
    
    logger.info("\n🎬 Pipeline execution finished!")

if __name__ == "__main__":
    main()



================================================================================
FILE: yt-python/requirements.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/yt-python/requirements.txt
ENCODING: utf-8
================================================================================

openai>=1.0.0
httpx>=0.24.0
tenacity>=8.2.0
python-dotenv>=1.0.0  # for environment variables
google-api-python-client>=2.0.0
google-auth-httplib2>=0.1.0
google-auth-oauthlib>=1.0.0
openai>=1.0.0
httpx>=0.24.0
openai>=1.0.0
httpx>=0.24.0
tenacity>=8.2.0

