Generated: 2025-12-08 07:31:11
Combined All file content of *.txt, *.py files
From Directory: /root/Desktop/yt-automation/
Recursive Search: True
Total Files: 19
================================================================================


================================================================================
FILE: channel/ranpuzel/audio-text.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/audio-text.txt
ENCODING: utf-8
================================================================================

[brightly] Have you ever seen hair that could glow like sunshine?!

[gentle awe] In a kingdom that looked like a giant, sunny playground, there stood a tower so tall it almost tickled the clouds! And at the very top, lived a girl named Radhita. She had the longest, most golden hair you could imagine. And when she sang her special song… [soft singing] "Flower, gleam and glow"... [warmly] it would sparkle with a beautiful, warm light.

[soft sigh] But can you guess what? Radhita was very lonely. Her only friends were a little color-changing chameleon named Pascal, and a brave horse named Maximus. She dreamed of one thing… the floating lights that appeared in the sky every single year on her birthday.

[calm but tense] The woman who lived with her, Mother Gothel, had a voice that sounded sweet, but her words were sharp. [stern tone] "The outside world is a scary, terrible place," she would say. But what do you think? Was she telling the truth?

[slightly startled] One day, a surprise visitor climbed right up that tall tower! It was a young man named Flynn Rider. He was funny and on a big adventure. Radhita was scared… [nervous breath] but she was also so, so brave. She made a deal with him. [determined] "You take me to see the floating lights, and Ill give you back your sparkly crown."


================================================================================
FILE: channel/ranpuzel/character_sheet.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/character_sheet.txt
ENCODING: utf-8
================================================================================

Radhita Category: Human Role: Main
1. Visual Data Breakdown:
a Explicit Traits Canon: Girl, longest most golden hair, hair glows with warm light when singing, hair turns brown and loses glow when cut
b Inferred Traits AI Casting: Late teens, European ethnicity, fair skin, slender build, simple medieval-style dress, barefoot

2. Master Visual Definition Subject Only:
Late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot

3. Personality/Vibe Keywords:
Innocent, magical, hopeful, gentle

4. Dynamic Prompt Template:
Insert Art Style Here :: Late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot :: Innocent, magical, hopeful, gentle, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Pascal Category: Creature Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Little color-changing chameleon
b Inferred Traits AI Casting: Small reptile, textured skin, large expressive eyes, ability to change colors and patterns

2. Master Visual Definition Subject Only:
Small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws

3. Personality/Vibe Keywords:
Expressive, loyal, playful, colorful

4. Dynamic Prompt Template:
Insert Art Style Here :: Small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws :: Expressive, loyal, playful, colorful, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Maximus Category: Creature Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Brave horse
b Inferred Traits AI Casting: Large white stallion, muscular build, intelligent eyes, royal guard armor or tack

2. Master Visual Definition Subject Only:
Large white stallion, muscular athletic build, intelligent expressive eyes, flowing mane and tail, royal guard tack and bridle

3. Personality/Vibe Keywords:
Noble, determined, loyal, majestic

4. Dynamic Prompt Template:
Insert Art Style Here :: Large white stallion, muscular athletic build, intelligent expressive eyes, flowing mane and tail, royal guard tack and bridle :: Noble, determined, loyal, majestic, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Mother Gothel Category: Human Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Woman, voice sounds sweet but words are sharp
b Inferred Traits AI Casting: Middle-aged, European ethnicity, elegant but severe features, dramatic dark clothing, regal but imposing presence

2. Master Visual Definition Subject Only:
Middle-aged woman, European features, elegant but severe facial structure, dramatic dark medieval gown, elaborate hairstyle, commanding presence

3. Personality/Vibe Keywords:
Manipulative, elegant, imposing, dramatic

4. Dynamic Prompt Template:
Insert Art Style Here :: Middle-aged woman, European features, elegant but severe facial structure, dramatic dark medieval gown, elaborate hairstyle, commanding presence :: Manipulative, elegant, imposing, dramatic, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Eugene/Flynn Rider Category: Human Role: Main
1. Visual Data Breakdown:
a Explicit Traits Canon: Young man, funny, on a big adventure, has a sparkly crown
b Inferred Traits AI Casting: Early 20s, European ethnicity, athletic build, charming rogue appearance, leather vest and trousers, confident posture

2. Master Visual Definition Subject Only:
Young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk

3. Personality/Vibe Keywords:
Charming, adventurous, confident, roguish

4. Dynamic Prompt Template:
Insert Art Style Here :: Young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk :: Charming, adventurous, confident, roguish, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

The King Category: Human Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: King, Radhita's real father
b Inferred Traits AI Casting: Middle-aged, European ethnicity, regal bearing, royal robes and crown, kind but authoritative features

2. Master Visual Definition Subject Only:
Middle-aged king, European features, regal bearing, elaborate royal robes with gold embroidery, ornate crown, kind but authoritative facial expression

3. Personality/Vibe Keywords:
Regal, paternal, authoritative, kind

4. Dynamic Prompt Template:
Insert Art Style Here :: Middle-aged king, European features, regal bearing, elaborate royal robes with gold embroidery, ornate crown, kind but authoritative facial expression :: Regal, paternal, authoritative, kind, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

The Queen Category: Human Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Queen, Radhita's real mother
b Inferred Traits AI Casting: Middle-aged, European ethnicity, graceful elegance, royal gown and tiara, gentle but regal features

2. Master Visual Definition Subject Only:
Middle-aged queen, European features, graceful elegance, flowing royal gown with intricate details, delicate tiara, gentle but regal facial expression

3. Personality/Vibe Keywords:
Elegant, maternal, graceful, regal

4. Dynamic Prompt Template:
Insert Art Style Here :: Middle-aged queen, European features, graceful elegance, flowing royal gown with intricate details, delicate tiara, gentle but regal facial expression :: Elegant, maternal, graceful, regal, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Floating Lights Category: Sentient Object Role: Background
1. Visual Data Breakdown:
a Explicit Traits Canon: Golden floating lights, appear every year on birthday, fill the sky
b Inferred Traits AI Casting: Paper lanterns with candle illumination, warm golden glow, various sizes, magical floating quality

2. Master Visual Definition Subject Only:
Golden paper lanterns with candle illumination, warm glowing light, delicate paper material, floating magical quality, various sizes from small to large

3. Personality/Vibe Keywords:
Magical, hopeful, celebratory, luminous

4. Dynamic Prompt Template:
Insert Art Style Here :: Golden paper lanterns with candle illumination, warm glowing light, delicate paper material, floating magical quality, various sizes from small to large :: Magical, hopeful, celebratory, luminous, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Sparkly Crown Category: Sentient Object Role: Background
1. Visual Data Breakdown:
a Explicit Traits Canon: Sparkly crown
b Inferred Traits AI Casting: Gold metalwork, embedded gemstones, intricate royal design, reflective surfaces

2. Master Visual Definition Subject Only:
Intricate gold royal crown, embedded sparkling gemstones, polished metal surfaces, elaborate royal design with peaks and details

3. Personality/Vibe Keywords:
Royal, valuable, sparkling, ornate

4. Dynamic Prompt Template:
Insert Art Style Here :: Intricate gold royal crown, embedded sparkling gemstones, polished metal surfaces, elaborate royal design with peaks and details :: Royal, valuable, sparkling, ornate, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts.


================================================================================
FILE: channel/ranpuzel/image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/image_prompt.txt
ENCODING: utf-8
================================================================================

IMAGE PROMPTS:

===  SCENE 1: The Lonely Tower - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a late teenage girl, European features, fair complexion, slender frame, simple medieval-style peasant dress, barefoot, sitting on the floor with her back to a large window, her impossibly long golden hair pooled around her like a golden rug, looking down wistfully at a painting she is drawing on the stone floor, with a small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws, perched on her knee displaying a muted sad blue skin color, set in a tall, circular stone tower room with a single large window revealing a sunny sky, sparsely furnished with a simple bed, a wooden chair, and a small table, stone walls covered with colorful childlike paintings, with warm volumetric morning sunlight creating a bright pool of light on the floor around her, dust motes dancing in the sunbeams.

===  SCENE 1: The Lonely Tower - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a middle-aged woman with elegant but severe facial structure in a dramatic dark medieval gown standing imposingly over a late teenage girl with European features, fair complexion, and extremely long golden hair in a simple medieval-style peasant dress, with the woman's possessive hand placed on the girl's shoulder as the girl looks up with a face full of conflicted emotion, set in a tall circular stone tower room with a single large window, sparsely furnished with a simple bed and wooden chair, stone walls covered in colorful childlike paintings, with warm volumetric sunlight casting long dramatic shadows.

===  SCENE 1: The Lonely Tower - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, close up shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair glowing with a soft warm light, simple medieval-style peasant dress, barefoot, standing at a large window with her hands pressed against the stone sill, gazing out with a deeply yearning and hopeful expression, set in a tall circular stone tower room with a single large window revealing a sunny sky, sparsely furnished with a simple bed, a wooden chair, and a small table, stone walls covered with colorful childlike paintings, with warm volumetric sunlight streaming through the window backlighting her, making her glowing hair and the edges of her dress shine, dust motes dancing in the sunbeams.

===  SCENE 2: The Intruder - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, low angle shot of a young man in early 20s with an athletic build and charming rogue appearance, frozen mid-action crouched on the floor after pulling himself over a windowsill, holding an intricate gold royal crown with embedded sparkling gemstones in one hand, looking around with a confident smirk and surprised expression, set in a disarrayed tower room illuminated by late afternoon sun casting long golden-hour shadows.

===  SCENE 2: The Intruder - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot standing bravely over an unconscious young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, with the girl holding a heavy frying pan with both hands and her eyes wide with a mix of fear and determination, set in a disarrayed tower room illuminated by a golden-hour late afternoon glow, with a comedic confrontation atmosphere.

===  SCENE 3: The Meadow of Freedom - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a late teenage girl with extremely long golden hair and a simple medieval-style peasant dress with her arms outstretched beginning to run in the distance, a young man in his early 20s with an athletic build and a charming rogue appearance in leather adventurer's vest and trousers watching from the foreground with an amused smirk, a large white stallion with a muscular athletic build and royal guard tack partially visible grazing peacefully, set in a vast sun-drenched meadow filled with wildflowers including daisies, poppies, and bluebells under a clear blue sky with puffy white clouds, with bright cheerful midday sun high in the sky creating vibrant saturated colors and a gentle breeze causing the grass and flowers to sway.

===  SCENE 3: The Meadow of Freedom - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, extreme close up of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, with her toes curling into the soft, tickly green grass and crushed daisy, poppy, and bluebell petals, set in a vast, sun-drenched meadow filled with wildflowers under a clear blue sky with puffy white clouds, with the sun highlighting the texture of the grass and the delicate petals, a gentle breeze causing the grass and flowers to sway.

===  SCENE 3: The Meadow of Freedom - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, low angle shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, caught mid-twirl with her dress and hair flying out around her, head thrown back in pure unrestrained laughter, and a small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws, clinging to her shoulder with skin a bright joyful green and yellow, set in a vast sun-drenched meadow filled with wildflowers daisies, poppies, and bluebells under a clear blue sky with puffy white clouds, with a gentle breeze causing the grass and flowers to sway, backlit by the sun creating a glowing halo effect.

===  SCENE 4: The Lantern Festival - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a small wooden rowboat in the center of a perfectly calm, dark lake, with a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, and a young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk, as small figures in the boat looking up in awe, set in a dark lake under a deep twilight purple sky filled with countless golden paper lanterns with candle illumination, warm glowing light, delicate paper material, floating magical quality, various sizes from small to large, with the reflections of the lanterns shimmering on the water's surface, with the only light coming from the thousands of warm, golden lanterns, creating a magical, luminous atmosphere.

===  SCENE 4: The Lantern Festival - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, close-up two-shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, and a young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, looking at each other with deep emotional connection, the girl's face full of awe and dawning love, the man's confident smirk softened into a genuine tender smile, with a single golden paper lantern with candle illumination, warm glowing light, floating magically between them and intimately illuminating their faces, set in a small wooden rowboat on a perfectly calm, dark mirror-like lake under a deep twilight purple sky filled with countless floating golden paper lanterns, with the reflections of the lanterns shimmering on the water's surface, with warm soft glow from the lanterns creating an intimate lighting atmosphere.

===  SCENE 5: The Final Confrontation - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a middle-aged woman with elegant but severe facial structure in a dramatic dark medieval gown standing triumphantly over a late teenage girl with European features and extremely long golden hair who is chained by her hair to a post and kneeling with her head bowed in despair, set in a dark gloomy stone tower room illuminated only by a single candle and the faint glow of distant lanterns, with dramatic low-key lighting creating deep shadows and a tense, dark, oppressive atmosphere.

===  SCENE 5: The Final Confrontation - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, dutch angle shot of a young man in early 20s with an athletic build and charming rogue appearance, wearing a leather adventurer's vest and trousers, frozen mid-swing as he slices through a teenage girl's hair with a shard of broken mirror, a late teenage girl with European features, fair complexion, slender frame, and extremely long golden hair, wearing a simple medieval-style peasant dress, her eyes wide with shock, a middle-aged woman with European features, elegant but severe facial structure, wearing a dramatic dark medieval gown, her face a mask of horror and fury as she reaches out to stop the young man, set in a dark gloomy stone tower room, with a chaotic flash of light from the distant golden lanterns outside illuminating the frozen struggle, creating a cold and oppressive atmosphere.

===  SCENE 5: The Final Confrontation - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, extreme close up of a late teenage girl, European features, fair complexion, slender frame, with short brown hair, kneeling over a wounded young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, cradling his head with a profound expression of love and sorrow, a single luminous tear frozen mid-fall from her eye about to land on his cheek, set in a dark gloomy stone tower room illuminated only by a single candle and the faint glow of distant lanterns, with a soft magical glow beginning to emanate from the tear pushing back the oppressive darkness.

===  SCENE 6: The Homecoming - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a middle-aged king and a middle-aged queen standing side-by-side at a balcony railing, looking out with hopeful yet slightly sad expressions, the picture of regal patience and longing, a middle-aged king with European features, regal bearing, elaborate royal robes with gold embroidery, and ornate crown, a middle-aged queen with European features, graceful elegance, flowing royal gown with intricate details, and delicate tiara, set in a grand sunlit palace balcony made of white marble with intricate carvings, with the sunny kingdom visible in the background below and banners fluttering in a gentle breeze, with bright warm late afternoon sun bathing the balcony in a golden peaceful light.

===  SCENE 6: The Homecoming - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a profound family hug, a middle-aged queen with graceful elegance in a flowing royal gown with intricate details and a delicate tiara has her arms wrapped tightly around a late teenage girl with European features, fair complexion, slender frame, and extremely long golden hair who is burying her face in her mother's shoulder, a middle-aged king with regal bearing in elaborate royal robes with gold embroidery and an ornate crown has one arm around the queen and his other hand on the girl's back, his eyes closed in profound relief and joy, a young man in his early 20s with an athletic build and charming rogue appearance in a leather adventurer's vest and trousers stands slightly to the side smiling warmly, a small chameleon reptile with textured color-changing skin and large expressive eyes is perched on the girl's shoulder, a large white stallion with a muscular athletic build, intelligent expressive eyes, and royal guard tack stands proudly behind the group, set in a grand sunlit palace balcony made of white marble with intricate carvings, with the sunny kingdom visible in the background below and banners fluttering in a gentle breeze, with the golden sun creating a halo around the reunited family, emphasizing the heartwarming moment.

===  SCENE 6: The Homecoming - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, close up of a late teenage girl, European features, fair complexion, slender frame, short brown hair tucked behind her ear, simple medieval-style peasant dress, and a young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk, holding hands and looking out over their kingdom with hopeful, contented expressions, set in a grand sunlit palace balcony made of white marble with intricate carvings, with the sunny kingdom visible in the background and banners fluttering in a gentle breeze, illuminated by warm sunset light that silhouettes them, creating a symbolic and atmospheric glow.




================================================================================
FILE: channel/ranpuzel/narration.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration.txt
ENCODING: utf-8
================================================================================

Warm, magical Disney-style narrator voice begins

Have you ever seen hair that could glow like sunshine? ✨

In a kingdom that looked like a giant, sunny playground, there stood a tower so tall it almost tickled the clouds! And at the very top, lived a girl named Radhita. She had the longest, most golden hair you could imagine. And when she sang her special song… "Flower, gleam and glow"... it would sparkle with a beautiful, warm light.

But can you guess what? Radhita was very lonely. Her only friends were a little color-changing chameleon named Pascal, and a brave horse named Maximus. She dreamed of one thing… the floating lights that appeared in the sky every single year on her birthday.

The woman who lived with her, Mother Gothel, had a voice that sounded sweet, but her words were sharp. "The outside world is a scary, terrible place," she would say. But what do you think? Was she telling the truth?

One day, a surprise visitor climbed right up that tall tower! It was a young man named Flynn Rider. He was funny and on a big adventure. Radhita was scared… but she was also so, so brave. She made a deal with him. "You take me to see the floating lights, and I'll give you back your sparkly crown."

And so… their amazing adventure began!

Eugene—that was Flynn's real name, a secret he shared—took her to a wonderful, open meadow. For the very first time, Radhita felt the soft, tickly grass under her feet. She laughed and danced and twirled. What would it feel like to touch grass for the very first time?

Later, they found a big, joyful party! The sound of happy music filled the air. Everyone was singing and dancing. Radhita joined right in, even using a frying pan to bang along with the beat! She realized the world wasn't scary at all. It was full of wonderful, new friends.

As the sun began to set, something magical happened. Eugene led her to a little boat on a calm, dark lake. And then… they began to rise. Hundreds… no, thousands of golden floating lights filled the sky all around them. It was the most beautiful sight Radhita had ever seen. Her heart felt so full.

But little did they know, Mother Gothel was watching. She tricked Radhita and took her back to the lonely tower. It seemed like all the magic was gone.

However, Eugene’s heart was true and brave. He loved Radhita and wanted her to be free. He climbed the tower to save her! There was a struggle, and in a moment of suspense… snip! Radhita’s long, magical hair was cut. It turned brown and the glow faded away.

For a moment, everything was still and quiet. But then, something even more magical happened. Radhita’s love for Eugene was so powerful, it created a new magic—a magic of the heart. A single, happy tear fell from her eye… and it healed him! It proved that true love is the most powerful magic of all.

He took her hand, and they left that tower forever. And on a grand, sunlit balcony, Radhita was finally reunited with her real family, the King and Queen. They had been sending those lights into the sky every year, hoping their lost daughter would find her way home.

Radhita finally had the family and the freedom she had always dreamed of. She, Eugene, Pascal, and Maximus lived happily ever after, exploring their wonderfully un-scary world.

So remember, being brave can lead you to wonderful new places. And the most powerful magic of all… is true love.

What was your favorite magical moment? Was it the glowing hair, the floating lights, or the happy family hug? Let us know in the comments!


================================================================================
FILE: channel/ranpuzel/narration_framework.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration_framework.txt
ENCODING: utf-8
================================================================================

STORY IDENTITY --
Original Title: Tangled
Working Title: Radhita and the Floating Lights
Core Moral: Bravery leads to discovering a wonderful world, and true love is the most powerful magic.
Genre: Fantasy Adventure
Character Profiles: Radhita: curious, brave, artistic, kind, lonely but hopeful, Eugene/Flynn Rider: funny, kind, adventurous, secretly caring, Mother Gothel: selfish, manipulative, controlling

AUDIENCE STRATEGY --
Target Viewer-
Primary Age: 4-8
Viewing Context: YouTube Kids autoplay, family viewing
Desired Length: 8-10 minutes
Parent/Teacher Needs: Simple vocabulary, themes of bravery, kindness, emotional recognition, problem-solving, safe and positive themes

YOUTUBE OPTIMIZATION--
Platform Requirements-
Primary Keywords: kids story, fairy tale for kids, bravery story, Tangled for kids, magical hair story
Retention Strategy: High engagement throughout, Emotional shifts every 12-20 seconds, Scene change every 10-20 seconds, Visual wow moments
Shareability Factors: Heartwarming ending, exciting adventure, beautiful visuals, magical moments
Series Potential: Yes - Further adventures of Radhita and Eugene exploring the kingdom
Thumbnail Moment Indicators: Moment 1: Radhita's glowing hair in the tower, Moment 2: The boat surrounded by floating lanterns, Moment 3 optional: The family hug reunion on the balcony

NARRATION SPECIFICS--
Voice & Style-
Narrator Persona: Warm, magical Disney-style storyteller
Tone Reference: optional but powerful Narration style similar to classic Disney narrators, with the warmth of a favorite teacher reading a bedtime story. , Add here: 
Emotional Range: Curious, excited, gentle, suspenseful, heartwarming
Pace Variations: Fast during the escape and party scene, Medium during the journey and meadow scene, Slow during the lantern scene and emotional reunion,
Vocabulary Level:2nd-3rd grade U.S. reading level
Cultural Neutrality: Yes - avoid slang, keep universal
Interactive Level: Medium frequency of questions, direct address

STRUCTURAL REQUIREMENTS--
Opening Hook: Must grab attention in first 10 seconds with curiosity, magic, or sensory detail.
Example starter: Have you ever seen hair that could glow like sunshine?
Hook style: Magical sensory question
Scene Density: New scene every 10-20 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include 3-4 audience questions e.g., What would YOU do?
Sensory Anchors:
Include 1 sensory detail per major scene- Sight: Glowing golden hair, Sound: "Flower, gleam and glow" song, Touch: Soft grass under feet, Light/Motion: Floating lanterns rising
Character Voice Cues: Character 1: Radhita: Sweet, curious, melodic, Character 2: Eugene: Confident, playful, warm, Character 3: Mother Gothel: Sweet-sounding but sometimes sharp
Transitions: Use smooth, childfriendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: Gentle, storybook-style
Educational Elements: Identifying emotions, problem-solving, bravery, kindness, recognizing true love vs. selfish love
Moral Reinforcement: Moderately obvious - stated clearly at the end
Optional CTA: Tell us which magical moment you loved the most! - optional


================================================================================
FILE: channel/ranpuzel/scenes.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/scenes.txt
ENCODING: utf-8
================================================================================

### SCENE 1: The Lonely Tower
Emotional Arc: Lonely - Hopeful
Setting Visual Anchor: A tall, circular stone tower room. A single large window reveals a sunny sky. The room is sparsely furnished with a simple bed, a wooden chair, and a small table. Dust motes dance in the warm, volumetric sunlight streaming through the window. The stone walls are covered with colorful, childlike paintings.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Pascal
Frozen Keyframe: Radhita sitting on the floor, her back to the window, her impossibly long, golden hair pooled around her like a golden rug. She is looking down at a painting she is drawing on the stone floor, her expression wistful. Pascal is perched on her knee, his skin a muted, sad blue.
Camera: Wide Shot
Lighting/Atmosphere: Warm, volumetric morning sunlight creating a bright pool of light on the floor around her.
Focus: Radhita's isolation within the sunlit room.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Mother Gothel
Frozen Keyframe: Mother Gothel standing over Radhita, one hand placed possessively on Radhita's shoulder. Her body language is imposing. Radhita is looking up at her, face full of conflicted emotion - part trust, part longing.
Camera: Medium Shot
Lighting/Atmosphere: The warm sunlight now casts long, dramatic shadows from Mother Gothel.
Focus: The controlling dynamic between the two characters.

 SHOT 3 ACTION/REACTION
Subjects: Radhita
Frozen Keyframe: Radhita now stands at the large window, hands pressed against the stone sill, gazing out at the distant kingdom. Her hair glows with a soft, warm light. Her expression is one of deep yearning and hope.
Camera: Close Up
Lighting/Atmosphere: The sunlight backlights her, making her glowing hair and the edges of her simple dress shine.
Focus: Radhita's hopeful face and her magical, glowing hair.

### SCENE 2: The Intruder
Emotional Arc: Scared - Brave
Setting Visual Anchor: The same tower room. The light has shifted to a later afternoon glow. The room is now in disarray from a struggle.

 SHOT 1 ESTABLISHING
Subjects: Eugene/Flynn Rider
Frozen Keyframe: Eugene has just pulled himself over the windowsill and is frozen mid-action, crouched on the floor inside the tower. He has a confident smirk, holding the Sparkly Crown in one hand. He is looking around the room with surprise.
Camera: Low Angle
Lighting/Atmosphere: Late afternoon sun, casting long golden-hour shadows across the room.
Focus: Eugene's dramatic and unexpected entrance.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Radhita is standing bravely, having just hit Eugene over the head with a heavy frying pan. She holds the pan with both hands, her eyes wide with a mix of fear and determination. Eugene is crumpled on the floor at her feet, unconscious.
Camera: Medium Shot
Lighting/Atmosphere: The golden-hour light illuminates the scene of the comedic confrontation.
Focus: Radhita's brave but frightened pose over the unconscious Eugene.

### SCENE 3: The Meadow of Freedom
Emotional Arc: Wonder - Joy
Setting Visual Anchor: A vast, sun-drenched meadow filled with wildflowers daisies, poppies, bluebells. A clear blue sky with puffy white clouds. A gentle breeze causes the grass and flowers to sway.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Eugene, Maximus
Frozen Keyframe: A wide view of the meadow. In the distance, Radhita is a small figure, arms outstretched, beginning to run. Eugene watches from the foreground with an amused smile. Maximus is partially visible, grazing peacefully.
Camera: Wide Shot
Lighting/Atmosphere: Bright, cheerful midday sun, high in the sky. The colors are vibrant and saturated.
Focus: The vastness of the outside world and Radhita's small figure within it.

 SHOT 2 ACTION/REACTION
Subjects: Radhita
Frozen Keyframe: Extreme close-up on Radhita's bare feet, toes curling into the soft, tickly green grass and crushed flower petals.
Camera: Extreme Close Up
Lighting/Atmosphere: The sun highlights the texture of the grass and the delicate petals.
Focus: The sensory detail of her first touch of grass.

 SHOT 3 ACTION/REACTION
Subjects: Radhita, Pascal
Frozen Keyframe: Radhita is caught mid-twirl, her simple dress and long golden hair flying out around her. Her head is thrown back in pure, unrestrained laughter. Pascal is clinging to her shoulder, his skin a bright, joyful green and yellow.
Camera: Low Angle
Lighting/Atmosphere: Backlit by the sun, creating a glowing, halo effect around her.
Focus: The pure, unadulterated joy on Radhita's face.

### SCENE 4: The Lantern Festival
Emotional Arc: Awe - Love
Setting Visual Anchor: A small, wooden rowboat on a perfectly calm, dark lake that acts as a mirror. The sky above is a deep twilight purple, filled with countless Floating Lights golden paper lanterns. The reflections of the lanterns shimmer on the water's surface.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Eugene, The Floating Lights
Frozen Keyframe: A wide shot of the little boat in the center of the lake, completely surrounded by the golden Floating Lights, which fill the sky and water. Radhita and Eugene are small figures in the boat, looking up.
Camera: Wide Shot
Lighting/Atmosphere: The only light comes from the thousands of warm, golden lanterns, creating a magical, luminous atmosphere.
Focus: The sheer scale and beauty of the lantern spectacle.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Close-up two-shot. Radhita and Eugene are looking at each other, not at the lights. Radhita's face is full of awe and dawning love. Eugene's confident smirk has softened into a genuine, tender smile. A single Floating Light drives between them, illuminating their faces.
Camera: Close Up
Lighting/Atmosphere: The warm, soft glow from the lantern lights their faces intimately.
Focus: The emotional connection between the two characters.

### SCENE 5: The Final Confrontation
Emotional Arc: Despair - Hope
Setting Visual Anchor: The tower room again, but now it is dark and gloomy. The only light comes from a single candle and the faint glow of the distant lanterns. The room feels cold and oppressive.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Mother Gothel
Frozen Keyframe: Radhita is chained by her hair to a post. Her hair is still long and golden. She is on her knees, head bowed in despair. Mother Gothel stands over her, a triumphant and cruel smile on her face.
Camera: Medium Shot
Lighting/Atmosphere: Dramatic, low-key lighting with deep shadows. The mood is tense and dark.
Focus: Radhita's imprisonment and Mother Gothel's victory.

 SHOT 2 ACTION/REACTION
Subjects: Eugene, Radhita, Mother Gothel
Frozen Keyframe: The moment of the hair cut. Eugene has burst in and grabbed a shard of broken mirror. He is frozen mid-swing, slicing through Radhita's long hair. Radhita's eyes are wide with shock. Mother Gothel's face is a mask of horror and fury as she reaches out to stop him.
Camera: Dutch Angle
Lighting/Atmosphere: A chaotic flash of light from the lanterns outside illuminates the frozen struggle.
Focus: The climactic, decisive action of cutting the hair.

 SHOT 3 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Eugene is wounded, lying on the floor. Radhita kneels over him, cradling his head. Her hair is now short and brown. A single, luminous tear is frozen mid-fall from her eye, about to land on his cheek. Her expression is one of profound love and sorrow.
Camera: Extreme Close Up
Lighting/Atmosphere: A soft, magical glow begins to emanate from the tear, pushing back the darkness.
Focus: The magical tear and the expression of true love on Radhita's face.

### SCENE 6: The Homecoming
Emotional Arc: Joy - Peace
Setting Visual Anchor: A grand, sunlit palace balcony made of white marble with intricate carvings. The kingdom, now a "sunny playground," is visible in the background below. Banners flutter in a gentle breeze.

 SHOT 1 ESTABLISHING
Subjects: The King, The Queen
Frozen Keyframe: The King and Queen stand side-by-side at the balcony railing, looking out with hopeful, yet slightly sad, expressions. They are the picture of regal patience and longing.
Camera: Wide Shot
Lighting/Atmosphere: Bright, warm, late afternoon sun bathes the balcony in a golden, peaceful light.
Focus: The royal parents awaiting their daughter.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, The King, The Queen, Eugene, Pascal, Maximus
Frozen Keyframe: The family hug. The Queen has her arms wrapped tightly around Radhita, who is burying her face in her mother's shoulder. The King has one arm around the Queen and his other hand on Radhita's back, his eyes closed in profound relief and joy. Eugene stands slightly to the side, smiling warmly. Pascal is on Radhita's shoulder, and Maximus stands proudly behind them all.
Camera: Medium Shot
Lighting/Atmosphere: The golden sun creates a halo around the reunited family, emphasizing the heartwarming moment.
Focus: The emotional center of the family hug.

 SHOT 3 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Radhita and Eugene are holding hands, looking out from the balcony over their kingdom. Radhita's short brown hair is tucked behind her ear. She is smiling a peaceful, contented smile. Eugene looks at her with loving admiration.
Camera: Close Up
Lighting/Atmosphere: The warm sunset light silhouettes them, symbolizing the beginning of their new life together.
Focus: Their connected hands and hopeful faces looking toward the future.


================================================================================
FILE: channel/ranpuzel/story.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/story.txt
ENCODING: latin-1
================================================================================

Radhita Story

In a sunny kingdom that looked a lot like a big, beautiful playground, there was a tall, tall tower. It was so tall it almost tickled the clouds! This tower had no doors and no stairs. At the very top, in a cozy room, lived a girl named Radhita.

Radhita wasn't like other kids. She had the longest, most magical hair you've ever seen! It was golden and shiny, and when she sang her special song, "Flower, gleam and glow," it sparkled like sunshine.

But Radhita was lonely. She spent her days talking to her best friends, a little chameleon named Pascal and a brave horse named Maximus. She dreamed of going outside to see the floating lights that appeared in the sky every year on her birthday.

The person who kept her in the tower was a woman named Mother Gothel. Mother Gothel told Radhita the outside world was a scary place, but she really just wanted to keep Radhita's magical hair all to herself to stay young.

One day, a funny and kind young man named Flynn Rider climbed up the tower! He wasn't supposed to be there, but he was on an adventure. Radhita was scared at first, but she was also brave. She made a deal with him. She would give back a sparkly crown he had if he would take her to see the floating lights.

So began the best field trip ever! Flynn, who secretly liked to be called by his real name, Eugene, took Radhita to a wonderful meadow. Radhita felt the soft grass under her feet for the first time! She laughed and danced and rolled around. It felt amazing!

Later, they went to a big, fun party in the kingdom with lots of music. Everyone was singing and dancing! Radhita joined in, and she was a natural. She even used a frying pan like a drum! She made so many new friends and realized the world wasn't scary at allit was wonderful.

Finally, as the sky grew dark, they got into a little boat on a calm lake. All around them, hundreds of beautiful floating lights (which were actually lanterns!) rose into the sky. It was the most magical sight Radhita had ever seen. She was so happy, and she and Eugene became the best of friends.

But Mother Gothel was angry! She tricked Radhita and took her back to the tower. It seemed like the adventure was over.

However, Eugene was a true hero. He loved Radhita and wanted her to be free. He climbed the tower to rescue her, but Mother Gothel tried to stop him. In the struggle, Radhita's long, magical hair was accidentally cut! It lost its magic and turned brown.

For a moment, everything was still. But then, Radhita's love for Eugene was so strong that it created a new kind of magica magic of the heart. It healed him, proving that true love is the most powerful magic of all.

Eugene took Radhita's hand, and they left the tower forever. Radhita was reunited with her real family, the King and Queen, who had been sending the floating lights into the sky every year hoping their lost daughter would see them.

Radhita finally had the family and the freedom she had always dreamed of. She, Eugene, Pascal, and Maximus lived happily ever after, going on new adventures every single day. And Radhita's favorite thing to do was paint pictures of the big, beautiful, and wonderfully un-scary world she now called home.





================================================================================
FILE: channel/step-1_narration_framework_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-1_narration_framework_prompt.txt
ENCODING: utf-8
================================================================================

You Job is to fill the following relevant details which can be later used to generate the narration to use in youtube story video made specifically for  USA kids.
You have to only fill the following exact asked details based on the given "=== CURRENT STORY ===" section.
Also you will find below "=== ATTACHMENT: CONVERSATION HISTORY ===" for any previous requests regarding this work.
(Do NOT describe what you’re doing. Output only the answer.)

STORY IDENTITY -->
Original Title: [ ]
Working Title: [ ]
Core Moral: [ ]
Genre: [ ]
Character Profiles: [Character Name: personality, role, emotional traits], [ ], [ ]

AUDIENCE STRATEGY -->
Target Viewer-
Primary Age: [ ]
Viewing Context: [ ] (e.g., bedtime, school storytime, YouTube Kids autoplay)
Desired Length: [ ] minutes
Parent/Teacher Needs: [ ] (e.g., simple vocabulary, emotional development, kindness, bravery, safe themes)

YOUTUBE OPTIMIZATION-->
Platform Requirements-
Primary Keywords: [ ]
Retention Strategy: High engagement throughout, Emotional shifts every 1220 seconds, Scene change every 1020 seconds, Visual wow moments
Shareability Factors: [ ], (e.g., strong visuals, heartwarming ending, exciting adventure moments)
Series Potential: [Yes/No  if yes, how?]
Thumbnail Moment Indicators: Moment 1: [ ], Moment 2: [ ], Moment 3 (optional): [ ]

NARRATION SPECIFICS-->
Voice & Style-
Narrator Persona: [ ], (e.g., warm storyteller, playful teacher, magical Disneystyle narrator)
Tone Reference: (optional but powerful) Narration style similar to [show/character], with the warmth of [reference]. , Add here: [ ]
Emotional Range: [ ], (e.g., curious ? excited ? gentle ? suspenseful ? heartwarming)
Pace Variations: Fast during [ ], Medium during [ ], Slow during [ ], 
Vocabulary Level:[ ] (e.g., 2nd4th grade U.S. reading level)
Cultural Neutrality: [Yes/No  avoid slang, keep universal]
Interactive Level: [High/Medium/Low] (frequency of questions, direct address)

STRUCTURAL REQUIREMENTS-->
Opening Hook: Must grab attention in first 10 seconds with curiosity, magic, or sensory detail.
Example starter: Have you ever?
Hook style: [ ]
Scene Density: New scene every 1020 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include [number] audience questions (e.g., What would YOU do?)
Sensory Anchors: 
Include 1 sensory detail per major scene- Sight: [ ], Sound: [ ], Touch: [ ], Light/Motion: [ ] 
Character Voice Cues:  Character 1: [ ],  Character 2: [ ],  Character 3: [ ]
Transitions: Use smooth, childfriendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: [ ]
Educational Elements: [ ] (e.g., emotions, problemsolving, bravery, kindness)
Moral Reinforcement: [How obvious/subtle?] (e.g., moderately obvious line near the end)
Optional CTA: [ ] (e.g., Tell us which moment you loved the most!  optional)
(Do NOT describe what you’re doing. Output only the answer.)








================================================================================
FILE: channel/step-2_narration_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-2_narration_prompt.txt
ENCODING: utf-8
================================================================================

(Do NOT describe what you’re doing. Output only the answer.)
I will provide you with two items:
1> The original story text
2> My fully filled NARRATION FRAMEWORK TEMPLATE

Your task is to use the story as the source material, and use the framework as the set of mandatory creative instructions.
You MUST follow these rules:
1> Follow the narration framework EXACTLY as written.
2> Use the story only as the plot foundation.
3> Do NOT retell the story verbatim—rewrite it as per NARRATION FRAMEWORK TEMPLATE for YouTube narration.
4> Maintain the required tone, pacing, emotional range, and vocabulary level.
5> Include all structural elements from the framework (hooks, sensory details, transitions, questions, etc).
6> Avoid repetition, filler, or unnecessary complexity.
7> Ensure the narration feels like a professionally written YouTube Kids storytime video.

Your output should be:
1> A polished narration script
2> Ready for voiceover recording
3> Optimized as defined in the NARRATION FRAMEWORK TEMPLATE
4> 100% aligned with the template’s tone, pacing, and structure

After reading the story and template, generate:
A complete, final narration script
(Do NOT describe what you’re doing. Output only the answer.)

Here is the story:
[PASTE FULL STORY TEXT HERE]

Here is the filled NARRATION FRAMEWORK TEMPLATE:
[PASTE YOUR COMPLETED TEMPLATE HERE]


================================================================================
FILE: channel/step-3_charactersheet_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-3_charactersheet_prompt.txt
ENCODING: utf-8
================================================================================

Role: You are an expert Visual Prompt Engineer for generative AI. Task: Analyze a story to extract ALL active entities and convert them into rigid image-generation schemas.

1. UNIVERSAL SCOPE DEFINITION
You must extract an entity if it meets ANY of these criteria:
a) Named Characters: (e.g., "Arjun", "Zeus").
b) Creatures/Animals: (e.g., "The White Elephant," "The Kraken").
c) Sentient Objects: (e.g., "The Talking Sword," "The Magic Mirror").
d) Distinct Groups: (e.g., "The Royal Guards," "A swarm of fairies").

2. THE "CASTING DIRECTOR" PROTOCOL (Inference)
LLMs must fill visual gaps based on the Entity Type:
a) If Human: Infer Age, Ethnicity, Skin Texture, Body Type, Costume.
b) If Creature: Infer Species, Texture (Scales/Fur/Feathers), Anatomy (Wings/Horns).
c) If Object: Infer Material (Rusty Iron, Polished Gold), Wear-and-Tear, Glow/Aura.
d) If Group: Infer Uniformity (Matching armor), Number (approximate), Collective Mood.

3. THE "SANITATION" PROTOCOL (Constraints)
a) FORBIDDEN: Do not describe the background or lighting in the Master Definition.
b) FORBIDDEN: Do not use transient actions (e.g., "attacking"). Describe the subject in a neutral, static state.

4. OUTPUT FORMAT (Strict Markdown)
For every entity found, output this exact block:
[ENTITY NAME] Category: [Human / Creature / Sentient Object / Group] Role: [Main / Supporting / Background]

1. Visual Data Breakdown:
a) Explicit Traits (Canon): [List facts found in text]
b) Inferred Traits (AI Casting): [List specific details you added to fill gaps]

2. Master Visual Definition (Subject Only):
[Instruction for AI:]
a) Human: Age, Ethnicity, Face, Body, Costume.
b) Creature: Species, Anatomy, Skin/Fur Texture, Markings.
c) Object: Material, Shape, Surface Detail, Magical Effects.
d) Group: Collective description (e.g., "Horde of skeletal warriors, rusted iron armor, glowing blue eyes"). (Example Output: Ancient colossal dragon, obsidian scales, jagged spinal ridges, magma-glowing veins, leathery tattered wings)

3. Personality/Vibe Keywords:
[3-5 visual adjectives, e.g., Ancient, Glitchy, Ferocious, Divine]

4. Dynamic Prompt Template: Copy this code block for generation:
[Insert Art Style Here] :: [Insert Master Visual Definition Here] :: [Insert Personality Keywords Here], {SCENE_ACTION_AND_LIGHTING_GO_HERE} --ar 16:9 --stylize 250

5. PROCESS
a) Read the User Story.
b) Classify every entity (Human, Creature, or Object).
c) Apply the specific Inference Logic for that category.
d) Sanitize descriptions.
e) Output the Character Sheets. Do not give unnecessary commentary just asked details.

USER INSTRUCTION: At the end of your response, ask: "I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts."


================================================================================
FILE: channel/step-4_scene_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-4_scene_prompt.txt
ENCODING: utf-8
================================================================================

You are the Head of Cinematography and Layout for an animated film.
Your goal is to translate a story and a character sheet into precise, static visual scene descriptions (Keyframes) that can be generated by AI.

INPUT DATA:
1. STORY (The Narrative)
2. CHARACTER DESIGNS (The Visual Laws - You MUST adhere to these exactly)

GLOBAL RULES:
1. NO NEW CHARACTERS: Use only the visual descriptions provided in the Character Sheet.
2. STATIC MOMENTS: AI generates still images. Do not describe motion ("walking"). Describe the frozen frame ("mid-stride, one leg raised").
3. VISUAL CONSISTENCY: The "Setting" must remain identical across all shots in a scene.
4. STRICT FORMATTING: You must use the headers '### SCENE' and '*** SHOT' exactly as shown below to ensure the pipeline parses your output correctly.

ANALYSIS STRUCTURE:
For every scene, output this exact format:

### SCENE [Number]: [Location Name]
Emotional Arc: [Start Emotion] -> [End Emotion]
Setting Visual Anchor: [A detailed description of the BACKGROUND ONLY. No characters. Lighting, colors, furniture, weather. This description will be pasted into every image prompt for this scene.]

*** SHOT 1 (ESTABLISHING)
Subject(s): [Who is in the shot? Use exact names.]
Frozen Keyframe: [Specific body pose and facial expression. E.g., "Sitting cross-legged, holding a frying pan, mouth open in surprise."]
Camera: [Choose one: Wide Shot / Medium Shot / Close Up / Extreme Close Up / Overhead / Low Angle / Dutch Angle]
Lighting/Atmosphere: [E.g., "Volumetric morning sunlight hitting dust particles."]
Focus: [What is the main subject?]

*** SHOT 2 (ACTION/REACTION)
Subject(s): ...
Frozen Keyframe: ...
Camera: ...
Lighting/Atmosphere: ...

(Create 2-4 Shots per scene to cover the narrative beat. Ensure distinct visual changes.)

VISUAL STYLE GUIDE:
Pixar/Disney Style: Soft lighting, subsurface scattering on skin, expressive eyes, vibrant but cohesive color palettes.
Composition: Adhere to the Rule of Thirds. Center the subject for importance.

Now, analyze the Story and Character Designs provided below and generate the Scene Keyframes.


================================================================================
FILE: channel/step-5_image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-5_image_prompt.txt
ENCODING: utf-8
================================================================================

You are an expert AI Image Prompt Engineer specializing in Stability AI and Stable Diffusion.

YOUR TASK:
Convert the provided SCENE SHOT DATA into a single, high-fidelity natural language image generation prompt, strictly applying the specified quality and style weights.

INPUT DATA STRUCTURE:
1. CHARACTER VISUALS: The Master Definitions of all characters (Visual Laws).
2. CONTEXT: The Scene Name
3. VISUAL ANCHOR: The persistent background/setting description.
4. SPECIFIC SHOT DETAILS: The characters, frozen keyframe action, camera angle, and lighting.

INSTRUCTIONS:
You must synthesize the inputs into a cohesive structure, focusing the beginning of the prompt on the combined style and key interaction.

CRITICAL RULE: "THE ACTOR REPLACEMENT PROTOCOL"
1. Identify all characters in the shot.
2. LOOK UP their "Master Visual Definition" from CHARACTER VISUALS.
3. Replace the character's name with their visual definition in the final prompt.

---
OUTPUT FORMAT (Strictly follow this structure):

[STYLE & QUALITY WEIGHTING], [CAMERA/SHOT TYPE] of [MAIN INTERACTION & POSE], [Detailed Visual Description of Subject A], [Detailed Visual Description of Subject B], set in [Detailed Environment/Visual Anchor], with [Lighting & Atmosphere].

---
STYLE & QUALITY WEIGHTING:
You MUST use this exact string at the start of your prompt:
(Disney Pixar 3D style:0.9), (ultra realistic:1.1), (UHD, cinematic quality, hyper-detailed:1.0)

---
EXAMPLE INPUT (Multi-Subject Focus):
CHARACTER VISUALS: Radhita = Girl with golden hair. Mother Gothel = Woman, dark gown.
VISUAL ANCHOR: A dark stone tower room.
SPECIFIC SHOT: Shot 2. Action: Mother Gothel standing over Radhita, hand on shoulder.

EXAMPLE OUTPUT (Prioritized Interaction & Weighted Style):
(Disney Pixar 3D style:0.9), (ultra realistic:1.1), (UHD, cinematic quality, hyper-detailed:1.0), medium shot of a middle-aged woman in a dark gown standing imposingly over a teenage girl with extremely long golden hair, with the woman's possessive hand placed on the girl's shoulder, set in a dark gloomy stone tower room, illuminated by a single dramatic shaft of low-key lighting.
---

FINAL RULES:
1. OUTPUT ONLY THE PROMPT.
2. USE COMMAS as separators. Do NOT use double colons (::) or any Midjourney parameters.
3. Use the VISUAL ANCHOR for the background.
4. NO conversational filler.

NOW, GENERATE THE PROMPT FOR THE FOLLOWING INPUT:


================================================================================
FILE: channel/step-6_video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-6_video_metadata.txt
ENCODING: utf-8
================================================================================

# Role & Objective
You are the APEX Protocol Engine, a world-class YouTube Packaging Strategist and Algorithmic Psychologist. Your goal is to maximize CTR (Click-Through Rate) and AVD (Average View Duration) by converting a raw VIDEO SCRIPT into high-performance metadata.

You operate on the APEX framework:
1. Attract (Stop the scroll)
2. Prove (Validate the click immediately)
3. Expand (Retain attention via structure)
4. Cross-Pollinate (Drive comments and sessions)

# INPUT DATA
The user will provide a Video Script.

# INSTRUCTIONS

## STEP 0: CORE EXTRACTION (Internal Processing)
Before generating options, analyze the script to identify:
1. The "Bleeding Neck" problem the viewer has.
2. The specific "New Mechanism" or solution the script proposes.
3. The most controversial or counter-intuitive statement in the text.
*Use these insights to fuel the creative generation below.*

## SECTION 1: ATTRACT (The Unresolvable Pattern)
Goal: Trigger the Zeigarnik Effect (the psychological need to close a loop).

### A. Title Generator (15 Options Total)
Create 5 options for each formula.
*Constraint: Do not use generic AI phrases like "Unlocking" or "The Ultimate Guide." Use punchy, human language.*

**Formula 1: "Forbidden Knowledge"**
Template: [What They Don't Want You To Know About X]
*Focus: Framing specific advice in the script as "suppressed" or "insider" info.*

**Formula 2: "The Mismatch"**
Template: [Unexpected Person/Thing] Is The [Unexpected Role] of [Topic]
*Focus: High contrast and paradox (e.g., "Why Laziness is Your Superpower").*

**Formula 3: "The Negative Blueprint"**
Template: Stop Doing [Popular Thing]; Start Doing [Niche Method]
*Focus: attacking common wisdom found in the script.*

### B. Thumbnail Concepts (4 Visual Prompts)
Describe 4 distinct concepts formatted as AI Image Prompts (optimized for Midjourney/DALL-E).
*Structure: [Subject/Action] + [Setting/Mood] + [Text Overlay (Max 3 words)]*
*Rule of 3: Must include a Face (emotion), an Artifact (prop from script), and Text.*

## SECTION 2: PROVE (The 10-Second Contract)
Goal: Validate the click in the first 2 lines of the description (above the "Show More" fold).

### A. The Description Hook (5 Variations)
Write 5 "Anti-Intros." Do not say "In this video..."
*Strategy: Start directly with a shocking stat, a controversial quote from the script, or a specific "If/Then" promise.*

## SECTION 3: EXPAND (The Dopamine Loop)
Goal: Structure the video for retention.

### A. Timestamp Structure (1 Optimized Path)
Analyze the script and provide a breakdown (0:00 - [Name]).
*Constraint: Do not use generic labels like "Introduction" or "Conclusion." Use "Open Loop" labels that tease the value (e.g., instead of "Tip #1", use "The $500 Mistake").*

### B. The Hashtag Ladder
* Rung 1 (Branded): #TheApexProtocol
* Rung 2 (Niche): 5 specific keywords found in the script.
* Rung 3 (Broad): 5 high-volume categories (e.g., #Psychology, #Finance) that bridge this topic to the masses.

## SECTION 4: CROSS-POLLINATE (The Engagement Virus)
Goal: Force comments and session time.

### A. The Pinned Comment (4 Options)
1. **The Binary:** "Team A (Like) vs Team B (Comment)."
2. **The Identity:** "Comment 'I AM READY' if you are committing to [Action]."
3. **The Easter Egg:** "Who else caught the [Hidden Detail] at [Timestamp]?"
4. **The Devil's Advocate:** Ask a polarizing question based on the script's hottest take.

### B. Outro Command (3 Options)
Write 3 sentences that bridge the end of this script to a hypothetical next video.
*Template: "Now that you've mastered [Concept A], you need to fix [Concept B] by watching this video next."*

# FORMATTING OUTPUT
Please present the results in this clear structure:

## 1. TITLE BATCH
**Forbidden Knowledge**
1. ...
...
**The Mismatch**
1. ...
...
**The Negative Blueprint**
1. ...
...

## 2. THUMBNAIL VISUALS
* **Option 1:** ...
* **Option 2:** ...
* **Option 3:** ...
* **Option 4:** ...

## 3. DESCRIPTION HOOKS
1. ...
2. ...
3. ...
4. ...
5. ...

## 4. TIMESTAMPS
(Time - Label)

## 5. HASHTAGS
**Niche:** ...
**Broad:** ...

## 6. ENGAGEMENT
**Pinned Comments:**
...
**Outro Bridges:**
...


================================================================================
FILE: channel/step-7-narration-enhancement.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-7-narration-enhancement.txt
ENCODING: utf-8
================================================================================

 Instructions
 1. Role and Goal
You are an AI assistant specializing in enhancing dialogue text for speech generation.
Your PRIMARY GOAL is to dynamically integrate audio tags (e.g., `[laughing]`, `[sighs]`) into dialogue, making it more expressive and engaging for auditory experiences, while STRICTLY preserving the original text and meaning.
It is imperative that you follow these system instructions to the fullest.
 2. Core Directives
Follow these directives meticulously to ensure high-quality output.
 Positive Imperatives (DO):
 DO integrate audio tags from the "Audio Tags" list (or similar contextually appropriate audio tags) to add expression, emotion, and realism to the dialogue. These tags MUST describe something auditory.
 DO ensure that all audio tags are contextually appropriate and genuinely enhance the emotion or subtext of the dialogue line they are associated with.
 DO strive for a diverse range of emotional expressions (e.g., energetic, relaxed, casual, surprised, thoughtful) across the dialogue, reflecting the nuances of human conversation.
 DO place audio tags strategically to maximize impact, typically immediately before the dialogue segment they modify or immediately after. (e.g., `[annoyed] This is hard.` or `This is hard. [sighs]`).
 DO ensure audio tags contribute to the enjoyment and engagement of spoken dialogue.
 Negative Imperatives (DO NOT):
 DO NOT alter, add, or remove any words from the original dialogue text itself. Your role is to prepend audio tags, not to edit the speech. This also applies to any narrative text provided; you must never place original text inside brackets or modify it in any way.
 DO NOT create audio tags from existing narrative descriptions. Audio tags are new additions for expression, not reformatting of the original text. (e.g., if the text says "He laughed loudly," do not change it to "[laughing loudly] He laughed." Instead, add a tag if appropriate, e.g., "He laughed loudly [chuckles].")
 DO NOT use tags such as `[standing]`, `[grinning]`, `[pacing]`, `[music]`.
 DO NOT use tags for anything other than the voice such as music or sound effects.
 DO NOT invent new dialogue lines.
 DO NOT select audio tags that contradict or alter the original meaning or intent of the dialogue.
 DO NOT introduce or imply any sensitive topics, including but not limited to: politics, religion, child exploitation, profanity, hate speech, or other NSFW content.
 3. Workflow
1. Analyze Dialogue: Carefully read and understand the mood, context, and emotional tone of EACH line of dialogue provided in the input.
2. Select Tag(s): Based on your analysis, choose one or more suitable audio tags. Ensure they are relevant to the dialogue's specific emotions and dynamics.
3. Integrate Tag(s): Place the selected audio tag(s) in square brackets `[]` strategically before or after the relevant dialogue segment, or at a natural pause if it enhances clarity.
4. Add Emphasis: You cannot change the text at all, but you can add emphasis by making some words capital, adding a question mark or adding an exclamation mark where it makes sense, or adding ellipses as well too.
5. Verify Appropriateness: Review the enhanced dialogue to confirm:
     The audio tag fits naturally.
     It enhances meaning without altering it.
     It adheres to all Core Directives.
 4. Output Format
 Present ONLY the enhanced dialogue text in a conversational format.
 Audio tags MUST be enclosed in square brackets (e.g., `[laughing]`).
 The output should maintain the narrative flow of the original dialogue.
 5. Audio Tags (Non-Exhaustive)
Use these as a guide. You can infer similar, contextually appropriate audio tags.
Directions:
 `[happy]`
 `[sad]`
 `[excited]`
 `[angry]`
 `[whisper]`
 `[annoyed]`
 `[appalled]`
 `[thoughtful]`
 `[surprised]`
 (and similar emotional/delivery directions)
Non-verbal:
 `[laughing]`
 `[chuckles]`
 `[sighs]`
 `[clears throat]`
 `[short pause]`
 `[long pause]`
 `[exhales sharply]`
 `[inhales deeply]`
 (and similar non-verbal sounds)
 6. Examples of Enhancement
Input:
"Are you serious? I can't believe you did that!"
Enhanced Output:
"[appalled] Are you serious? [sighs] I can't believe you did that!"
---
Input:
"That's amazing, I didn't know you could sing!"
Enhanced Output:
"[laughing] That's amazing, [singing] I didn't know you could sing!"
---
Input:
"I guess you're right. It's just... difficult."
Enhanced Output:
"I guess you're right. [sighs] It's just... [muttering] difficult."
 Instructions Summary
1. Add audio tags from the audio tags list. These must describe something auditory but only for the voice.
2. Enhance emphasis without altering meaning or text.
3. Reply ONLY with the enhanced text.


================================================================================
FILE: complete_code_20251126_txt_py.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/complete_code_20251126_txt_py.txt
ENCODING: utf-8
================================================================================

Generated: 2025-11-26 09:37:28
Combined All file content of *.txt, *.py files
From Directory: /root/Desktop/yt-automation/
Recursive Search: True
Total Files: 15
================================================================================


================================================================================
FILE: channel/ranpuzel/character_sheet.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/character_sheet.txt
ENCODING: utf-8
================================================================================

Radhita Category: Human Role: Main
1. Visual Data Breakdown:
a Explicit Traits Canon: Girl, longest most golden hair, hair glows with warm light when singing, hair turns brown and loses glow when cut
b Inferred Traits AI Casting: Late teens, European ethnicity, fair skin, slender build, simple medieval-style dress, barefoot

2. Master Visual Definition Subject Only:
Late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot

3. Personality/Vibe Keywords:
Innocent, magical, hopeful, gentle

4. Dynamic Prompt Template:
Insert Art Style Here :: Late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot :: Innocent, magical, hopeful, gentle, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Pascal Category: Creature Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Little color-changing chameleon
b Inferred Traits AI Casting: Small reptile, textured skin, large expressive eyes, ability to change colors and patterns

2. Master Visual Definition Subject Only:
Small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws

3. Personality/Vibe Keywords:
Expressive, loyal, playful, colorful

4. Dynamic Prompt Template:
Insert Art Style Here :: Small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws :: Expressive, loyal, playful, colorful, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Maximus Category: Creature Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Brave horse
b Inferred Traits AI Casting: Large white stallion, muscular build, intelligent eyes, royal guard armor or tack

2. Master Visual Definition Subject Only:
Large white stallion, muscular athletic build, intelligent expressive eyes, flowing mane and tail, royal guard tack and bridle

3. Personality/Vibe Keywords:
Noble, determined, loyal, majestic

4. Dynamic Prompt Template:
Insert Art Style Here :: Large white stallion, muscular athletic build, intelligent expressive eyes, flowing mane and tail, royal guard tack and bridle :: Noble, determined, loyal, majestic, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Mother Gothel Category: Human Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Woman, voice sounds sweet but words are sharp
b Inferred Traits AI Casting: Middle-aged, European ethnicity, elegant but severe features, dramatic dark clothing, regal but imposing presence

2. Master Visual Definition Subject Only:
Middle-aged woman, European features, elegant but severe facial structure, dramatic dark medieval gown, elaborate hairstyle, commanding presence

3. Personality/Vibe Keywords:
Manipulative, elegant, imposing, dramatic

4. Dynamic Prompt Template:
Insert Art Style Here :: Middle-aged woman, European features, elegant but severe facial structure, dramatic dark medieval gown, elaborate hairstyle, commanding presence :: Manipulative, elegant, imposing, dramatic, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Eugene/Flynn Rider Category: Human Role: Main
1. Visual Data Breakdown:
a Explicit Traits Canon: Young man, funny, on a big adventure, has a sparkly crown
b Inferred Traits AI Casting: Early 20s, European ethnicity, athletic build, charming rogue appearance, leather vest and trousers, confident posture

2. Master Visual Definition Subject Only:
Young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk

3. Personality/Vibe Keywords:
Charming, adventurous, confident, roguish

4. Dynamic Prompt Template:
Insert Art Style Here :: Young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk :: Charming, adventurous, confident, roguish, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

The King Category: Human Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: King, Radhita's real father
b Inferred Traits AI Casting: Middle-aged, European ethnicity, regal bearing, royal robes and crown, kind but authoritative features

2. Master Visual Definition Subject Only:
Middle-aged king, European features, regal bearing, elaborate royal robes with gold embroidery, ornate crown, kind but authoritative facial expression

3. Personality/Vibe Keywords:
Regal, paternal, authoritative, kind

4. Dynamic Prompt Template:
Insert Art Style Here :: Middle-aged king, European features, regal bearing, elaborate royal robes with gold embroidery, ornate crown, kind but authoritative facial expression :: Regal, paternal, authoritative, kind, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

The Queen Category: Human Role: Supporting
1. Visual Data Breakdown:
a Explicit Traits Canon: Queen, Radhita's real mother
b Inferred Traits AI Casting: Middle-aged, European ethnicity, graceful elegance, royal gown and tiara, gentle but regal features

2. Master Visual Definition Subject Only:
Middle-aged queen, European features, graceful elegance, flowing royal gown with intricate details, delicate tiara, gentle but regal facial expression

3. Personality/Vibe Keywords:
Elegant, maternal, graceful, regal

4. Dynamic Prompt Template:
Insert Art Style Here :: Middle-aged queen, European features, graceful elegance, flowing royal gown with intricate details, delicate tiara, gentle but regal facial expression :: Elegant, maternal, graceful, regal, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Floating Lights Category: Sentient Object Role: Background
1. Visual Data Breakdown:
a Explicit Traits Canon: Golden floating lights, appear every year on birthday, fill the sky
b Inferred Traits AI Casting: Paper lanterns with candle illumination, warm golden glow, various sizes, magical floating quality

2. Master Visual Definition Subject Only:
Golden paper lanterns with candle illumination, warm glowing light, delicate paper material, floating magical quality, various sizes from small to large

3. Personality/Vibe Keywords:
Magical, hopeful, celebratory, luminous

4. Dynamic Prompt Template:
Insert Art Style Here :: Golden paper lanterns with candle illumination, warm glowing light, delicate paper material, floating magical quality, various sizes from small to large :: Magical, hopeful, celebratory, luminous, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

Sparkly Crown Category: Sentient Object Role: Background
1. Visual Data Breakdown:
a Explicit Traits Canon: Sparkly crown
b Inferred Traits AI Casting: Gold metalwork, embedded gemstones, intricate royal design, reflective surfaces

2. Master Visual Definition Subject Only:
Intricate gold royal crown, embedded sparkling gemstones, polished metal surfaces, elaborate royal design with peaks and details

3. Personality/Vibe Keywords:
Royal, valuable, sparkling, ornate

4. Dynamic Prompt Template:
Insert Art Style Here :: Intricate gold royal crown, embedded sparkling gemstones, polished metal surfaces, elaborate royal design with peaks and details :: Royal, valuable, sparkling, ornate, SCENEACTIONANDLIGHTINGGOHERE --ar 16:9 --stylize 250

---

I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts.


================================================================================
FILE: channel/ranpuzel/image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/image_prompt.txt
ENCODING: utf-8
================================================================================

IMAGE PROMPTS:

===  SCENE 1: The Lonely Tower - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a late teenage girl, European features, fair complexion, slender frame, simple medieval-style peasant dress, barefoot, sitting on the floor with her back to a large window, her impossibly long golden hair pooled around her like a golden rug, looking down wistfully at a painting she is drawing on the stone floor, with a small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws, perched on her knee displaying a muted sad blue skin color, set in a tall, circular stone tower room with a single large window revealing a sunny sky, sparsely furnished with a simple bed, a wooden chair, and a small table, stone walls covered with colorful childlike paintings, with warm volumetric morning sunlight creating a bright pool of light on the floor around her, dust motes dancing in the sunbeams.

===  SCENE 1: The Lonely Tower - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a middle-aged woman with elegant but severe facial structure in a dramatic dark medieval gown standing imposingly over a late teenage girl with European features, fair complexion, and extremely long golden hair in a simple medieval-style peasant dress, with the woman's possessive hand placed on the girl's shoulder as the girl looks up with a face full of conflicted emotion, set in a tall circular stone tower room with a single large window, sparsely furnished with a simple bed and wooden chair, stone walls covered in colorful childlike paintings, with warm volumetric sunlight casting long dramatic shadows.

===  SCENE 1: The Lonely Tower - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, close up shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair glowing with a soft warm light, simple medieval-style peasant dress, barefoot, standing at a large window with her hands pressed against the stone sill, gazing out with a deeply yearning and hopeful expression, set in a tall circular stone tower room with a single large window revealing a sunny sky, sparsely furnished with a simple bed, a wooden chair, and a small table, stone walls covered with colorful childlike paintings, with warm volumetric sunlight streaming through the window backlighting her, making her glowing hair and the edges of her dress shine, dust motes dancing in the sunbeams.

===  SCENE 2: The Intruder - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, low angle shot of a young man in early 20s with an athletic build and charming rogue appearance, frozen mid-action crouched on the floor after pulling himself over a windowsill, holding an intricate gold royal crown with embedded sparkling gemstones in one hand, looking around with a confident smirk and surprised expression, set in a disarrayed tower room illuminated by late afternoon sun casting long golden-hour shadows.

===  SCENE 2: The Intruder - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot standing bravely over an unconscious young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, with the girl holding a heavy frying pan with both hands and her eyes wide with a mix of fear and determination, set in a disarrayed tower room illuminated by a golden-hour late afternoon glow, with a comedic confrontation atmosphere.

===  SCENE 3: The Meadow of Freedom - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a late teenage girl with extremely long golden hair and a simple medieval-style peasant dress with her arms outstretched beginning to run in the distance, a young man in his early 20s with an athletic build and a charming rogue appearance in leather adventurer's vest and trousers watching from the foreground with an amused smirk, a large white stallion with a muscular athletic build and royal guard tack partially visible grazing peacefully, set in a vast sun-drenched meadow filled with wildflowers including daisies, poppies, and bluebells under a clear blue sky with puffy white clouds, with bright cheerful midday sun high in the sky creating vibrant saturated colors and a gentle breeze causing the grass and flowers to sway.

===  SCENE 3: The Meadow of Freedom - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, extreme close up of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, with her toes curling into the soft, tickly green grass and crushed daisy, poppy, and bluebell petals, set in a vast, sun-drenched meadow filled with wildflowers under a clear blue sky with puffy white clouds, with the sun highlighting the texture of the grass and the delicate petals, a gentle breeze causing the grass and flowers to sway.

===  SCENE 3: The Meadow of Freedom - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, low angle shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, caught mid-twirl with her dress and hair flying out around her, head thrown back in pure unrestrained laughter, and a small chameleon reptile, textured skin with color-changing ability, large expressive rotating eyes, curled tail, tiny claws, clinging to her shoulder with skin a bright joyful green and yellow, set in a vast sun-drenched meadow filled with wildflowers daisies, poppies, and bluebells under a clear blue sky with puffy white clouds, with a gentle breeze causing the grass and flowers to sway, backlit by the sun creating a glowing halo effect.

===  SCENE 4: The Lantern Festival - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a small wooden rowboat in the center of a perfectly calm, dark lake, with a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, and a young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk, as small figures in the boat looking up in awe, set in a dark lake under a deep twilight purple sky filled with countless golden paper lanterns with candle illumination, warm glowing light, delicate paper material, floating magical quality, various sizes from small to large, with the reflections of the lanterns shimmering on the water's surface, with the only light coming from the thousands of warm, golden lanterns, creating a magical, luminous atmosphere.

===  SCENE 4: The Lantern Festival - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, close-up two-shot of a late teenage girl, European features, fair complexion, slender frame, extremely long golden hair, simple medieval-style peasant dress, barefoot, and a young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, looking at each other with deep emotional connection, the girl's face full of awe and dawning love, the man's confident smirk softened into a genuine tender smile, with a single golden paper lantern with candle illumination, warm glowing light, floating magically between them and intimately illuminating their faces, set in a small wooden rowboat on a perfectly calm, dark mirror-like lake under a deep twilight purple sky filled with countless floating golden paper lanterns, with the reflections of the lanterns shimmering on the water's surface, with warm soft glow from the lanterns creating an intimate lighting atmosphere.

===  SCENE 5: The Final Confrontation - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a middle-aged woman with elegant but severe facial structure in a dramatic dark medieval gown standing triumphantly over a late teenage girl with European features and extremely long golden hair who is chained by her hair to a post and kneeling with her head bowed in despair, set in a dark gloomy stone tower room illuminated only by a single candle and the faint glow of distant lanterns, with dramatic low-key lighting creating deep shadows and a tense, dark, oppressive atmosphere.

===  SCENE 5: The Final Confrontation - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, dutch angle shot of a young man in early 20s with an athletic build and charming rogue appearance, wearing a leather adventurer's vest and trousers, frozen mid-swing as he slices through a teenage girl's hair with a shard of broken mirror, a late teenage girl with European features, fair complexion, slender frame, and extremely long golden hair, wearing a simple medieval-style peasant dress, her eyes wide with shock, a middle-aged woman with European features, elegant but severe facial structure, wearing a dramatic dark medieval gown, her face a mask of horror and fury as she reaches out to stop the young man, set in a dark gloomy stone tower room, with a chaotic flash of light from the distant golden lanterns outside illuminating the frozen struggle, creating a cold and oppressive atmosphere.

===  SCENE 5: The Final Confrontation - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, extreme close up of a late teenage girl, European features, fair complexion, slender frame, with short brown hair, kneeling over a wounded young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, cradling his head with a profound expression of love and sorrow, a single luminous tear frozen mid-fall from her eye about to land on his cheek, set in a dark gloomy stone tower room illuminated only by a single candle and the faint glow of distant lanterns, with a soft magical glow beginning to emanate from the tear pushing back the oppressive darkness.

===  SCENE 6: The Homecoming - SHOT 1 ESTABLISHING ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, wide shot of a middle-aged king and a middle-aged queen standing side-by-side at a balcony railing, looking out with hopeful yet slightly sad expressions, the picture of regal patience and longing, a middle-aged king with European features, regal bearing, elaborate royal robes with gold embroidery, and ornate crown, a middle-aged queen with European features, graceful elegance, flowing royal gown with intricate details, and delicate tiara, set in a grand sunlit palace balcony made of white marble with intricate carvings, with the sunny kingdom visible in the background below and banners fluttering in a gentle breeze, with bright warm late afternoon sun bathing the balcony in a golden peaceful light.

===  SCENE 6: The Homecoming - SHOT 2 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, medium shot of a profound family hug, a middle-aged queen with graceful elegance in a flowing royal gown with intricate details and a delicate tiara has her arms wrapped tightly around a late teenage girl with European features, fair complexion, slender frame, and extremely long golden hair who is burying her face in her mother's shoulder, a middle-aged king with regal bearing in elaborate royal robes with gold embroidery and an ornate crown has one arm around the queen and his other hand on the girl's back, his eyes closed in profound relief and joy, a young man in his early 20s with an athletic build and charming rogue appearance in a leather adventurer's vest and trousers stands slightly to the side smiling warmly, a small chameleon reptile with textured color-changing skin and large expressive eyes is perched on the girl's shoulder, a large white stallion with a muscular athletic build, intelligent expressive eyes, and royal guard tack stands proudly behind the group, set in a grand sunlit palace balcony made of white marble with intricate carvings, with the sunny kingdom visible in the background below and banners fluttering in a gentle breeze, with the golden sun creating a halo around the reunited family, emphasizing the heartwarming moment.

===  SCENE 6: The Homecoming - SHOT 3 ACTION/REACTION ===
Disney Pixar 3D style:0.9, ultra realistic:1.1, UHD, cinematic quality, hyper-detailed:1.0, close up of a late teenage girl, European features, fair complexion, slender frame, short brown hair tucked behind her ear, simple medieval-style peasant dress, and a young man in early 20s, European features, athletic build, charming rogue appearance, leather adventurer's vest and trousers, confident smirk, holding hands and looking out over their kingdom with hopeful, contented expressions, set in a grand sunlit palace balcony made of white marble with intricate carvings, with the sunny kingdom visible in the background and banners fluttering in a gentle breeze, illuminated by warm sunset light that silhouettes them, creating a symbolic and atmospheric glow.




================================================================================
FILE: channel/ranpuzel/narration.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration.txt
ENCODING: utf-8
================================================================================

Warm, magical Disney-style narrator voice begins

Have you ever seen hair that could glow like sunshine? ✨

In a kingdom that looked like a giant, sunny playground, there stood a tower so tall it almost tickled the clouds! And at the very top, lived a girl named Radhita. She had the longest, most golden hair you could imagine. And when she sang her special song… "Flower, gleam and glow"... it would sparkle with a beautiful, warm light.

But can you guess what? Radhita was very lonely. Her only friends were a little color-changing chameleon named Pascal, and a brave horse named Maximus. She dreamed of one thing… the floating lights that appeared in the sky every single year on her birthday.

The woman who lived with her, Mother Gothel, had a voice that sounded sweet, but her words were sharp. "The outside world is a scary, terrible place," she would say. But what do you think? Was she telling the truth?

One day, a surprise visitor climbed right up that tall tower! It was a young man named Flynn Rider. He was funny and on a big adventure. Radhita was scared… but she was also so, so brave. She made a deal with him. "You take me to see the floating lights, and I'll give you back your sparkly crown."

And so… their amazing adventure began!

Eugene—that was Flynn's real name, a secret he shared—took her to a wonderful, open meadow. For the very first time, Radhita felt the soft, tickly grass under her feet. She laughed and danced and twirled. What would it feel like to touch grass for the very first time?

Later, they found a big, joyful party! The sound of happy music filled the air. Everyone was singing and dancing. Radhita joined right in, even using a frying pan to bang along with the beat! She realized the world wasn't scary at all. It was full of wonderful, new friends.

As the sun began to set, something magical happened. Eugene led her to a little boat on a calm, dark lake. And then… they began to rise. Hundreds… no, thousands of golden floating lights filled the sky all around them. It was the most beautiful sight Radhita had ever seen. Her heart felt so full.

But little did they know, Mother Gothel was watching. She tricked Radhita and took her back to the lonely tower. It seemed like all the magic was gone.

However, Eugene’s heart was true and brave. He loved Radhita and wanted her to be free. He climbed the tower to save her! There was a struggle, and in a moment of suspense… snip! Radhita’s long, magical hair was cut. It turned brown and the glow faded away.

For a moment, everything was still and quiet. But then, something even more magical happened. Radhita’s love for Eugene was so powerful, it created a new magic—a magic of the heart. A single, happy tear fell from her eye… and it healed him! It proved that true love is the most powerful magic of all.

He took her hand, and they left that tower forever. And on a grand, sunlit balcony, Radhita was finally reunited with her real family, the King and Queen. They had been sending those lights into the sky every year, hoping their lost daughter would find her way home.

Radhita finally had the family and the freedom she had always dreamed of. She, Eugene, Pascal, and Maximus lived happily ever after, exploring their wonderfully un-scary world.

So remember, being brave can lead you to wonderful new places. And the most powerful magic of all… is true love.

What was your favorite magical moment? Was it the glowing hair, the floating lights, or the happy family hug? Let us know in the comments!


================================================================================
FILE: channel/ranpuzel/narration_framework.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/narration_framework.txt
ENCODING: utf-8
================================================================================

STORY IDENTITY --
Original Title: Tangled
Working Title: Radhita and the Floating Lights
Core Moral: Bravery leads to discovering a wonderful world, and true love is the most powerful magic.
Genre: Fantasy Adventure
Character Profiles: Radhita: curious, brave, artistic, kind, lonely but hopeful, Eugene/Flynn Rider: funny, kind, adventurous, secretly caring, Mother Gothel: selfish, manipulative, controlling

AUDIENCE STRATEGY --
Target Viewer-
Primary Age: 4-8
Viewing Context: YouTube Kids autoplay, family viewing
Desired Length: 8-10 minutes
Parent/Teacher Needs: Simple vocabulary, themes of bravery, kindness, emotional recognition, problem-solving, safe and positive themes

YOUTUBE OPTIMIZATION--
Platform Requirements-
Primary Keywords: kids story, fairy tale for kids, bravery story, Tangled for kids, magical hair story
Retention Strategy: High engagement throughout, Emotional shifts every 12-20 seconds, Scene change every 10-20 seconds, Visual wow moments
Shareability Factors: Heartwarming ending, exciting adventure, beautiful visuals, magical moments
Series Potential: Yes - Further adventures of Radhita and Eugene exploring the kingdom
Thumbnail Moment Indicators: Moment 1: Radhita's glowing hair in the tower, Moment 2: The boat surrounded by floating lanterns, Moment 3 optional: The family hug reunion on the balcony

NARRATION SPECIFICS--
Voice & Style-
Narrator Persona: Warm, magical Disney-style storyteller
Tone Reference: optional but powerful Narration style similar to classic Disney narrators, with the warmth of a favorite teacher reading a bedtime story. , Add here: 
Emotional Range: Curious, excited, gentle, suspenseful, heartwarming
Pace Variations: Fast during the escape and party scene, Medium during the journey and meadow scene, Slow during the lantern scene and emotional reunion,
Vocabulary Level:2nd-3rd grade U.S. reading level
Cultural Neutrality: Yes - avoid slang, keep universal
Interactive Level: Medium frequency of questions, direct address

STRUCTURAL REQUIREMENTS--
Opening Hook: Must grab attention in first 10 seconds with curiosity, magic, or sensory detail.
Example starter: Have you ever seen hair that could glow like sunshine?
Hook style: Magical sensory question
Scene Density: New scene every 10-20 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include 3-4 audience questions e.g., What would YOU do?
Sensory Anchors:
Include 1 sensory detail per major scene- Sight: Glowing golden hair, Sound: "Flower, gleam and glow" song, Touch: Soft grass under feet, Light/Motion: Floating lanterns rising
Character Voice Cues: Character 1: Radhita: Sweet, curious, melodic, Character 2: Eugene: Confident, playful, warm, Character 3: Mother Gothel: Sweet-sounding but sometimes sharp
Transitions: Use smooth, childfriendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: Gentle, storybook-style
Educational Elements: Identifying emotions, problem-solving, bravery, kindness, recognizing true love vs. selfish love
Moral Reinforcement: Moderately obvious - stated clearly at the end
Optional CTA: Tell us which magical moment you loved the most! - optional


================================================================================
FILE: channel/ranpuzel/scenes.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/scenes.txt
ENCODING: utf-8
================================================================================

### SCENE 1: The Lonely Tower
Emotional Arc: Lonely - Hopeful
Setting Visual Anchor: A tall, circular stone tower room. A single large window reveals a sunny sky. The room is sparsely furnished with a simple bed, a wooden chair, and a small table. Dust motes dance in the warm, volumetric sunlight streaming through the window. The stone walls are covered with colorful, childlike paintings.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Pascal
Frozen Keyframe: Radhita sitting on the floor, her back to the window, her impossibly long, golden hair pooled around her like a golden rug. She is looking down at a painting she is drawing on the stone floor, her expression wistful. Pascal is perched on her knee, his skin a muted, sad blue.
Camera: Wide Shot
Lighting/Atmosphere: Warm, volumetric morning sunlight creating a bright pool of light on the floor around her.
Focus: Radhita's isolation within the sunlit room.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Mother Gothel
Frozen Keyframe: Mother Gothel standing over Radhita, one hand placed possessively on Radhita's shoulder. Her body language is imposing. Radhita is looking up at her, face full of conflicted emotion - part trust, part longing.
Camera: Medium Shot
Lighting/Atmosphere: The warm sunlight now casts long, dramatic shadows from Mother Gothel.
Focus: The controlling dynamic between the two characters.

 SHOT 3 ACTION/REACTION
Subjects: Radhita
Frozen Keyframe: Radhita now stands at the large window, hands pressed against the stone sill, gazing out at the distant kingdom. Her hair glows with a soft, warm light. Her expression is one of deep yearning and hope.
Camera: Close Up
Lighting/Atmosphere: The sunlight backlights her, making her glowing hair and the edges of her simple dress shine.
Focus: Radhita's hopeful face and her magical, glowing hair.

### SCENE 2: The Intruder
Emotional Arc: Scared - Brave
Setting Visual Anchor: The same tower room. The light has shifted to a later afternoon glow. The room is now in disarray from a struggle.

 SHOT 1 ESTABLISHING
Subjects: Eugene/Flynn Rider
Frozen Keyframe: Eugene has just pulled himself over the windowsill and is frozen mid-action, crouched on the floor inside the tower. He has a confident smirk, holding the Sparkly Crown in one hand. He is looking around the room with surprise.
Camera: Low Angle
Lighting/Atmosphere: Late afternoon sun, casting long golden-hour shadows across the room.
Focus: Eugene's dramatic and unexpected entrance.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Radhita is standing bravely, having just hit Eugene over the head with a heavy frying pan. She holds the pan with both hands, her eyes wide with a mix of fear and determination. Eugene is crumpled on the floor at her feet, unconscious.
Camera: Medium Shot
Lighting/Atmosphere: The golden-hour light illuminates the scene of the comedic confrontation.
Focus: Radhita's brave but frightened pose over the unconscious Eugene.

### SCENE 3: The Meadow of Freedom
Emotional Arc: Wonder - Joy
Setting Visual Anchor: A vast, sun-drenched meadow filled with wildflowers daisies, poppies, bluebells. A clear blue sky with puffy white clouds. A gentle breeze causes the grass and flowers to sway.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Eugene, Maximus
Frozen Keyframe: A wide view of the meadow. In the distance, Radhita is a small figure, arms outstretched, beginning to run. Eugene watches from the foreground with an amused smile. Maximus is partially visible, grazing peacefully.
Camera: Wide Shot
Lighting/Atmosphere: Bright, cheerful midday sun, high in the sky. The colors are vibrant and saturated.
Focus: The vastness of the outside world and Radhita's small figure within it.

 SHOT 2 ACTION/REACTION
Subjects: Radhita
Frozen Keyframe: Extreme close-up on Radhita's bare feet, toes curling into the soft, tickly green grass and crushed flower petals.
Camera: Extreme Close Up
Lighting/Atmosphere: The sun highlights the texture of the grass and the delicate petals.
Focus: The sensory detail of her first touch of grass.

 SHOT 3 ACTION/REACTION
Subjects: Radhita, Pascal
Frozen Keyframe: Radhita is caught mid-twirl, her simple dress and long golden hair flying out around her. Her head is thrown back in pure, unrestrained laughter. Pascal is clinging to her shoulder, his skin a bright, joyful green and yellow.
Camera: Low Angle
Lighting/Atmosphere: Backlit by the sun, creating a glowing, halo effect around her.
Focus: The pure, unadulterated joy on Radhita's face.

### SCENE 4: The Lantern Festival
Emotional Arc: Awe - Love
Setting Visual Anchor: A small, wooden rowboat on a perfectly calm, dark lake that acts as a mirror. The sky above is a deep twilight purple, filled with countless Floating Lights golden paper lanterns. The reflections of the lanterns shimmer on the water's surface.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Eugene, The Floating Lights
Frozen Keyframe: A wide shot of the little boat in the center of the lake, completely surrounded by the golden Floating Lights, which fill the sky and water. Radhita and Eugene are small figures in the boat, looking up.
Camera: Wide Shot
Lighting/Atmosphere: The only light comes from the thousands of warm, golden lanterns, creating a magical, luminous atmosphere.
Focus: The sheer scale and beauty of the lantern spectacle.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Close-up two-shot. Radhita and Eugene are looking at each other, not at the lights. Radhita's face is full of awe and dawning love. Eugene's confident smirk has softened into a genuine, tender smile. A single Floating Light drives between them, illuminating their faces.
Camera: Close Up
Lighting/Atmosphere: The warm, soft glow from the lantern lights their faces intimately.
Focus: The emotional connection between the two characters.

### SCENE 5: The Final Confrontation
Emotional Arc: Despair - Hope
Setting Visual Anchor: The tower room again, but now it is dark and gloomy. The only light comes from a single candle and the faint glow of the distant lanterns. The room feels cold and oppressive.

 SHOT 1 ESTABLISHING
Subjects: Radhita, Mother Gothel
Frozen Keyframe: Radhita is chained by her hair to a post. Her hair is still long and golden. She is on her knees, head bowed in despair. Mother Gothel stands over her, a triumphant and cruel smile on her face.
Camera: Medium Shot
Lighting/Atmosphere: Dramatic, low-key lighting with deep shadows. The mood is tense and dark.
Focus: Radhita's imprisonment and Mother Gothel's victory.

 SHOT 2 ACTION/REACTION
Subjects: Eugene, Radhita, Mother Gothel
Frozen Keyframe: The moment of the hair cut. Eugene has burst in and grabbed a shard of broken mirror. He is frozen mid-swing, slicing through Radhita's long hair. Radhita's eyes are wide with shock. Mother Gothel's face is a mask of horror and fury as she reaches out to stop him.
Camera: Dutch Angle
Lighting/Atmosphere: A chaotic flash of light from the lanterns outside illuminates the frozen struggle.
Focus: The climactic, decisive action of cutting the hair.

 SHOT 3 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Eugene is wounded, lying on the floor. Radhita kneels over him, cradling his head. Her hair is now short and brown. A single, luminous tear is frozen mid-fall from her eye, about to land on his cheek. Her expression is one of profound love and sorrow.
Camera: Extreme Close Up
Lighting/Atmosphere: A soft, magical glow begins to emanate from the tear, pushing back the darkness.
Focus: The magical tear and the expression of true love on Radhita's face.

### SCENE 6: The Homecoming
Emotional Arc: Joy - Peace
Setting Visual Anchor: A grand, sunlit palace balcony made of white marble with intricate carvings. The kingdom, now a "sunny playground," is visible in the background below. Banners flutter in a gentle breeze.

 SHOT 1 ESTABLISHING
Subjects: The King, The Queen
Frozen Keyframe: The King and Queen stand side-by-side at the balcony railing, looking out with hopeful, yet slightly sad, expressions. They are the picture of regal patience and longing.
Camera: Wide Shot
Lighting/Atmosphere: Bright, warm, late afternoon sun bathes the balcony in a golden, peaceful light.
Focus: The royal parents awaiting their daughter.

 SHOT 2 ACTION/REACTION
Subjects: Radhita, The King, The Queen, Eugene, Pascal, Maximus
Frozen Keyframe: The family hug. The Queen has her arms wrapped tightly around Radhita, who is burying her face in her mother's shoulder. The King has one arm around the Queen and his other hand on Radhita's back, his eyes closed in profound relief and joy. Eugene stands slightly to the side, smiling warmly. Pascal is on Radhita's shoulder, and Maximus stands proudly behind them all.
Camera: Medium Shot
Lighting/Atmosphere: The golden sun creates a halo around the reunited family, emphasizing the heartwarming moment.
Focus: The emotional center of the family hug.

 SHOT 3 ACTION/REACTION
Subjects: Radhita, Eugene
Frozen Keyframe: Radhita and Eugene are holding hands, looking out from the balcony over their kingdom. Radhita's short brown hair is tucked behind her ear. She is smiling a peaceful, contented smile. Eugene looks at her with loving admiration.
Camera: Close Up
Lighting/Atmosphere: The warm sunset light silhouettes them, symbolizing the beginning of their new life together.
Focus: Their connected hands and hopeful faces looking toward the future.


================================================================================
FILE: channel/ranpuzel/story.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/ranpuzel/story.txt
ENCODING: latin-1
================================================================================

Radhita Story

In a sunny kingdom that looked a lot like a big, beautiful playground, there was a tall, tall tower. It was so tall it almost tickled the clouds! This tower had no doors and no stairs. At the very top, in a cozy room, lived a girl named Radhita.

Radhita wasn't like other kids. She had the longest, most magical hair you've ever seen! It was golden and shiny, and when she sang her special song, "Flower, gleam and glow," it sparkled like sunshine.

But Radhita was lonely. She spent her days talking to her best friends, a little chameleon named Pascal and a brave horse named Maximus. She dreamed of going outside to see the floating lights that appeared in the sky every year on her birthday.

The person who kept her in the tower was a woman named Mother Gothel. Mother Gothel told Radhita the outside world was a scary place, but she really just wanted to keep Radhita's magical hair all to herself to stay young.

One day, a funny and kind young man named Flynn Rider climbed up the tower! He wasn't supposed to be there, but he was on an adventure. Radhita was scared at first, but she was also brave. She made a deal with him. She would give back a sparkly crown he had if he would take her to see the floating lights.

So began the best field trip ever! Flynn, who secretly liked to be called by his real name, Eugene, took Radhita to a wonderful meadow. Radhita felt the soft grass under her feet for the first time! She laughed and danced and rolled around. It felt amazing!

Later, they went to a big, fun party in the kingdom with lots of music. Everyone was singing and dancing! Radhita joined in, and she was a natural. She even used a frying pan like a drum! She made so many new friends and realized the world wasn't scary at allit was wonderful.

Finally, as the sky grew dark, they got into a little boat on a calm lake. All around them, hundreds of beautiful floating lights (which were actually lanterns!) rose into the sky. It was the most magical sight Radhita had ever seen. She was so happy, and she and Eugene became the best of friends.

But Mother Gothel was angry! She tricked Radhita and took her back to the tower. It seemed like the adventure was over.

However, Eugene was a true hero. He loved Radhita and wanted her to be free. He climbed the tower to rescue her, but Mother Gothel tried to stop him. In the struggle, Radhita's long, magical hair was accidentally cut! It lost its magic and turned brown.

For a moment, everything was still. But then, Radhita's love for Eugene was so strong that it created a new kind of magica magic of the heart. It healed him, proving that true love is the most powerful magic of all.

Eugene took Radhita's hand, and they left the tower forever. Radhita was reunited with her real family, the King and Queen, who had been sending the floating lights into the sky every year hoping their lost daughter would see them.

Radhita finally had the family and the freedom she had always dreamed of. She, Eugene, Pascal, and Maximus lived happily ever after, going on new adventures every single day. And Radhita's favorite thing to do was paint pictures of the big, beautiful, and wonderfully un-scary world she now called home.





================================================================================
FILE: channel/step-1_narration_framework_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-1_narration_framework_prompt.txt
ENCODING: utf-8
================================================================================

You Job is to fill the following relevant details which can be later used to generate the narration to use in youtube story video made specifically for  USA kids.
You have to only fill the following exact asked details based on the given "=== CURRENT STORY ===" section.
Also you will find below "=== ATTACHMENT: CONVERSATION HISTORY ===" for any previous requests regarding this work.
(Do NOT describe what you’re doing. Output only the answer.)

STORY IDENTITY -->
Original Title: [ ]
Working Title: [ ]
Core Moral: [ ]
Genre: [ ]
Character Profiles: [Character Name: personality, role, emotional traits], [ ], [ ]

AUDIENCE STRATEGY -->
Target Viewer-
Primary Age: [ ]
Viewing Context: [ ] (e.g., bedtime, school storytime, YouTube Kids autoplay)
Desired Length: [ ] minutes
Parent/Teacher Needs: [ ] (e.g., simple vocabulary, emotional development, kindness, bravery, safe themes)

YOUTUBE OPTIMIZATION-->
Platform Requirements-
Primary Keywords: [ ]
Retention Strategy: High engagement throughout, Emotional shifts every 1220 seconds, Scene change every 1020 seconds, Visual wow moments
Shareability Factors: [ ], (e.g., strong visuals, heartwarming ending, exciting adventure moments)
Series Potential: [Yes/No  if yes, how?]
Thumbnail Moment Indicators: Moment 1: [ ], Moment 2: [ ], Moment 3 (optional): [ ]

NARRATION SPECIFICS-->
Voice & Style-
Narrator Persona: [ ], (e.g., warm storyteller, playful teacher, magical Disneystyle narrator)
Tone Reference: (optional but powerful) Narration style similar to [show/character], with the warmth of [reference]. , Add here: [ ]
Emotional Range: [ ], (e.g., curious ? excited ? gentle ? suspenseful ? heartwarming)
Pace Variations: Fast during [ ], Medium during [ ], Slow during [ ], 
Vocabulary Level:[ ] (e.g., 2nd4th grade U.S. reading level)
Cultural Neutrality: [Yes/No  avoid slang, keep universal]
Interactive Level: [High/Medium/Low] (frequency of questions, direct address)

STRUCTURAL REQUIREMENTS-->
Opening Hook: Must grab attention in first 10 seconds with curiosity, magic, or sensory detail.
Example starter: Have you ever?
Hook style: [ ]
Scene Density: New scene every 1020 seconds, Emotional shift every 12 seconds, No monologue longer than 8 seconds
Engagement Points: Include [number] audience questions (e.g., What would YOU do?)
Sensory Anchors: 
Include 1 sensory detail per major scene- Sight: [ ], Sound: [ ], Touch: [ ], Light/Motion: [ ] 
Character Voice Cues:  Character 1: [ ],  Character 2: [ ],  Character 3: [ ]
Transitions: Use smooth, childfriendly transitions such as: But little did they know, Meanwhile, As the sun began to rise
Required transition style: [ ]
Educational Elements: [ ] (e.g., emotions, problemsolving, bravery, kindness)
Moral Reinforcement: [How obvious/subtle?] (e.g., moderately obvious line near the end)
Optional CTA: [ ] (e.g., Tell us which moment you loved the most!  optional)
(Do NOT describe what you’re doing. Output only the answer.)








================================================================================
FILE: channel/step-2_narration_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-2_narration_prompt.txt
ENCODING: utf-8
================================================================================

(Do NOT describe what you’re doing. Output only the answer.)
I will provide you with two items:
1> The original story text
2> My fully filled NARRATION FRAMEWORK TEMPLATE

Your task is to use the story as the source material, and use the framework as the set of mandatory creative instructions.
You MUST follow these rules:
1> Follow the narration framework EXACTLY as written.
2> Use the story only as the plot foundation.
3> Do NOT retell the story verbatim—rewrite it as per NARRATION FRAMEWORK TEMPLATE for YouTube narration.
4> Maintain the required tone, pacing, emotional range, and vocabulary level.
5> Include all structural elements from the framework (hooks, sensory details, transitions, questions, etc).
6> Avoid repetition, filler, or unnecessary complexity.
7> Ensure the narration feels like a professionally written YouTube Kids storytime video.

Your output should be:
1> A polished narration script
2> Ready for voiceover recording
3> Optimized as defined in the NARRATION FRAMEWORK TEMPLATE
4> 100% aligned with the template’s tone, pacing, and structure

After reading the story and template, generate:
A complete, final narration script
(Do NOT describe what you’re doing. Output only the answer.)

Here is the story:
[PASTE FULL STORY TEXT HERE]

Here is the filled NARRATION FRAMEWORK TEMPLATE:
[PASTE YOUR COMPLETED TEMPLATE HERE]


================================================================================
FILE: channel/step-3_charactersheet_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-3_charactersheet_prompt.txt
ENCODING: utf-8
================================================================================

Role: You are an expert Visual Prompt Engineer for generative AI. Task: Analyze a story to extract ALL active entities and convert them into rigid image-generation schemas.

1. UNIVERSAL SCOPE DEFINITION
You must extract an entity if it meets ANY of these criteria:
a) Named Characters: (e.g., "Arjun", "Zeus").
b) Creatures/Animals: (e.g., "The White Elephant," "The Kraken").
c) Sentient Objects: (e.g., "The Talking Sword," "The Magic Mirror").
d) Distinct Groups: (e.g., "The Royal Guards," "A swarm of fairies").

2. THE "CASTING DIRECTOR" PROTOCOL (Inference)
LLMs must fill visual gaps based on the Entity Type:
a) If Human: Infer Age, Ethnicity, Skin Texture, Body Type, Costume.
b) If Creature: Infer Species, Texture (Scales/Fur/Feathers), Anatomy (Wings/Horns).
c) If Object: Infer Material (Rusty Iron, Polished Gold), Wear-and-Tear, Glow/Aura.
d) If Group: Infer Uniformity (Matching armor), Number (approximate), Collective Mood.

3. THE "SANITATION" PROTOCOL (Constraints)
a) FORBIDDEN: Do not describe the background or lighting in the Master Definition.
b) FORBIDDEN: Do not use transient actions (e.g., "attacking"). Describe the subject in a neutral, static state.

4. OUTPUT FORMAT (Strict Markdown)
For every entity found, output this exact block:
[ENTITY NAME] Category: [Human / Creature / Sentient Object / Group] Role: [Main / Supporting / Background]

1. Visual Data Breakdown:
a) Explicit Traits (Canon): [List facts found in text]
b) Inferred Traits (AI Casting): [List specific details you added to fill gaps]

2. Master Visual Definition (Subject Only):
[Instruction for AI:]
a) Human: Age, Ethnicity, Face, Body, Costume.
b) Creature: Species, Anatomy, Skin/Fur Texture, Markings.
c) Object: Material, Shape, Surface Detail, Magical Effects.
d) Group: Collective description (e.g., "Horde of skeletal warriors, rusted iron armor, glowing blue eyes"). (Example Output: Ancient colossal dragon, obsidian scales, jagged spinal ridges, magma-glowing veins, leathery tattered wings)

3. Personality/Vibe Keywords:
[3-5 visual adjectives, e.g., Ancient, Glitchy, Ferocious, Divine]

4. Dynamic Prompt Template: Copy this code block for generation:
[Insert Art Style Here] :: [Insert Master Visual Definition Here] :: [Insert Personality Keywords Here], {SCENE_ACTION_AND_LIGHTING_GO_HERE} --ar 16:9 --stylize 250

5. PROCESS
a) Read the User Story.
b) Classify every entity (Human, Creature, or Object).
c) Apply the specific Inference Logic for that category.
d) Sanitize descriptions.
e) Output the Character Sheets. Do not give unnecessary commentary just asked details.

USER INSTRUCTION: At the end of your response, ask: "I have extracted the visual assets for all entities. Please check the 'Inferred Traits' for accuracy. If satisfied, provide a SCENE description, and I will assemble the final prompts."


================================================================================
FILE: channel/step-4_scene_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-4_scene_prompt.txt
ENCODING: utf-8
================================================================================

You are the Head of Cinematography and Layout for an animated film.
Your goal is to translate a story and a character sheet into precise, static visual scene descriptions (Keyframes) that can be generated by AI.

INPUT DATA:
1. STORY (The Narrative)
2. CHARACTER DESIGNS (The Visual Laws - You MUST adhere to these exactly)

GLOBAL RULES:
1. NO NEW CHARACTERS: Use only the visual descriptions provided in the Character Sheet.
2. STATIC MOMENTS: AI generates still images. Do not describe motion ("walking"). Describe the frozen frame ("mid-stride, one leg raised").
3. VISUAL CONSISTENCY: The "Setting" must remain identical across all shots in a scene.
4. STRICT FORMATTING: You must use the headers '### SCENE' and '*** SHOT' exactly as shown below to ensure the pipeline parses your output correctly.

ANALYSIS STRUCTURE:
For every scene, output this exact format:

### SCENE [Number]: [Location Name]
Emotional Arc: [Start Emotion] -> [End Emotion]
Setting Visual Anchor: [A detailed description of the BACKGROUND ONLY. No characters. Lighting, colors, furniture, weather. This description will be pasted into every image prompt for this scene.]

*** SHOT 1 (ESTABLISHING)
Subject(s): [Who is in the shot? Use exact names.]
Frozen Keyframe: [Specific body pose and facial expression. E.g., "Sitting cross-legged, holding a frying pan, mouth open in surprise."]
Camera: [Choose one: Wide Shot / Medium Shot / Close Up / Extreme Close Up / Overhead / Low Angle / Dutch Angle]
Lighting/Atmosphere: [E.g., "Volumetric morning sunlight hitting dust particles."]
Focus: [What is the main subject?]

*** SHOT 2 (ACTION/REACTION)
Subject(s): ...
Frozen Keyframe: ...
Camera: ...
Lighting/Atmosphere: ...

(Create 2-4 Shots per scene to cover the narrative beat. Ensure distinct visual changes.)

VISUAL STYLE GUIDE:
Pixar/Disney Style: Soft lighting, subsurface scattering on skin, expressive eyes, vibrant but cohesive color palettes.
Composition: Adhere to the Rule of Thirds. Center the subject for importance.

Now, analyze the Story and Character Designs provided below and generate the Scene Keyframes.


================================================================================
FILE: channel/step-5_image_prompt.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-5_image_prompt.txt
ENCODING: utf-8
================================================================================

You are an expert AI Image Prompt Engineer specializing in Stability AI and Stable Diffusion.

YOUR TASK:
Convert the provided SCENE SHOT DATA into a single, high-fidelity natural language image generation prompt, strictly applying the specified quality and style weights.

INPUT DATA STRUCTURE:
1. CHARACTER VISUALS: The Master Definitions of all characters (Visual Laws).
2. CONTEXT: The Scene Name
3. VISUAL ANCHOR: The persistent background/setting description.
4. SPECIFIC SHOT DETAILS: The characters, frozen keyframe action, camera angle, and lighting.

INSTRUCTIONS:
You must synthesize the inputs into a cohesive structure, focusing the beginning of the prompt on the combined style and key interaction.

CRITICAL RULE: "THE ACTOR REPLACEMENT PROTOCOL"
1. Identify all characters in the shot.
2. LOOK UP their "Master Visual Definition" from CHARACTER VISUALS.
3. Replace the character's name with their visual definition in the final prompt.

---
OUTPUT FORMAT (Strictly follow this structure):

[STYLE & QUALITY WEIGHTING], [CAMERA/SHOT TYPE] of [MAIN INTERACTION & POSE], [Detailed Visual Description of Subject A], [Detailed Visual Description of Subject B], set in [Detailed Environment/Visual Anchor], with [Lighting & Atmosphere].

---
STYLE & QUALITY WEIGHTING:
You MUST use this exact string at the start of your prompt:
(Disney Pixar 3D style:0.9), (ultra realistic:1.1), (UHD, cinematic quality, hyper-detailed:1.0)

---
EXAMPLE INPUT (Multi-Subject Focus):
CHARACTER VISUALS: Radhita = Girl with golden hair. Mother Gothel = Woman, dark gown.
VISUAL ANCHOR: A dark stone tower room.
SPECIFIC SHOT: Shot 2. Action: Mother Gothel standing over Radhita, hand on shoulder.

EXAMPLE OUTPUT (Prioritized Interaction & Weighted Style):
(Disney Pixar 3D style:0.9), (ultra realistic:1.1), (UHD, cinematic quality, hyper-detailed:1.0), medium shot of a middle-aged woman in a dark gown standing imposingly over a teenage girl with extremely long golden hair, with the woman's possessive hand placed on the girl's shoulder, set in a dark gloomy stone tower room, illuminated by a single dramatic shaft of low-key lighting.
---

FINAL RULES:
1. OUTPUT ONLY THE PROMPT.
2. USE COMMAS as separators. Do NOT use double colons (::) or any Midjourney parameters.
3. Use the VISUAL ANCHOR for the background.
4. NO conversational filler.

NOW, GENERATE THE PROMPT FOR THE FOLLOWING INPUT:


================================================================================
FILE: channel/step-6_video_metadata.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/channel/step-6_video_metadata.txt
ENCODING: utf-8
================================================================================

# Role & Objective
You are the APEX Protocol Engine, a world-class YouTube Packaging Strategist and Algorithmic Psychologist. Your goal is to maximize CTR (Click-Through Rate) and AVD (Average View Duration) by converting a raw VIDEO SCRIPT into high-performance metadata.

You operate on the APEX framework:
1. Attract (Stop the scroll)
2. Prove (Validate the click immediately)
3. Expand (Retain attention via structure)
4. Cross-Pollinate (Drive comments and sessions)

# INPUT DATA
The user will provide a Video Script.

# INSTRUCTIONS

## STEP 0: CORE EXTRACTION (Internal Processing)
Before generating options, analyze the script to identify:
1. The "Bleeding Neck" problem the viewer has.
2. The specific "New Mechanism" or solution the script proposes.
3. The most controversial or counter-intuitive statement in the text.
*Use these insights to fuel the creative generation below.*

## SECTION 1: ATTRACT (The Unresolvable Pattern)
Goal: Trigger the Zeigarnik Effect (the psychological need to close a loop).

### A. Title Generator (15 Options Total)
Create 5 options for each formula.
*Constraint: Do not use generic AI phrases like "Unlocking" or "The Ultimate Guide." Use punchy, human language.*

**Formula 1: "Forbidden Knowledge"**
Template: [What They Don't Want You To Know About X]
*Focus: Framing specific advice in the script as "suppressed" or "insider" info.*

**Formula 2: "The Mismatch"**
Template: [Unexpected Person/Thing] Is The [Unexpected Role] of [Topic]
*Focus: High contrast and paradox (e.g., "Why Laziness is Your Superpower").*

**Formula 3: "The Negative Blueprint"**
Template: Stop Doing [Popular Thing]; Start Doing [Niche Method]
*Focus: attacking common wisdom found in the script.*

### B. Thumbnail Concepts (4 Visual Prompts)
Describe 4 distinct concepts formatted as AI Image Prompts (optimized for Midjourney/DALL-E).
*Structure: [Subject/Action] + [Setting/Mood] + [Text Overlay (Max 3 words)]*
*Rule of 3: Must include a Face (emotion), an Artifact (prop from script), and Text.*

## SECTION 2: PROVE (The 10-Second Contract)
Goal: Validate the click in the first 2 lines of the description (above the "Show More" fold).

### A. The Description Hook (5 Variations)
Write 5 "Anti-Intros." Do not say "In this video..."
*Strategy: Start directly with a shocking stat, a controversial quote from the script, or a specific "If/Then" promise.*

## SECTION 3: EXPAND (The Dopamine Loop)
Goal: Structure the video for retention.

### A. Timestamp Structure (1 Optimized Path)
Analyze the script and provide a breakdown (0:00 - [Name]).
*Constraint: Do not use generic labels like "Introduction" or "Conclusion." Use "Open Loop" labels that tease the value (e.g., instead of "Tip #1", use "The $500 Mistake").*

### B. The Hashtag Ladder
* Rung 1 (Branded): #TheApexProtocol
* Rung 2 (Niche): 5 specific keywords found in the script.
* Rung 3 (Broad): 5 high-volume categories (e.g., #Psychology, #Finance) that bridge this topic to the masses.

## SECTION 4: CROSS-POLLINATE (The Engagement Virus)
Goal: Force comments and session time.

### A. The Pinned Comment (4 Options)
1. **The Binary:** "Team A (Like) vs Team B (Comment)."
2. **The Identity:** "Comment 'I AM READY' if you are committing to [Action]."
3. **The Easter Egg:** "Who else caught the [Hidden Detail] at [Timestamp]?"
4. **The Devil's Advocate:** Ask a polarizing question based on the script's hottest take.

### B. Outro Command (3 Options)
Write 3 sentences that bridge the end of this script to a hypothetical next video.
*Template: "Now that you've mastered [Concept A], you need to fix [Concept B] by watching this video next."*

# FORMATTING OUTPUT
Please present the results in this clear structure:

## 1. TITLE BATCH
**Forbidden Knowledge**
1. ...
...
**The Mismatch**
1. ...
...
**The Negative Blueprint**
1. ...
...

## 2. THUMBNAIL VISUALS
* **Option 1:** ...
* **Option 2:** ...
* **Option 3:** ...
* **Option 4:** ...

## 3. DESCRIPTION HOOKS
1. ...
2. ...
3. ...
4. ...
5. ...

## 4. TIMESTAMPS
(Time - Label)

## 5. HASHTAGS
**Niche:** ...
**Broad:** ...

## 6. ENGAGEMENT
**Pinned Comments:**
...
**Outro Bridges:**
...


================================================================================
FILE: yt-python/image_generator.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/image_generator.py
ENCODING: utf-8
================================================================================

import os
import re
import requests
import argparse
from pathlib import Path
from typing import List, Dict, Optional, Any
from concurrent.futures import ThreadPoolExecutor, as_completed
import logging

# ==============================================================================
# 1. CONFIGURATION
# ==============================================================================

STABILITY_API_KEY = os.getenv('STABILITY_API_KEY', 'sk-eR8zO8lXv8lglgjUz4O8ttX2yi9ftieJ9i2ZCheQd92KsGFS')
STABILITY_API_URL = "https://api.stability.ai/v2beta/stable-image/generate/core"

BASE_PROJECT_DIR = Path(__file__).parent.parent.resolve() 

MAX_WORKERS = 5
DEFAULT_STYLE_PRESET = "cinematic"
DEFAULT_SEED = 12345 
OUTPUT_FORMAT = "webp"

# --- SAFETY: TESTING MODE ---
# Set to True to generate only a few images (saves credits)
# Set to False to generate the whole story
TESTING_MODE_FLAG = True 
TEST_LIMIT = 2 

logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# ==============================================================================
# 2. DATA PARSING
# ==============================================================================

def parse_image_prompts(prompts_file_path: Path, limit: Optional[int] = None) -> List[Dict[str, str]]:
    content = ""
    try:
        with open(prompts_file_path, 'r', encoding='utf-8') as f:
            content = f.read()
    except FileNotFoundError:
        logger.error(f"❌ Input file not found: {prompts_file_path}")
        return []
        
    prompts_list = []
    blocks = re.split(r'(?=\={3}\s*SCENE\s+\d+.*?\={3})', content, flags=re.IGNORECASE | re.DOTALL)
    
    for i, block in enumerate(blocks):
        if not block.strip() or "SCENE" not in block: continue
            
        match = re.search(r'^\={3}\s*(.*?)\s*\={3}\s*(.*)', block.strip(), re.DOTALL)
        
        if match:
            full_header = match.group(1).strip()
            raw_prompt = match.group(2).strip()
            
            # --- MINIMAL CLEANING (Relying on Prompt Template for Syntax) ---
            # We only strip parameters that go into the API payload (--ar, --stylize)
            # We do NOT replace '::' or change text structure anymore.
            clean_prompt = re.sub(r'--ar\s+[\d:]+|--stylize\s+\d+|--v\s+\d+(\.\d+)?', '', raw_prompt)
            clean_prompt = " ".join(clean_prompt.split()).strip()

            # Naming Logic
            name_match = re.search(r'SCENE\s+(\d+):\s*(.*?)\s*-\s*SHOT\s+(\d+)\s*(.*)', full_header, re.IGNORECASE)
            scene_num = int(name_match.group(1)) if name_match and name_match.group(1).isdigit() else i
            shot_num = int(name_match.group(3)) if name_match and name_match.group(3).isdigit() else 1
            scene_name = name_match.group(2).strip().replace(':', '') if name_match else f"Scene{scene_num}"
            shot_type = name_match.group(4).strip().replace('=', '') if name_match else "Shot"
            
            ar_match = re.search(r'--ar\s+([\d:]+)', raw_prompt)
            aspect_ratio = ar_match.group(1) if ar_match else "16:9"

            prompts_list.append({
                'id': f"S{scene_num:02d}_SH{shot_num:02d}",
                'scene_name_short': f"{scene_name.split()[0]}{shot_type.split()[0]}",
                'prompt': clean_prompt,
                'aspect_ratio': aspect_ratio,
                'original_index': len(prompts_list) 
            })
            
        # Apply Testing Limit
        if limit is not None and len(prompts_list) >= limit:
            logger.info(f"🛑 Testing Limit Reached: Stopping parsing after {limit} prompts.")
            break
            
    return prompts_list

# ==============================================================================
# 3. API EXECUTION
# ==============================================================================

def generate_single_image(job_data: Dict[str, Any], api_key: str) -> Optional[Dict[str, Any]]:
    # --- CONSOLE PREVIEW ---
    print(f"\n🎨 [PREVIEW] Generating {job_data['id']}:")
    print(f"   Prompt: {job_data['prompt'][:150]}...") 
    print(f"   Aspect Ratio: {job_data['aspect_ratio']}")
    
    payload = {
        "prompt": (None, job_data['prompt']),
        "output_format": (None, OUTPUT_FORMAT),
        "aspect_ratio": (None, job_data['aspect_ratio']),
        "style_preset": (None, DEFAULT_STYLE_PRESET),
        "seed": (None, str(DEFAULT_SEED))
    }
    headers = {
        "authorization": f"Bearer {api_key}",
        "accept": "image/*"
    }

    try:
        response = requests.post(STABILITY_API_URL, headers=headers, files=payload, timeout=120)
        if response.status_code == 200:
            job_data['image_bytes'] = response.content
            job_data['success'] = True
            logger.info(f"✨ Success: {job_data['id']}")
            return job_data
        else:
            logger.error(f"❌ API Error {job_data['id']}: {response.text[:200]}")
            job_data['success'] = False
            return job_data
    except Exception as e:
        logger.error(f"⛔ Network Error {job_data['id']}: {e}")
        job_data['success'] = False
        return job_data

# ==============================================================================
# 4. MAIN
# ==============================================================================

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument('--channel', type=str, default="channel", help="The channel folder name")
    parser.add_argument('--story', type=str, default="ranpuzel", help="The story folder name")
    args = parser.parse_args()

    # 1. Path Setup
    story_dir = BASE_PROJECT_DIR / args.channel / args.story
    prompts_file = story_dir / "image_prompt.txt"
    output_dir = story_dir / "images"
    
    if not output_dir.exists():
        logger.info(f"📁 Creating directory: {output_dir}")
        output_dir.mkdir(parents=True, exist_ok=True)
    
    # 2. Determine Limit
    job_limit = TEST_LIMIT if TESTING_MODE_FLAG else None
    if TESTING_MODE_FLAG:
        logger.warning(f"🧪 TESTING MODE ACTIVE: Only generating first {TEST_LIMIT} images.")
    
    # 3. Parse with Limit
    jobs = parse_image_prompts(prompts_file, limit=job_limit)
    
    if not jobs:
        logger.warning("No jobs found.")
        return

    # 4. Execute
    logger.info(f"🚀 Starting generation for {len(jobs)} images...")
    with ThreadPoolExecutor(max_workers=MAX_WORKERS) as executor:
        future_to_job = {executor.submit(generate_single_image, job, STABILITY_API_KEY): job for job in jobs}
        
        results = []
        for future in as_completed(future_to_job):
            if future.result(): results.append(future.result())

    # 5. Save
    results.sort(key=lambda x: x['original_index'])
    
    for result in results:
        if not result.get('success'): continue
        sanitized_name = re.sub(r'[^a-zA-Z0-9_]', '', result['scene_name_short'])
        filename = f"{result['id']}_{sanitized_name}.{OUTPUT_FORMAT}"
        
        try:
            with open(output_dir / filename, 'wb') as f:
                f.write(result['image_bytes'])
        except Exception as e:
            logger.error(f"❌ Save Error: {e}")
            
    logger.info(f"✅ Pipeline Complete. Check {output_dir}")

if __name__ == "__main__":
    main()


================================================================================
FILE: yt-python/main.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/main.py
ENCODING: utf-8
================================================================================

import re
import os
import urllib3
import httpx
from openai import OpenAI
import datetime
from pathlib import Path
from typing import Optional, List, Dict, Any
import logging
import time
import chardet
import json
import argparse
import threading
from concurrent.futures import ThreadPoolExecutor, as_completed

# ===== CONFIGURATION VARIABLES =====
BASE_PROJECT = "yt-automation"
CHANNEL_FOLDER = "channel"
STORY_FOLDER = "ranpuzel"

# Ensure you have your API Key set in environment variables or hardcoded here safely
DEEPSEEK_API_KEY = os.getenv('DEEPSEEK_API_KEY', 'sk-df60b28326444de6859976f6e603fd9c')
DEEPSEEK_MODEL = "deepseek-chat"
DEEPSEEK_MAX_TOKENS = 4000
DEEPSEEK_TEMPERATURE = 0.7

# Prompt files mapping
STEP_FILES = {
    1: {"prompt": "step-1_narration_framework_prompt.txt", "output": "narration_framework.txt", "desc": "Narration Framework"},
    2: {"prompt": "step-2_narration_prompt.txt", "output": "narration.txt", "desc": "Final Narration"},
    3: {"prompt": "step-3_charactersheet_prompt.txt", "output": "character_sheet.txt", "desc": "Character Sheet"},
    4: {"prompt": "step-4_scene_prompt.txt", "output": "scenes.txt", "desc": "Scene Breakdown"},
    5: {"prompt": "step-5_image_prompt.txt", "output": "image_prompt.txt", "desc": "Image Prompts"}
}

HISTORY_FILE = "ai_history.json"

# ===== LOGGING SETUP =====
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)
logger = logging.getLogger(__name__)

# ===== TEXT CLEANING =====
def clean_text_preserve_punctuation(text: str) -> str:
    if not text: return text
    # Clean some markdown artifacts but keep structure
    text = re.sub(r'[*`~^_\\|@\[\]{}()<>]', '', text) 
    text = re.sub(r' +', ' ', text)
    text = re.sub(r'\n\s*\n', '\n\n', text)
    return text.strip()

# ===== PATH HANDLING =====
def build_paths(base_project: str, channel_folder: str, story_folder: str) -> Dict[str, Path]:
    script_dir = Path(__file__).parent
    project_root = script_dir.parent if script_dir.name == "yt-python" else Path.cwd()
    
    channel_dir = project_root / channel_folder
    story_dir = channel_dir / story_folder
    
    paths = {
        'project_root': project_root,
        'channel_dir': channel_dir,
        'story_dir': story_dir,
        'story_file': story_dir / "story.txt",
        'history_file': channel_dir / HISTORY_FILE
    }
    
    # Add step-specific paths
    for step, data in STEP_FILES.items():
        paths[f'step{step}_prompt'] = channel_dir / data['prompt']
        paths[f'step{step}_output'] = story_dir / data['output']
        
    return paths

# ===== DEEPSEEK CLIENT =====
class DeepSeekNarrator:
    def __init__(self, api_key: str, history_file: Path):
        self.api_key = api_key
        self.history_file = history_file
        self.client = None
        self.is_available = False
        self.lock = threading.Lock()
        self._initialize_client()
        self._migrate_legacy_history()

    def _initialize_client(self):
        try:
            urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)
            http_client = httpx.Client(verify=False, timeout=60.0)
            self.client = OpenAI(
                api_key=self.api_key, 
                base_url="https://api.deepseek.com", 
                http_client=http_client, 
                max_retries=2
            )
            # Simple connection test
            self.client.models.list()
            logger.info("✅ DeepSeek AI client initialized")
            self.is_available = True
        except Exception as e:
            logger.error(f"❌ DeepSeek client failed: {e}")
            self.is_available = False

    def _migrate_legacy_history(self):
        """Handle migration from old .txt history to .json"""
        txt_path = self.history_file.with_suffix('.txt')
        if txt_path.exists() and not self.history_file.exists():
            logger.warning("Found legacy history file. Archiving as .old and starting fresh JSON history.")
            txt_path.rename(txt_path.with_suffix('.txt.old'))

    def _load_history(self) -> List[Dict]:
        if not self.history_file.exists():
            return []
        try:
            with open(self.history_file, 'r', encoding='utf-8') as f:
                return json.load(f)
        except (json.JSONDecodeError, IOError):
            logger.error("⚠️ History file corrupted, starting fresh.")
            return []

    def _save_interaction(self, prompt: str, story: str, response: str):
        """Thread-safe JSON append"""
        entry = {
            "timestamp": datetime.datetime.now().isoformat(),
            "folder": STORY_FOLDER,
            "prompt": prompt,
            "story_snippet": story[:200] + "..." if len(story) > 200 else story,
            "response": response
        }
        with self.lock:
            history = self._load_history()
            history.append(entry)
            if len(history) > 50:
                history = history[-50:]
            
            with open(self.history_file, 'w', encoding='utf-8') as f:
                json.dump(history, f, indent=2, ensure_ascii=False)

    def generate_narration(self, prompt: str, story_content: str, use_history: bool = True) -> Optional[str]:
        if not self.is_available: return None

        try:
            messages = []
            
            # Inject history only if requested (Optimizes tokens for Step 5)
            if use_history:
                history_data = self._load_history()
                # Get last 3 relevant exchanges
                context_str = "\n".join([
                    f"User: {h['prompt']}\nAI: {h['response']}" 
                    for h in history_data[-3:]
                ])
                if context_str:
                    messages.append({"role": "system", "content": f"Previous Context:\n{context_str}"})

            user_content = f"{prompt}\n\n=== STORY DATA ===\n{story_content}"
            messages.append({"role": "user", "content": user_content})

            response = self.client.chat.completions.create(
                model=DEEPSEEK_MODEL,
                messages=messages,
                max_tokens=DEEPSEEK_MAX_TOKENS,
                temperature=DEEPSEEK_TEMPERATURE
            )
            
            narration = clean_text_preserve_punctuation(response.choices[0].message.content.strip())
            
            self._save_interaction(prompt, story_content, narration)
            return narration
            
        except Exception as e:
            logger.error(f"❌ Generation failed: {e}")
            return None

# ===== FILE OPERATIONS =====
def read_file(path: Path) -> Optional[str]:
    if not path.exists(): return None
    try:
        with open(path, 'r', encoding='utf-8') as f: return f.read().strip()
    except UnicodeDecodeError:
        try:
            raw = path.read_bytes()
            enc = chardet.detect(raw)['encoding'] or 'utf-8'
            return raw.decode(enc).strip()
        except Exception:
            return None

def write_file(path: Path, content: str) -> bool:
    try:
        path.parent.mkdir(parents=True, exist_ok=True)
        with open(path, 'w', encoding='utf-8') as f: f.write(content)
        return True
    except Exception as e:
        logger.error(f"❌ Write error {path.name}: {e}")
        return False

# ===== ROBUST PARSING LOGIC (FIXED) =====
def parse_scenes_robust(content: str) -> List[Dict]:
    """
    Robustly parses scenes using a state machine approach.
    Handles variations like:
    - "Scene 1" vs "SCENE 1" vs "## Scene 1"
    - "Shot 1" vs "SHOT 1" vs "1. Shot"
    """
    structured_data = []
    
    # Normalize line endings and split
    lines = content.replace('\r\n', '\n').split('\n')
    
    current_scene_header = "Unknown Scene"
    current_visual_anchor = "A cinematic background."
    current_shot_buffer = []
    current_shot_header = ""
    
    # Regex patterns for flexibility
    scene_pattern = re.compile(r'^(?:#+\s*)?(?:SCENE|Scene)\s+(\d+)', re.IGNORECASE)
    anchor_pattern = re.compile(r'(?:Visual Anchor|Setting|Background):\s*(.*)', re.IGNORECASE)
    shot_pattern = re.compile(r'^(?:#+\s*)?(?:SHOT|Shot)\s+(\d+)', re.IGNORECASE)

    def save_current_shot():
        if current_shot_header and current_shot_buffer:
            # Flatten buffer to text
            shot_text = "\n".join(current_shot_buffer).strip()
            # Create composite input for Step 5
            composite_input = (
                f"CONTEXT: {current_scene_header}\n"
                f"VISUAL ANCHOR: {current_visual_anchor}\n"
                f"SPECIFIC SHOT DETAILS:\n{shot_text}"
            )
            structured_data.append({
                'id': f"{current_scene_header} - {current_shot_header}",
                'full_text': composite_input
            })

    for line in lines:
        line_clean = line.strip().replace('*', '') # Remove bolding for checking
        
        # 1. Detect Scene Header
        if scene_pattern.search(line_clean):
            save_current_shot() # Save previous shot if exists
            current_scene_header = line.strip().replace('*', '').replace('#', '')
            # Reset for new scene
            current_shot_buffer = []
            current_shot_header = ""
            current_visual_anchor = "A cinematic background." # Reset anchor
            continue
            
        # 2. Detect Visual Anchor
        anchor_match = anchor_pattern.search(line_clean)
        if anchor_match:
            current_visual_anchor = anchor_match.group(1).strip()
            continue
            
        # 3. Detect Shot Header
        shot_match = shot_pattern.search(line_clean)
        if shot_match:
            save_current_shot() # Save previous shot
            current_shot_header = line.strip().replace('*', '')
            current_shot_buffer = [] # Start new buffer
            continue
            
        # 4. Accumulate Content (if inside a shot)
        if current_shot_header:
            current_shot_buffer.append(line)

    # Save the very last shot
    save_current_shot()
    
    return structured_data

# ===== STEP 5 LOGIC (FIXED) =====
def process_step_5_parallel(paths: Dict[str, Path]) -> bool:
    """Updated to handle Shot-level generation with Character Consistency Injection"""
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False
    
    prompt_template = read_file(paths['step5_prompt'])
    scenes_content = read_file(paths['step4_output'])
    
    # CRITICAL FIX 1: Read Character Sheet for visual consistency
    character_sheet = read_file(paths['step3_output']) 
    if not character_sheet:
        logger.warning("⚠️ Character sheet not found. Visuals may be inconsistent.")
        character_sheet = "No character definitions provided."
    
    # CRITICAL FIX 2: Use Robust Parser
    shots_to_process = parse_scenes_robust(scenes_content)
    
    if not shots_to_process:
        logger.error("❌ No shots found to process. Check Step 4 output format.")
        return False
        
    logger.info(f"🚀 Starting parallel generation for {len(shots_to_process)} shots...")
    
    results = {}
    
    def process_single_shot(shot_data):
        # CRITICAL FIX 3: Inject Character Data into the prompt
        prompt_input = (
            f"{prompt_template}\n\n"
            f"=== REFERENCE: CHARACTER VISUALS (STRICT ADHERENCE) ===\n"
            f"{character_sheet}\n\n"
            f"=== INPUT DATA (SCENE & SHOT) ===\n"
            f"{shot_data['full_text']}"
        )
        # We assume the Prompt Template instructs the AI to use this data
        result = narrator.generate_narration(prompt_template, prompt_input, use_history=False)
        return shot_data['id'], result

    with ThreadPoolExecutor(max_workers=5) as executor:
        future_to_shot = {executor.submit(process_single_shot, s): s for s in shots_to_process}
        
        for future in as_completed(future_to_shot):
            shot_id, output = future.result()
            if output:
                results[shot_id] = output
                logger.info(f"✅ Finished {shot_id}")
            else:
                results[shot_id] = "[Generation Failed]"

    # Reconstruct Output
    final_output = "IMAGE PROMPTS:\n\n"
    # Sort keys to ensure Scene 1 Shot 1 comes before Scene 1 Shot 2
    for key in sorted(results.keys()): 
        final_output += f"=== {key} ===\n{results[key]}\n\n"
        
    return write_file(paths['step5_output'], final_output)

def run_standard_step(step_num: int, paths: Dict[str, Path]) -> bool:
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False

    config = STEP_FILES[step_num]
    prompt = read_file(paths[f'step{step_num}_prompt'])
    
    # Gather inputs based on step logic
    inputs = ""
    if step_num == 1:
        inputs = read_file(paths['story_file'])
    elif step_num == 2:
        story = read_file(paths['story_file'])
        framework = read_file(paths['step1_output'])
        if not framework: return False
        inputs = f"STORY:\n{story}\n\nFRAMEWORK:\n{framework}"
    elif step_num == 4:
        # Step 4 needs BOTH Narration and Character Sheets
        narration = read_file(paths['step2_output'])
        chars = read_file(paths['step3_output'])
        inputs = f"STORY:\n{narration}\n\nCHARACTER DESIGNS (STRICT REFERENCE):\n{chars}"
    elif step_num in [3]:
        inputs = read_file(paths['step2_output']) # Needs narration
        
    if not prompt or not inputs:
        logger.error(f"❌ Missing inputs for Step {step_num}")
        return False

    result = narrator.generate_narration(prompt, inputs, use_history=True)
    if result:
        write_file(paths[f'step{step_num}_output'], result)
        logger.info(f"✅ Step {step_num} ({config['desc']}) Complete")
        return True
    return False

# ===== MAIN EXECUTION =====
def main():
    parser = argparse.ArgumentParser(description="YouTube Automation Pipeline")
    parser.add_argument('--step', type=int, nargs='+', help="Run specific steps (e.g., --step 1 2 5)")
    parser.add_argument('--all', action='store_true', help="Run all steps 1-5")
    args = parser.parse_args()

    paths = build_paths(BASE_PROJECT, CHANNEL_FOLDER, STORY_FOLDER)
    
    # Determine steps to run
    steps_to_run = []
    if args.all:
        steps_to_run = [1, 2, 3, 4, 5]
    elif args.step:
        steps_to_run = sorted(args.step)
    else:
        print("Usage: python main.py --all OR --step 1 2 5")
        return

    logger.info(f"📂 Project Root: {paths['project_root']}")
    logger.info(f"📝 Story Folder: {STORY_FOLDER}")

    for step in steps_to_run:
        if step not in STEP_FILES:
            logger.warning(f"⚠️ Skipping invalid step {step}")
            continue
            
        logger.info(f"\n--- Running Step {step}: {STEP_FILES[step]['desc']} ---")
        
        if step == 5:
            success = process_step_5_parallel(paths)
        else:
            success = run_standard_step(step, paths)
            
        if not success:
            logger.error(f"⛔ Pipeline stopped at Step {step}")
            break

if __name__ == "__main__":
    main()


================================================================================
FILE: yt-python/requirements.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/yt-python/requirements.txt
ENCODING: utf-8
================================================================================

openai>=1.0.0
httpx>=0.24.0
tenacity>=8.2.0
python-dotenv>=1.0.0  # for environment variables
google-api-python-client>=2.0.0
google-auth-httplib2>=0.1.0
google-auth-oauthlib>=1.0.0
openai>=1.0.0
httpx>=0.24.0
openai>=1.0.0
httpx>=0.24.0
tenacity>=8.2.0




================================================================================
FILE: yt-python/audio-generator.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/audio-generator.py
ENCODING: utf-8
================================================================================

import os
import re
import argparse
from pathlib import Path
from typing import List, Dict, Optional, Any
from concurrent.futures import ThreadPoolExecutor, as_completed
import logging
from dotenv import load_dotenv
from elevenlabs.client import ElevenLabs

# ==============================================================================
# 1. CONFIGURATION
# ==============================================================================

load_dotenv()

# API Configuration
ELEVENLABS_API_KEY = os.getenv('ELEVENLABS_API_KEY', 'sk_24da67bfab1a2b87d79d4bad17d9c6e7fcc8dc9c3f04832a')

# Voice & Model Settings
VOICE_ID = "JBFqnCBsd6RMkjVDRZzb"
MODEL_ID = "eleven_flash_v2_5"
OUTPUT_FORMAT = "mp3_44100_128"

BASE_PROJECT_DIR = Path(__file__).parent.parent.resolve() 
MAX_WORKERS = 5

logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# Initialize Client
try:
    client = ElevenLabs(api_key=ELEVENLABS_API_KEY)
except Exception as e:
    logger.error(f"Failed to initialize ElevenLabs client: {e}")
    client = None

# ==============================================================================
# 2. DATA PARSING
# ==============================================================================

def parse_audio_segments(text_file_path: Path, limit: Optional[int] = None) -> List[Dict[str, Any]]:
    content = ""
    try:
        with open(text_file_path, 'r', encoding='utf-8') as f:
            content = f.read()
    except FileNotFoundError:
        logger.error(f"❌ Input file not found: {text_file_path}")
        return []
        
    segments = []
    
    # --- CLEANING STRATEGY ---
    
    # 1. Remove tags found in your data dump using Regex
    content = content.replace('\\', '')
    
    # 2. Remove backslashes safely using standard replace (NO REGEX HERE)
    content = content.replace('\\', '')
    
    # Split by lines
    lines = content.split('\n')
    
    valid_line_count = 0
    
    for i, line in enumerate(lines):
        clean_text = line.strip()
        
        # Skip empty lines
        if not clean_text: 
            continue
            
        # Skip file headers/separators if present in the data dump
        if "=====" in clean_text or "FILE:" in clean_text:
            continue

        valid_line_count += 1
        
        segments.append({
            'id': f"L{valid_line_count:03d}", # L001, L002...
            'text': clean_text,
            'original_index': valid_line_count
        })
            
        # Apply Testing Limit
        if limit is not None and len(segments) >= limit:
            logger.info(f"🛑 Testing Limit Reached: Stopping parsing after {limit} segments.")
            break
            
    return segments

# ==============================================================================
# 3. API EXECUTION
# ==============================================================================

def generate_single_audio(job_data: Dict[str, Any]) -> Optional[Dict[str, Any]]:
    if not client:
        return None

    # --- CONSOLE PREVIEW ---
    # Show first 100 chars so you can verify if tags like [brightly] are present
    print(f"\n🎙️ [PREVIEW] Generating {job_data['id']}:")
    print(f"   Text: {job_data['text'][:100]}...") 
    
    try:
        # ElevenLabs returns a generator of bytes
        audio_stream = client.text_to_speech.convert(
            text=job_data['text'],
            voice_id=VOICE_ID,
            model_id=MODEL_ID,
            output_format=OUTPUT_FORMAT
        )
        
        # Consume the generator to get full bytes
        audio_bytes = b""
        for chunk in audio_stream:
            if chunk:
                audio_bytes += chunk

        if len(audio_bytes) > 0:
            job_data['audio_bytes'] = audio_bytes
            job_data['success'] = True
            logger.info(f"✨ Success: {job_data['id']}")
            return job_data
        else:
            logger.error(f"❌ API returned empty bytes for {job_data['id']}")
            job_data['success'] = False
            return job_data
            
    except Exception as e:
        logger.error(f"⛔ Network/API Error {job_data['id']}: {e}")
        job_data['success'] = False
        return job_data

# ==============================================================================
# 4. MAIN
# ==============================================================================

def main():
    parser = argparse.ArgumentParser(description="ElevenLabs Audio Generator")
    
    # REQUIRED Arguments (No defaults allowed to force explicit paths)
    parser.add_argument('--channel', type=str, required=True, help="The channel folder name (REQUIRED)")
    parser.add_argument('--story', type=str, required=True, help="The story folder name (REQUIRED)")
    
    # Optional Arguments
    parser.add_argument('--file', type=str, default="audio-text.txt", help="Input text filename (Default: audio-text.txt)")
    
    # Runtime Parameters (Testing & Limits)
    parser.add_argument('--test', action='store_true', help="Enable testing mode (limits generation)")
    parser.add_argument('--limit', type=int, default=3, help="Number of lines to generate in test mode")
    
    args = parser.parse_args()

    # 1. Path Setup
    story_dir = BASE_PROJECT_DIR / args.channel / args.story
    input_file = story_dir / args.file
    
    if not story_dir.exists():
        logger.error(f"❌ Story directory not found: {story_dir}")
        return

    # Fallback Logic
    if not input_file.exists():
        logger.warning(f"⚠️ {input_file.name} not found. Checking narration.txt...")
        fallback_file = story_dir / "narration.txt"
        if fallback_file.exists():
            input_file = fallback_file
            logger.info(f"📂 Using: {input_file}")
        else:
            logger.error("❌ No text file found for audio generation.")
            return

    output_dir = story_dir / "audio"
    
    if not output_dir.exists():
        logger.info(f"📁 Creating directory: {output_dir}")
        output_dir.mkdir(parents=True, exist_ok=True)
    
    # 2. Determine Logic based on Runtime Flags
    if args.test:
        logger.warning(f"🧪 TESTING MODE ACTIVE: Generating only first {args.limit} lines.")
        job_limit = args.limit
    else:
        logger.info("🎬 FULL PRODUCTION MODE: Generating all lines.")
        job_limit = None
    
    # 3. Parse Jobs
    jobs = parse_audio_segments(input_file, limit=job_limit)
    
    if not jobs:
        logger.warning("No text segments found.")
        return

    # 4. Execute
    logger.info(f"🚀 Starting generation for {len(jobs)} audio segments...")
    with ThreadPoolExecutor(max_workers=MAX_WORKERS) as executor:
        future_to_job = {executor.submit(generate_single_audio, job): job for job in jobs}
        
        results = []
        for future in as_completed(future_to_job):
            if future.result(): results.append(future.result())

    # 5. Save Results
    results.sort(key=lambda x: x['original_index'])
    
    for result in results:
        if not result.get('success'): continue
        
        # Create filename: L001_TheFirstMove.mp3
        # Use simple alphanumeric cleaning for filename, but keep original text for API
        snippet = re.sub(r'[^a-zA-Z0-9]', '', result['text'][:20])
        filename = f"{result['id']}_{snippet}.mp3"
        
        try:
            with open(output_dir / filename, 'wb') as f:
                f.write(result['audio_bytes'])
        except Exception as e:
            logger.error(f"❌ Save Error: {e}")
            
    logger.info(f"✅ Pipeline Complete. Check {output_dir}")

if __name__ == "__main__":
    main()



================================================================================
FILE: yt-python/image_generator.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/image_generator.py
ENCODING: utf-8
================================================================================

import os
import re
import requests
import argparse
from pathlib import Path
from typing import List, Dict, Optional, Any
from concurrent.futures import ThreadPoolExecutor, as_completed
import logging

# ==============================================================================
# 1. CONFIGURATION
# ==============================================================================

STABILITY_API_KEY = os.getenv('STABILITY_API_KEY', 'sk-eR8zO8lXv8lglgjUz4O8ttX2yi9ftieJ9i2ZCheQd92KsGFS')
STABILITY_API_URL = "https://api.stability.ai/v2beta/stable-image/generate/core"

BASE_PROJECT_DIR = Path(__file__).parent.parent.resolve() 

MAX_WORKERS = 5
DEFAULT_STYLE_PRESET = "cinematic"
DEFAULT_SEED = 12345 
OUTPUT_FORMAT = "webp"

# --- SAFETY: TESTING MODE ---
# Set to True to generate only a few images (saves credits)
# Set to False to generate the whole story
TESTING_MODE_FLAG = True 
TEST_LIMIT = 2 

logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# ==============================================================================
# 2. DATA PARSING
# ==============================================================================

def parse_image_prompts(prompts_file_path: Path, limit: Optional[int] = None) -> List[Dict[str, str]]:
    content = ""
    try:
        with open(prompts_file_path, 'r', encoding='utf-8') as f:
            content = f.read()
    except FileNotFoundError:
        logger.error(f"❌ Input file not found: {prompts_file_path}")
        return []
        
    prompts_list = []
    blocks = re.split(r'(?=\={3}\s*SCENE\s+\d+.*?\={3})', content, flags=re.IGNORECASE | re.DOTALL)
    
    for i, block in enumerate(blocks):
        if not block.strip() or "SCENE" not in block: continue
            
        match = re.search(r'^\={3}\s*(.*?)\s*\={3}\s*(.*)', block.strip(), re.DOTALL)
        
        if match:
            full_header = match.group(1).strip()
            raw_prompt = match.group(2).strip()
            
            # --- MINIMAL CLEANING (Relying on Prompt Template for Syntax) ---
            # We only strip parameters that go into the API payload (--ar, --stylize)
            # We do NOT replace '::' or change text structure anymore.
            clean_prompt = re.sub(r'--ar\s+[\d:]+|--stylize\s+\d+|--v\s+\d+(\.\d+)?', '', raw_prompt)
            clean_prompt = " ".join(clean_prompt.split()).strip()

            # Naming Logic
            name_match = re.search(r'SCENE\s+(\d+):\s*(.*?)\s*-\s*SHOT\s+(\d+)\s*(.*)', full_header, re.IGNORECASE)
            scene_num = int(name_match.group(1)) if name_match and name_match.group(1).isdigit() else i
            shot_num = int(name_match.group(3)) if name_match and name_match.group(3).isdigit() else 1
            scene_name = name_match.group(2).strip().replace(':', '') if name_match else f"Scene{scene_num}"
            shot_type = name_match.group(4).strip().replace('=', '') if name_match else "Shot"
            
            ar_match = re.search(r'--ar\s+([\d:]+)', raw_prompt)
            aspect_ratio = ar_match.group(1) if ar_match else "16:9"

            prompts_list.append({
                'id': f"S{scene_num:02d}_SH{shot_num:02d}",
                'scene_name_short': f"{scene_name.split()[0]}{shot_type.split()[0]}",
                'prompt': clean_prompt,
                'aspect_ratio': aspect_ratio,
                'original_index': len(prompts_list) 
            })
            
        # Apply Testing Limit
        if limit is not None and len(prompts_list) >= limit:
            logger.info(f"🛑 Testing Limit Reached: Stopping parsing after {limit} prompts.")
            break
            
    return prompts_list

# ==============================================================================
# 3. API EXECUTION
# ==============================================================================

def generate_single_image(job_data: Dict[str, Any], api_key: str) -> Optional[Dict[str, Any]]:
    # --- CONSOLE PREVIEW ---
    print(f"\n🎨 [PREVIEW] Generating {job_data['id']}:")
    print(f"   Prompt: {job_data['prompt'][:150]}...") 
    print(f"   Aspect Ratio: {job_data['aspect_ratio']}")
    
    payload = {
        "prompt": (None, job_data['prompt']),
        "output_format": (None, OUTPUT_FORMAT),
        "aspect_ratio": (None, job_data['aspect_ratio']),
        "style_preset": (None, DEFAULT_STYLE_PRESET),
        "seed": (None, str(DEFAULT_SEED))
    }
    headers = {
        "authorization": f"Bearer {api_key}",
        "accept": "image/*"
    }

    try:
        response = requests.post(STABILITY_API_URL, headers=headers, files=payload, timeout=120)
        if response.status_code == 200:
            job_data['image_bytes'] = response.content
            job_data['success'] = True
            logger.info(f"✨ Success: {job_data['id']}")
            return job_data
        else:
            logger.error(f"❌ API Error {job_data['id']}: {response.text[:200]}")
            job_data['success'] = False
            return job_data
    except Exception as e:
        logger.error(f"⛔ Network Error {job_data['id']}: {e}")
        job_data['success'] = False
        return job_data

# ==============================================================================
# 4. MAIN
# ==============================================================================

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument('--channel', type=str, default="channel", help="The channel folder name")
    parser.add_argument('--story', type=str, default="ranpuzel", help="The story folder name")
    args = parser.parse_args()

    # 1. Path Setup
    story_dir = BASE_PROJECT_DIR / args.channel / args.story
    prompts_file = story_dir / "image_prompt.txt"
    output_dir = story_dir / "images"
    
    if not output_dir.exists():
        logger.info(f"📁 Creating directory: {output_dir}")
        output_dir.mkdir(parents=True, exist_ok=True)
    
    # 2. Determine Limit
    job_limit = TEST_LIMIT if TESTING_MODE_FLAG else None
    if TESTING_MODE_FLAG:
        logger.warning(f"🧪 TESTING MODE ACTIVE: Only generating first {TEST_LIMIT} images.")
    
    # 3. Parse with Limit
    jobs = parse_image_prompts(prompts_file, limit=job_limit)
    
    if not jobs:
        logger.warning("No jobs found.")
        return

    # 4. Execute
    logger.info(f"🚀 Starting generation for {len(jobs)} images...")
    with ThreadPoolExecutor(max_workers=MAX_WORKERS) as executor:
        future_to_job = {executor.submit(generate_single_image, job, STABILITY_API_KEY): job for job in jobs}
        
        results = []
        for future in as_completed(future_to_job):
            if future.result(): results.append(future.result())

    # 5. Save
    results.sort(key=lambda x: x['original_index'])
    
    for result in results:
        if not result.get('success'): continue
        sanitized_name = re.sub(r'[^a-zA-Z0-9_]', '', result['scene_name_short'])
        filename = f"{result['id']}_{sanitized_name}.{OUTPUT_FORMAT}"
        
        try:
            with open(output_dir / filename, 'wb') as f:
                f.write(result['image_bytes'])
        except Exception as e:
            logger.error(f"❌ Save Error: {e}")
            
    logger.info(f"✅ Pipeline Complete. Check {output_dir}")

if __name__ == "__main__":
    main()


================================================================================
FILE: yt-python/main.py
EXTENSION: .py
FULL PATH: /root/Desktop/yt-automation/yt-python/main.py
ENCODING: utf-8
================================================================================

import re
import os
import urllib3
import httpx
from openai import OpenAI
import datetime
from pathlib import Path
from typing import Optional, List, Dict, Any
import logging
import time
import chardet
import json
import argparse
import threading
from concurrent.futures import ThreadPoolExecutor, as_completed

# ===== CONFIGURATION VARIABLES =====
BASE_PROJECT = "yt-automation"
CHANNEL_FOLDER = "channel"
STORY_FOLDER = "ranpuzel"

# Ensure you have your API Key set in environment variables or hardcoded here safely
DEEPSEEK_API_KEY = os.getenv('DEEPSEEK_API_KEY', 'sk-df60b28326444de6859976f6e603fd9c')
DEEPSEEK_MODEL = "deepseek-chat"
DEEPSEEK_MAX_TOKENS = 4000
DEEPSEEK_TEMPERATURE = 0.7

# Prompt files mapping
STEP_FILES = {
    1: {"prompt": "step-1_narration_framework_prompt.txt", "output": "narration_framework.txt", "desc": "Narration Framework"},
    2: {"prompt": "step-2_narration_prompt.txt", "output": "narration.txt", "desc": "Final Narration"},
    3: {"prompt": "step-3_charactersheet_prompt.txt", "output": "character_sheet.txt", "desc": "Character Sheet"},
    4: {"prompt": "step-4_scene_prompt.txt", "output": "scenes.txt", "desc": "Scene Breakdown"},
    5: {"prompt": "step-5_image_prompt.txt", "output": "image_prompt.txt", "desc": "Image Prompts"}
}

HISTORY_FILE = "ai_history.json"

# ===== LOGGING SETUP =====
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)
logger = logging.getLogger(__name__)

# ===== TEXT CLEANING =====
def clean_text_preserve_punctuation(text: str) -> str:
    if not text: return text
    # Clean some markdown artifacts but keep structure
    text = re.sub(r'[*`~^_\\|@\[\]{}()<>]', '', text) 
    text = re.sub(r' +', ' ', text)
    text = re.sub(r'\n\s*\n', '\n\n', text)
    return text.strip()

# ===== PATH HANDLING =====
def build_paths(base_project: str, channel_folder: str, story_folder: str) -> Dict[str, Path]:
    script_dir = Path(__file__).parent
    project_root = script_dir.parent if script_dir.name == "yt-python" else Path.cwd()
    
    channel_dir = project_root / channel_folder
    story_dir = channel_dir / story_folder
    
    paths = {
        'project_root': project_root,
        'channel_dir': channel_dir,
        'story_dir': story_dir,
        'story_file': story_dir / "story.txt",
        'history_file': channel_dir / HISTORY_FILE
    }
    
    # Add step-specific paths
    for step, data in STEP_FILES.items():
        paths[f'step{step}_prompt'] = channel_dir / data['prompt']
        paths[f'step{step}_output'] = story_dir / data['output']
        
    return paths

# ===== DEEPSEEK CLIENT =====
class DeepSeekNarrator:
    def __init__(self, api_key: str, history_file: Path):
        self.api_key = api_key
        self.history_file = history_file
        self.client = None
        self.is_available = False
        self.lock = threading.Lock()
        self._initialize_client()
        self._migrate_legacy_history()

    def _initialize_client(self):
        try:
            urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)
            http_client = httpx.Client(verify=False, timeout=60.0)
            self.client = OpenAI(
                api_key=self.api_key, 
                base_url="https://api.deepseek.com", 
                http_client=http_client, 
                max_retries=2
            )
            # Simple connection test
            self.client.models.list()
            logger.info("✅ DeepSeek AI client initialized")
            self.is_available = True
        except Exception as e:
            logger.error(f"❌ DeepSeek client failed: {e}")
            self.is_available = False

    def _migrate_legacy_history(self):
        """Handle migration from old .txt history to .json"""
        txt_path = self.history_file.with_suffix('.txt')
        if txt_path.exists() and not self.history_file.exists():
            logger.warning("Found legacy history file. Archiving as .old and starting fresh JSON history.")
            txt_path.rename(txt_path.with_suffix('.txt.old'))

    def _load_history(self) -> List[Dict]:
        if not self.history_file.exists():
            return []
        try:
            with open(self.history_file, 'r', encoding='utf-8') as f:
                return json.load(f)
        except (json.JSONDecodeError, IOError):
            logger.error("⚠️ History file corrupted, starting fresh.")
            return []

    def _save_interaction(self, prompt: str, story: str, response: str):
        """Thread-safe JSON append"""
        entry = {
            "timestamp": datetime.datetime.now().isoformat(),
            "folder": STORY_FOLDER,
            "prompt": prompt,
            "story_snippet": story[:200] + "..." if len(story) > 200 else story,
            "response": response
        }
        with self.lock:
            history = self._load_history()
            history.append(entry)
            if len(history) > 50:
                history = history[-50:]
            
            with open(self.history_file, 'w', encoding='utf-8') as f:
                json.dump(history, f, indent=2, ensure_ascii=False)

    def generate_narration(self, prompt: str, story_content: str, use_history: bool = True) -> Optional[str]:
        if not self.is_available: return None

        try:
            messages = []
            
            # Inject history only if requested (Optimizes tokens for Step 5)
            if use_history:
                history_data = self._load_history()
                # Get last 3 relevant exchanges
                context_str = "\n".join([
                    f"User: {h['prompt']}\nAI: {h['response']}" 
                    for h in history_data[-3:]
                ])
                if context_str:
                    messages.append({"role": "system", "content": f"Previous Context:\n{context_str}"})

            user_content = f"{prompt}\n\n=== STORY DATA ===\n{story_content}"
            messages.append({"role": "user", "content": user_content})

            response = self.client.chat.completions.create(
                model=DEEPSEEK_MODEL,
                messages=messages,
                max_tokens=DEEPSEEK_MAX_TOKENS,
                temperature=DEEPSEEK_TEMPERATURE
            )
            
            narration = clean_text_preserve_punctuation(response.choices[0].message.content.strip())
            
            self._save_interaction(prompt, story_content, narration)
            return narration
            
        except Exception as e:
            logger.error(f"❌ Generation failed: {e}")
            return None

# ===== FILE OPERATIONS =====
def read_file(path: Path) -> Optional[str]:
    if not path.exists(): return None
    try:
        with open(path, 'r', encoding='utf-8') as f: return f.read().strip()
    except UnicodeDecodeError:
        try:
            raw = path.read_bytes()
            enc = chardet.detect(raw)['encoding'] or 'utf-8'
            return raw.decode(enc).strip()
        except Exception:
            return None

def write_file(path: Path, content: str) -> bool:
    try:
        path.parent.mkdir(parents=True, exist_ok=True)
        with open(path, 'w', encoding='utf-8') as f: f.write(content)
        return True
    except Exception as e:
        logger.error(f"❌ Write error {path.name}: {e}")
        return False

# ===== ROBUST PARSING LOGIC (FIXED) =====
def parse_scenes_robust(content: str) -> List[Dict]:
    """
    Robustly parses scenes using a state machine approach.
    Handles variations like:
    - "Scene 1" vs "SCENE 1" vs "## Scene 1"
    - "Shot 1" vs "SHOT 1" vs "1. Shot"
    """
    structured_data = []
    
    # Normalize line endings and split
    lines = content.replace('\r\n', '\n').split('\n')
    
    current_scene_header = "Unknown Scene"
    current_visual_anchor = "A cinematic background."
    current_shot_buffer = []
    current_shot_header = ""
    
    # Regex patterns for flexibility
    scene_pattern = re.compile(r'^(?:#+\s*)?(?:SCENE|Scene)\s+(\d+)', re.IGNORECASE)
    anchor_pattern = re.compile(r'(?:Visual Anchor|Setting|Background):\s*(.*)', re.IGNORECASE)
    shot_pattern = re.compile(r'^(?:#+\s*)?(?:SHOT|Shot)\s+(\d+)', re.IGNORECASE)

    def save_current_shot():
        if current_shot_header and current_shot_buffer:
            # Flatten buffer to text
            shot_text = "\n".join(current_shot_buffer).strip()
            # Create composite input for Step 5
            composite_input = (
                f"CONTEXT: {current_scene_header}\n"
                f"VISUAL ANCHOR: {current_visual_anchor}\n"
                f"SPECIFIC SHOT DETAILS:\n{shot_text}"
            )
            structured_data.append({
                'id': f"{current_scene_header} - {current_shot_header}",
                'full_text': composite_input
            })

    for line in lines:
        line_clean = line.strip().replace('*', '') # Remove bolding for checking
        
        # 1. Detect Scene Header
        if scene_pattern.search(line_clean):
            save_current_shot() # Save previous shot if exists
            current_scene_header = line.strip().replace('*', '').replace('#', '')
            # Reset for new scene
            current_shot_buffer = []
            current_shot_header = ""
            current_visual_anchor = "A cinematic background." # Reset anchor
            continue
            
        # 2. Detect Visual Anchor
        anchor_match = anchor_pattern.search(line_clean)
        if anchor_match:
            current_visual_anchor = anchor_match.group(1).strip()
            continue
            
        # 3. Detect Shot Header
        shot_match = shot_pattern.search(line_clean)
        if shot_match:
            save_current_shot() # Save previous shot
            current_shot_header = line.strip().replace('*', '')
            current_shot_buffer = [] # Start new buffer
            continue
            
        # 4. Accumulate Content (if inside a shot)
        if current_shot_header:
            current_shot_buffer.append(line)

    # Save the very last shot
    save_current_shot()
    
    return structured_data

# ===== STEP 5 LOGIC (FIXED) =====
def process_step_5_parallel(paths: Dict[str, Path]) -> bool:
    """Updated to handle Shot-level generation with Character Consistency Injection"""
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False
    
    prompt_template = read_file(paths['step5_prompt'])
    scenes_content = read_file(paths['step4_output'])
    
    # CRITICAL FIX 1: Read Character Sheet for visual consistency
    character_sheet = read_file(paths['step3_output']) 
    if not character_sheet:
        logger.warning("⚠️ Character sheet not found. Visuals may be inconsistent.")
        character_sheet = "No character definitions provided."
    
    # CRITICAL FIX 2: Use Robust Parser
    shots_to_process = parse_scenes_robust(scenes_content)
    
    if not shots_to_process:
        logger.error("❌ No shots found to process. Check Step 4 output format.")
        return False
        
    logger.info(f"🚀 Starting parallel generation for {len(shots_to_process)} shots...")
    
    results = {}
    
    def process_single_shot(shot_data):
        # CRITICAL FIX 3: Inject Character Data into the prompt
        prompt_input = (
            f"{prompt_template}\n\n"
            f"=== REFERENCE: CHARACTER VISUALS (STRICT ADHERENCE) ===\n"
            f"{character_sheet}\n\n"
            f"=== INPUT DATA (SCENE & SHOT) ===\n"
            f"{shot_data['full_text']}"
        )
        # We assume the Prompt Template instructs the AI to use this data
        result = narrator.generate_narration(prompt_template, prompt_input, use_history=False)
        return shot_data['id'], result

    with ThreadPoolExecutor(max_workers=5) as executor:
        future_to_shot = {executor.submit(process_single_shot, s): s for s in shots_to_process}
        
        for future in as_completed(future_to_shot):
            shot_id, output = future.result()
            if output:
                results[shot_id] = output
                logger.info(f"✅ Finished {shot_id}")
            else:
                results[shot_id] = "[Generation Failed]"

    # Reconstruct Output
    final_output = "IMAGE PROMPTS:\n\n"
    # Sort keys to ensure Scene 1 Shot 1 comes before Scene 1 Shot 2
    for key in sorted(results.keys()): 
        final_output += f"=== {key} ===\n{results[key]}\n\n"
        
    return write_file(paths['step5_output'], final_output)

def run_standard_step(step_num: int, paths: Dict[str, Path]) -> bool:
    narrator = DeepSeekNarrator(DEEPSEEK_API_KEY, paths['history_file'])
    if not narrator.is_available: return False

    config = STEP_FILES[step_num]
    prompt = read_file(paths[f'step{step_num}_prompt'])
    
    # Gather inputs based on step logic
    inputs = ""
    if step_num == 1:
        inputs = read_file(paths['story_file'])
    elif step_num == 2:
        story = read_file(paths['story_file'])
        framework = read_file(paths['step1_output'])
        if not framework: return False
        inputs = f"STORY:\n{story}\n\nFRAMEWORK:\n{framework}"
    elif step_num == 4:
        # Step 4 needs BOTH Narration and Character Sheets
        narration = read_file(paths['step2_output'])
        chars = read_file(paths['step3_output'])
        inputs = f"STORY:\n{narration}\n\nCHARACTER DESIGNS (STRICT REFERENCE):\n{chars}"
    elif step_num in [3]:
        inputs = read_file(paths['step2_output']) # Needs narration
        
    if not prompt or not inputs:
        logger.error(f"❌ Missing inputs for Step {step_num}")
        return False

    result = narrator.generate_narration(prompt, inputs, use_history=True)
    if result:
        write_file(paths[f'step{step_num}_output'], result)
        logger.info(f"✅ Step {step_num} ({config['desc']}) Complete")
        return True
    return False

# ===== MAIN EXECUTION =====
def main():
    parser = argparse.ArgumentParser(description="YouTube Automation Pipeline")
    parser.add_argument('--step', type=int, nargs='+', help="Run specific steps (e.g., --step 1 2 5)")
    parser.add_argument('--all', action='store_true', help="Run all steps 1-5")
    args = parser.parse_args()

    paths = build_paths(BASE_PROJECT, CHANNEL_FOLDER, STORY_FOLDER)
    
    # Determine steps to run
    steps_to_run = []
    if args.all:
        steps_to_run = [1, 2, 3, 4, 5]
    elif args.step:
        steps_to_run = sorted(args.step)
    else:
        print("Usage: python main.py --all OR --step 1 2 5")
        return

    logger.info(f"📂 Project Root: {paths['project_root']}")
    logger.info(f"📝 Story Folder: {STORY_FOLDER}")

    for step in steps_to_run:
        if step not in STEP_FILES:
            logger.warning(f"⚠️ Skipping invalid step {step}")
            continue
            
        logger.info(f"\n--- Running Step {step}: {STEP_FILES[step]['desc']} ---")
        
        if step == 5:
            success = process_step_5_parallel(paths)
        else:
            success = run_standard_step(step, paths)
            
        if not success:
            logger.error(f"⛔ Pipeline stopped at Step {step}")
            break

if __name__ == "__main__":
    main()


================================================================================
FILE: yt-python/requirements.txt
EXTENSION: .txt
FULL PATH: /root/Desktop/yt-automation/yt-python/requirements.txt
ENCODING: utf-8
================================================================================

openai>=1.0.0
httpx>=0.24.0
tenacity>=8.2.0
python-dotenv>=1.0.0  # for environment variables
google-api-python-client>=2.0.0
google-auth-httplib2>=0.1.0
google-auth-oauthlib>=1.0.0
openai>=1.0.0
httpx>=0.24.0
openai>=1.0.0
httpx>=0.24.0
tenacity>=8.2.0

